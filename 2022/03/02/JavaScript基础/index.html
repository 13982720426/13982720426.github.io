

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="jackhoo">
  <meta name="keywords" content="">
  
  <title>JavaScript基础 - jackhoo</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/%E6%AC%A2%E8%BF%8E%E5%A4%A7%E5%AE%B6%E6%9D%A5%E5%88%B0%E6%88%91%E7%9A%84%E5%8D%9A%E5%AE%A2%EF%BC%8C%E8%AF%B7%E5%B0%BD%E6%83%85%E7%95%99%E8%A8%80%E5%90%A7%EF%BC%81/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.6.0/styles/hybrid.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"13982720426.github.io","root":"/","version":"1.8.10","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"wvn0ubBMNgOQNv8Swlonq3X9-gzGzoHsz","app_key":"BlsdS19vhoVr77n1TiE2diHr","server_url":"https://wvn0ubbm.lc-cn-n1-shared.com"}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>jackhoo的博客</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" target="_blank" rel="noopener" href="https://github.com/13982720426/">
                <i class="iconfont icon-github-fill"></i>
                GitHub
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/bg2.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="JavaScript基础">
              
            </span>

            
              <div class="mt-3">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-author" aria-hidden="true"></i>
      jackhoo
    </span>
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-03-02 15:51" pubdate>
        星期三, 三月 2日 2022, 3:51 下午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      20.1k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      317
       分钟
    </span>
  

  
  
    
      <!-- LeanCloud 统计文章PV -->
      <span id="leancloud-page-views-container" class="post-meta" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="leancloud-page-views"></span> 次
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">JavaScript基础</h1>
            
              <p class="note note-info">
                
                  本文最后更新于：4 天前
                
              </p>
            
            <div class="markdown-body">
              <h1 id="JavaScript基础"><a href="#JavaScript基础" class="headerlink" title="JavaScript基础"></a>JavaScript基础</h1><h2 id="五大浏览器内核"><a href="#五大浏览器内核" class="headerlink" title="五大浏览器内核"></a>五大浏览器内核</h2><table>
<thead>
<tr>
<th>五大主浏览器</th>
<th>内核</th>
</tr>
</thead>
<tbody><tr>
<td>IE</td>
<td>Trident</td>
</tr>
<tr>
<td>Chrome</td>
<td>Webkit  Blink</td>
</tr>
<tr>
<td>Safari</td>
<td>Webkit</td>
</tr>
<tr>
<td>Firefox</td>
<td>Gecko</td>
</tr>
<tr>
<td>Opera</td>
<td>Presto</td>
</tr>
</tbody></table>
<p><a target="_blank" rel="noopener" href="http://imgs.jackhoo.icu/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%86%85%E6%A0%B8.png"><img src="https://cdn.nlark.com/yuque/0/2022/png/2625525/1644409087502-f364f584-3a8a-401f-874f-a02e294f164f.png#clientId=u1d12baa2-abb1-4&crop=0&crop=0.0261&crop=1&crop=1&from=paste&height=421&id=u57cf716b&margin=%5Bobject%20Object%5D&name=image.png&originHeight=182&originWidth=320&originalType=binary&ratio=1&rotation=0&showTitle=false&size=61598&status=done&style=none&taskId=uf879e32c-d1f7-4d15-953d-b5da65233af&title=&width=741" srcset="/img/loading.gif" lazyload alt="image.png"></a></p>
<h2 id="单线程"><a href="#单线程" class="headerlink" title="单线程"></a>单线程</h2><p>JS引擎是单线程，但是他会模拟多线程</p>
<h3 id="轮转时间片"><a href="#轮转时间片" class="headerlink" title="轮转时间片"></a>轮转时间片</h3><p>短时间之内轮流执行多个任务的片段</p>
<ol>
<li>任务一    任务二</li>
<li>切分任务一     任务二</li>
<li>随机排列这些任务片段，组成队列</li>
<li>按照这个队列顺序将任务片段送进JS进程</li>
<li>JS线程执行一个又一个的任务片段</li>
</ol>
<p>​</p>
<h2 id="命名规范"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范</h2><p>不能以数字开头，可以字母_$开头，非开头部分可以写字母_$数字<br>不能使用关键字、保留字，注意要语义化、结构化<br>推荐小驼峰或者驼峰命名<br>​</p>
<h2 id="JS值"><a href="#JS值" class="headerlink" title="JS值"></a>JS值</h2><p>原始值(基本类型数据)、引用值(引用类型数据)</p>
<h3 id="原始值"><a href="#原始值" class="headerlink" title="原始值"></a>原始值</h3><p>Number、String、Boolean、Undefined、null、Symbol、BigInt</p>
<h3 id="引用值"><a href="#引用值" class="headerlink" title="引用值"></a>引用值</h3><p>Array、Object、Function<br>​</p>
<h2 id="运算"><a href="#运算" class="headerlink" title="运算"></a>运算</h2><h3 id="普通运算"><a href="#普通运算" class="headerlink" title="普通运算"></a>普通运算</h3><h4 id="加法"><a href="#加法" class="headerlink" title="加法"></a>加法</h4><h5 id="字符串拼接"><a href="#字符串拼接" class="headerlink" title="字符串拼接"></a>字符串拼接</h5><p><strong>任何数据类型的值 + 字符串都是字符串</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">c = <span class="hljs-string">&#x27;str&#x27;</span> + <span class="hljs-number">1</span> + <span class="hljs-number">1</span> <span class="hljs-comment">//str11</span><br>c = <span class="hljs-string">&#x27;str&#x27;</span> + <span class="hljs-literal">NaN</span> <span class="hljs-comment">//strNaN</span><br>c = <span class="hljs-string">&#x27;str&#x27;</span> + <span class="hljs-literal">true</span> <span class="hljs-comment">//strtrue</span><br></code></pre></div></td></tr></table></figure>
<h5 id="运算符优先级"><a href="#运算符优先级" class="headerlink" title="运算符优先级"></a>运算符优先级</h5><p><strong>括号运算 &gt; 普通运算 &gt;赋值</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">c = <span class="hljs-number">1</span> + <span class="hljs-number">1</span> + <span class="hljs-string">&#x27;str&#x27;</span> + (<span class="hljs-number">1</span> + <span class="hljs-number">1</span>) <span class="hljs-comment">//2str2</span><br></code></pre></div></td></tr></table></figure>
<h4 id="除法"><a href="#除法" class="headerlink" title="除法"></a>除法</h4><p><strong>NaN</strong>非数，数字类型</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">c = <span class="hljs-number">2</span> / <span class="hljs-number">1</span> <span class="hljs-comment">//2</span><br>c = <span class="hljs-number">0</span> / <span class="hljs-number">0</span> <span class="hljs-comment">//NaN</span><br>c = <span class="hljs-string">&#x27;a&#x27;</span> / <span class="hljs-string">&#x27;b&#x27;</span> <span class="hljs-comment">//NaN</span><br>c = <span class="hljs-literal">NaN</span> / <span class="hljs-literal">NaN</span> <span class="hljs-comment">//NaN</span><br>c = <span class="hljs-literal">NaN</span> / <span class="hljs-number">1</span> <span class="hljs-comment">//NaN</span><br>c = <span class="hljs-number">1</span> / <span class="hljs-literal">NaN</span> <span class="hljs-comment">//NaN</span><br></code></pre></div></td></tr></table></figure>
<p>**Infinity **无穷，数字类型</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">c = <span class="hljs-number">1</span> / <span class="hljs-number">0</span> <span class="hljs-comment">//Infinity</span><br>c = -<span class="hljs-number">1</span> / <span class="hljs-number">0</span> <span class="hljs-comment">//-Infinity</span><br></code></pre></div></td></tr></table></figure>
<h4 id="取余（模）"><a href="#取余（模）" class="headerlink" title="取余（模）"></a>取余（模）</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">c = <span class="hljs-number">6</span> % <span class="hljs-number">4</span> <span class="hljs-comment">//2</span><br>c = <span class="hljs-number">7</span> % <span class="hljs-number">3</span> <span class="hljs-comment">//1</span><br>c = <span class="hljs-number">0</span> % <span class="hljs-number">3</span> <span class="hljs-comment">//0</span><br></code></pre></div></td></tr></table></figure>
<h4 id="交换值"><a href="#交换值" class="headerlink" title="交换值"></a>交换值</h4><p>ab值交换</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">//方法一</span><br><span class="hljs-keyword">let</span> c,<br>    a = <span class="hljs-number">1</span>,<br>    b = <span class="hljs-number">2</span><br>c = a<br>a = b<br>b = c<br><br><span class="hljs-comment">//方法二</span><br><span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span><br>    b = <span class="hljs-number">2</span><br>a = a + b <span class="hljs-comment">//a=3</span><br>b = a - b <span class="hljs-comment">//3-2=1</span><br>a = a - b <span class="hljs-comment">//3-1=2</span><br><span class="hljs-built_in">console</span>.log(a, b)<br></code></pre></div></td></tr></table></figure>
<h4 id="，–"><a href="#，–" class="headerlink" title="++，–"></a>++，–</h4><p>a++先打印后运算</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span><br><span class="hljs-built_in">console</span>.log(a++) <span class="hljs-comment">//1 先打印后运算</span><br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//2</span><br></code></pre></div></td></tr></table></figure>
<p>++a先运算后打印</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span><br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//1</span><br><span class="hljs-built_in">console</span>.log(++a) <span class="hljs-comment">//2 先运算后打印</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">5</span>,<br>  b<br>b = a++ + <span class="hljs-number">1</span> <span class="hljs-comment">//b = 1 + a++  1 + 5 </span><br><span class="hljs-built_in">console</span>.log(a, b) <span class="hljs-comment">//6 , 6 运算 赋值完成之后才打印，所以a是6</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">5</span>,<br>  b<br>b = a-- + --a <span class="hljs-comment">//b = --a + a--  4 + 4</span><br><span class="hljs-built_in">console</span>.log(a, b) <span class="hljs-comment">//3 , 8</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">5</span>,<br>  b<br>b = --a + --a <span class="hljs-comment">//4 + 3</span><br><span class="hljs-built_in">console</span>.log(a, b) <span class="hljs-comment">//3 , 7</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">5</span>,<br>  b<br>b = --a + a++ <span class="hljs-comment">//4 + 4</span><br><span class="hljs-built_in">console</span>.log(a, b) <span class="hljs-comment">//5 , 8</span><br></code></pre></div></td></tr></table></figure>
<h3 id="比较运算"><a href="#比较运算" class="headerlink" title="比较运算"></a>比较运算</h3><p><strong>&lt;  &gt; =  &lt;=  ==  ===  !=  !==</strong></p>
<h4 id="纯数字比较就是"><a href="#纯数字比较就是" class="headerlink" title="纯数字比较就是"></a>纯数字比较就是</h4><p>number - number</p>
<h4 id="数字和字符串比较"><a href="#数字和字符串比较" class="headerlink" title="数字和字符串比较"></a>数字和字符串比较</h4><p>string先转化成number 在进行比较</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> bool = <span class="hljs-number">1</span> &gt; <span class="hljs-string">&#x27;2&#x27;</span> <span class="hljs-comment">//false</span><br></code></pre></div></td></tr></table></figure>
<h4 id="字符串和字符串比较"><a href="#字符串和字符串比较" class="headerlink" title="字符串和字符串比较"></a>字符串和字符串比较</h4><p>字符串转换对应ASCII字码表对应的数值，多个字符的，从左到右一次对比，直到比较出大小为止</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> bool = <span class="hljs-string">&#x27;3.5&#x27;</span> &gt; <span class="hljs-string">&#x27;11&#x27;</span> <span class="hljs-comment">//true</span><br></code></pre></div></td></tr></table></figure>
<h4 id="相等"><a href="#相等" class="headerlink" title="相等"></a>相等</h4><p>相等是不看数据类型，全等要看数据类型是否相等</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> bool = <span class="hljs-number">1</span> == <span class="hljs-string">&#x27;1&#x27;</span> <span class="hljs-comment">//true</span><br><span class="hljs-keyword">let</span> bool = <span class="hljs-number">1</span> === <span class="hljs-string">&#x27;1&#x27;</span> <span class="hljs-comment">//false</span><br></code></pre></div></td></tr></table></figure>
<h4 id="不相等"><a href="#不相等" class="headerlink" title="不相等"></a>不相等</h4><p>NaN与任何东西(包括自己)都不相等</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> bool = <span class="hljs-literal">NaN</span> === <span class="hljs-literal">NaN</span> <span class="hljs-comment">//false</span><br></code></pre></div></td></tr></table></figure>
<h3 id="逻辑运算"><a href="#逻辑运算" class="headerlink" title="逻辑运算"></a>逻辑运算</h3><p><strong>与&amp;&amp;    或||        非!</strong><br>​</p>
<p><code>undefined，null，NaN，&quot;&quot;，0，false</code>除以上以外全部都是真<br>“ “ 有空格不是空字符串，是真</p>
<h4 id="amp-amp"><a href="#amp-amp" class="headerlink" title="&amp;&amp;"></a>&amp;&amp;</h4><p>遇到真就往后走，遇到假或者到最后就返回当前的值</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span> &amp;&amp; <span class="hljs-number">2</span> <span class="hljs-comment">//2</span><br><span class="hljs-keyword">let</span> b = <span class="hljs-number">1</span> &amp;&amp; <span class="hljs-number">2</span> &amp;&amp; <span class="hljs-literal">undefined</span> &amp;&amp; <span class="hljs-number">10</span> <span class="hljs-comment">//undefined</span><br><span class="hljs-comment">//1 &amp;&amp; 1 返回1 真</span><br><span class="hljs-comment">//0 &amp;&amp; 1 返回0 假</span><br><span class="hljs-comment">//1 &amp;&amp; 0 返回0 假</span><br><span class="hljs-comment">//0 &amp;&amp; 0 返回0 假</span><br></code></pre></div></td></tr></table></figure>
<h4 id=""><a href="#" class="headerlink" title="||"></a>||</h4><p>遇到假就往后走，遇到真或者走到最后就返回当前的值</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> c = <span class="hljs-number">0</span> || <span class="hljs-literal">null</span> || <span class="hljs-number">1</span> || <span class="hljs-number">0</span> <span class="hljs-comment">//1</span><br><span class="hljs-comment">//1 || 1 返回1 真</span><br><span class="hljs-comment">//0 || 1 返回1 真</span><br><span class="hljs-comment">//1 || 0 返回1 真</span><br><span class="hljs-comment">//0 || 0 返回0 假</span><br></code></pre></div></td></tr></table></figure>
<h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h3><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">10</span>;i++)&#123;<br>	<span class="hljs-built_in">console</span>.log(i)<br>&#125;<br></code></pre></div></td></tr></table></figure>
<h4 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">//1、声明变量i=0</span><br><span class="hljs-comment">//2、if(i &lt; 10)&#123;</span><br><span class="hljs-comment">// console.log(i)</span><br><span class="hljs-comment">//&#125;</span><br><span class="hljs-comment">//3、i++</span><br><span class="hljs-comment">//2、if(i &lt; 10)&#123;不满足条件停止循环</span><br><span class="hljs-comment">//console.log(i);</span><br><span class="hljs-comment">//&#125;</span><br><span class="hljs-comment">//3、i++</span><br></code></pre></div></td></tr></table></figure>
<h4 id="拆解步骤"><a href="#拆解步骤" class="headerlink" title="拆解步骤"></a>拆解步骤</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(;i &lt; <span class="hljs-number">10</span>;)&#123;<br>	<span class="hljs-built_in">console</span>.log(i);<br>	i++;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<h3 id="for循环转换为while循环"><a href="#for循环转换为while循环" class="headerlink" title="for循环转换为while循环"></a>for循环转换为while循环</h3><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span><br><span class="hljs-keyword">while</span> (i &lt; <span class="hljs-number">10</span>) &#123;<br>  <span class="hljs-built_in">console</span>.log(i)<br>  i++<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>打印0-100的数，( ) 只能有一个，不能写比较，{ } 不能出现 i++ i–</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> i = <span class="hljs-number">101</span><br> <span class="hljs-keyword">for</span> (; i--; ) &#123;<br>   <span class="hljs-built_in">console</span>.log(i)<br> &#125;<br></code></pre></div></td></tr></table></figure>
<p>10的n次方</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> n = <span class="hljs-number">5</span>,<br>  num = <span class="hljs-number">1</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>  num *= <span class="hljs-number">10</span><br>&#125;<br><span class="hljs-built_in">console</span>.log(num)<br></code></pre></div></td></tr></table></figure>
<p>n的阶乘</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> n = <span class="hljs-number">5</span>,<br>  num = <span class="hljs-number">1</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>  num *= i<br>&#125;<br><span class="hljs-built_in">console</span>.log(num)<br></code></pre></div></td></tr></table></figure>
<p>789打印出987</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> num = <span class="hljs-number">789</span><br><span class="hljs-keyword">let</span> a = num % <span class="hljs-number">10</span> <span class="hljs-comment">//9</span><br><span class="hljs-keyword">let</span> b = ((num - a) / <span class="hljs-number">10</span>) % <span class="hljs-number">10</span> <span class="hljs-comment">//8</span><br><span class="hljs-comment">// let b = ((num - a) % 100) / 10</span><br><span class="hljs-keyword">let</span> c = (num - a - b * <span class="hljs-number">10</span>) / <span class="hljs-number">100</span> <span class="hljs-comment">//9</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;&#x27;</span> + a + b + c)<br></code></pre></div></td></tr></table></figure>
<p>打印三个数中最大的数</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span>,<br>  b = <span class="hljs-number">2</span>,<br>  c = <span class="hljs-number">3</span><br><span class="hljs-keyword">if</span> (a &gt; b) &#123;<br>  <span class="hljs-keyword">if</span> (a &gt; c) <span class="hljs-built_in">console</span>.log(a)<br>  <span class="hljs-keyword">else</span> <span class="hljs-built_in">console</span>.log(c)<br>&#125; <span class="hljs-keyword">else</span> &#123;<br>  <span class="hljs-keyword">if</span> (b &gt; c) <span class="hljs-built_in">console</span>.log(b)<br>  <span class="hljs-keyword">else</span> <span class="hljs-built_in">console</span>.log(c)<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>打印100以内的质数(仅仅能被1和自己整除的数)</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> c = <span class="hljs-number">0</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">2</span>; i &lt; <span class="hljs-number">100</span>; i++) &#123;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">1</span>; j &lt;= i; j++) &#123;<br>    <span class="hljs-keyword">if</span> (i % j == <span class="hljs-number">0</span>) c++<br>  &#125;<br>  <span class="hljs-keyword">if</span> (c == <span class="hljs-number">2</span>) <span class="hljs-built_in">console</span>.log(i)<br>  c = <span class="hljs-number">0</span><br>&#125;<br></code></pre></div></td></tr></table></figure>
<h2 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h2><h3 id="typeof"><a href="#typeof" class="headerlink" title="typeof"></a>typeof</h3><p>如何判断一个变量的类型呢,js提供了_typeof_运算符,用来检测一个变量的类型。</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Result</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Glossary/undefined">Undefined</a></td>
<td>“undefined”</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Glossary/Null">Null</a></td>
<td>“object” (see <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof#typeof_null">below</a>)</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Glossary/Boolean">Boolean</a></td>
<td>“boolean”</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Glossary/Number">Number</a></td>
<td>“number”</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Glossary/BigInt">BigInt</a> (new in ECMAScript 2020)</td>
<td>“bigint”</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Glossary/String">String</a></td>
<td>“string”</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Glossary/Symbol">Symbol</a> (new in ECMAScript 2015)</td>
<td>“symbol”</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Glossary/Function">Function</a> object (implements [[Call]] in ECMA-262 terms)</td>
<td>“function”</td>
</tr>
<tr>
<td>Any other object</td>
<td>“object”</td>
</tr>
</tbody></table>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> <span class="hljs-literal">undefined</span>) <span class="hljs-comment">//undefined</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> <span class="hljs-literal">null</span>) <span class="hljs-comment">//object //null类型是object历史遗留问题</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> <span class="hljs-literal">true</span>) <span class="hljs-comment">//boolean</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> <span class="hljs-number">1</span>) <span class="hljs-comment">//number</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> <span class="hljs-number">123456789n</span>) <span class="hljs-comment">//bigint</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> <span class="hljs-string">&#x27;123&#x27;</span>) <span class="hljs-comment">//string</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">Symbol</span>(<span class="hljs-string">&#x27;Sym&#x27;</span>)) <span class="hljs-comment">//symbol</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;&#125;) <span class="hljs-comment">//function</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> []) <span class="hljs-comment">//object</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> &#123;&#125;) <span class="hljs-comment">//object</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> <span class="hljs-literal">NaN</span>) <span class="hljs-comment">//number</span><br></code></pre></div></td></tr></table></figure>
<p>Object可以理解为引用类型， object/array都是Object引用类型</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> (<span class="hljs-number">1</span> - <span class="hljs-string">&#x27;1&#x27;</span>)) <span class="hljs-comment">//number</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> (<span class="hljs-string">&#x27;1&#x27;</span> - <span class="hljs-number">1</span>)) <span class="hljs-comment">//number</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> (<span class="hljs-string">&#x27;1&#x27;</span> - <span class="hljs-string">&#x27;1&#x27;</span>)) <span class="hljs-comment">//number</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">// console.log(a) //a is not defined</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> a) <span class="hljs-comment">//undefined</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">typeof</span> a) <span class="hljs-comment">//string 数据类型typeof之后再typeof都是string</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">typeof</span> <span class="hljs-number">123</span>) <span class="hljs-comment">//string</span><br></code></pre></div></td></tr></table></figure>
<h4 id="封装typeof"><a href="#封装typeof" class="headerlink" title="封装typeof"></a>封装typeof</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myTypeof</span>(<span class="hljs-params">val</span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> type = <span class="hljs-keyword">typeof</span> val<br>  <span class="hljs-keyword">let</span> toStr = <span class="hljs-built_in">Object</span>.prototype.toString<br>  <span class="hljs-keyword">let</span> res = &#123;<br>    <span class="hljs-string">&#x27;[object Array]&#x27;</span>: <span class="hljs-string">&#x27;array&#x27;</span>,<br>    <span class="hljs-string">&#x27;[object Object]&#x27;</span>: <span class="hljs-string">&#x27;object&#x27;</span>,<br>    <span class="hljs-string">&#x27;[object Number]&#x27;</span>: <span class="hljs-string">&#x27;number&#x27;</span>,<br>    <span class="hljs-string">&#x27;[object String]&#x27;</span>: <span class="hljs-string">&#x27;string&#x27;</span>,<br>    <span class="hljs-string">&#x27;[object Boolean]&#x27;</span>: <span class="hljs-string">&#x27;boolean&#x27;</span>,<br>  &#125;<br>  <span class="hljs-keyword">if</span> (val === <span class="hljs-literal">null</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;null&#x27;</span><br>  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type === <span class="hljs-string">&#x27;object&#x27;</span>) &#123;<br>    <span class="hljs-keyword">let</span> ret = toString.call(val)<br>    <span class="hljs-keyword">return</span> res[ret]<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-keyword">return</span> type<br>  &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>


<h3 id="显示类型转换"><a href="#显示类型转换" class="headerlink" title="显示类型转换"></a>显示类型转换</h3><h4 id="Number"><a href="#Number" class="headerlink" title="Number"></a>Number</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">// let a = &#x27;123&#x27;</span><br><span class="hljs-comment">// console.log(typeof Number(a) + &#x27;--&#x27; + Number(a)) //number--123</span><br><span class="hljs-comment">// let a = true</span><br><span class="hljs-comment">// console.log(typeof Number(a) + &#x27;--&#x27; + Number(a)) //nnumber--1</span><br><span class="hljs-comment">// let a = false</span><br><span class="hljs-comment">// console.log(typeof Number(a) + &#x27;--&#x27; + Number(a)) //nnumber--0</span><br><span class="hljs-comment">// let a = null</span><br><span class="hljs-comment">// console.log(typeof Number(a) + &#x27;--&#x27; + Number(a)) //nnumber--0</span><br><span class="hljs-comment">// let a = undefined</span><br><span class="hljs-comment">// console.log(typeof Number(a) + &#x27;--&#x27; + Number(a)) //nnumber--NaN</span><br><span class="hljs-comment">// let a = &#x27;a&#x27;</span><br><span class="hljs-comment">// console.log(typeof Number(a) + &#x27;--&#x27; + Number(a)) //nnumber--NaN</span><br><span class="hljs-comment">// let a = &#x27;1a&#x27;</span><br><span class="hljs-comment">// console.log(typeof Number(a) + &#x27;--&#x27; + Number(a)) //nnumber--NaN</span><br><span class="hljs-comment">// let a = &#x27;3.14&#x27;</span><br><span class="hljs-comment">// console.log(typeof Number(a) + &#x27;--&#x27; + Number(a)) //nnumber--3.14</span><br></code></pre></div></td></tr></table></figure>
<h4 id="parseInt"><a href="#parseInt" class="headerlink" title="parseInt"></a>parseInt</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">// let a = &#x27;123&#x27;</span><br><span class="hljs-comment">// console.log(typeof parseInt(a) + &#x27;--&#x27; + parseInt(a)) //nnumber--123</span><br><span class="hljs-comment">// let a = &#x27;1.23&#x27;</span><br><span class="hljs-comment">// console.log(typeof parseInt(a) + &#x27;--&#x27; + parseInt(a)) //nnumber--1</span><br><span class="hljs-comment">// let a = &#x27;1.99&#x27;</span><br><span class="hljs-comment">// console.log(typeof parseInt(a) + &#x27;--&#x27; + parseInt(a)) //nnumber--1</span><br><span class="hljs-comment">// let a = true</span><br><span class="hljs-comment">// console.log(typeof parseInt(a) + &#x27;--&#x27; + parseInt(a)) //nnumber--NaN</span><br><span class="hljs-comment">// let a = null</span><br><span class="hljs-comment">// console.log(typeof parseInt(a) + &#x27;--&#x27; + parseInt(a)) //nnumber--NaN</span><br><span class="hljs-comment">// let a = undefined</span><br><span class="hljs-comment">// console.log(typeof parseInt(a) + &#x27;--&#x27; + parseInt(a)) //nnumber--NaN</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-string">&#x27;10&#x27;</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">parseInt</span>(a, <span class="hljs-number">16</span>)) <span class="hljs-comment">//16   //第二个参数取值2-36</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">parseInt</span>(<span class="hljs-string">&#x27;abc123&#x27;</span>)) <span class="hljs-comment">//NaN</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">parseInt</span>(<span class="hljs-string">&#x27;123abc1&#x27;</span>)) <span class="hljs-comment">//123</span><br></code></pre></div></td></tr></table></figure>
<h4 id="parseFloat"><a href="#parseFloat" class="headerlink" title="parseFloat"></a>parseFloat</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> num = <span class="hljs-built_in">parseFloat</span>(<span class="hljs-string">&#x27;2.345&#x27;</span>)<br><span class="hljs-keyword">let</span> num2 = <span class="hljs-built_in">parseFloat</span>(<span class="hljs-string">&#x27;2&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(num.toFixed(<span class="hljs-number">2</span>)) <span class="hljs-comment">//2.35 四舍五入保留两位小数</span><br><span class="hljs-built_in">console</span>.log(num2.toFixed(<span class="hljs-number">2</span>)) <span class="hljs-comment">//2.00 保留两位小数</span><br></code></pre></div></td></tr></table></figure>
<h4 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a>toString</h4><p>null和undefined没有toString方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">// let str = null</span><br><span class="hljs-comment">// console.log(str.toString())//Cannot read properties of null (reading &#x27;toString&#x27;)</span><br><span class="hljs-comment">// let str = undefined</span><br><span class="hljs-comment">// console.log(str.toString()) //Cannot read properties of undefined (reading &#x27;toString&#x27;)</span><br><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;123&#x27;</span><br><span class="hljs-built_in">console</span>.log(str.toString()) <span class="hljs-comment">//123</span><br></code></pre></div></td></tr></table></figure>
<h4 id="Boolean"><a href="#Boolean" class="headerlink" title="Boolean"></a>Boolean</h4><p>undefined、null、NaN、” “、0是false，其他都是true</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Boolean</span>(<span class="hljs-number">1</span>)) <span class="hljs-comment">//ture</span><br></code></pre></div></td></tr></table></figure>
<h3 id="隐式类型转换"><a href="#隐式类型转换" class="headerlink" title="隐式类型转换"></a>隐式类型转换</h3><p>a未定义，但是<code>typeof a</code> 是字符串 ‘’undefined’’</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//a is not defined</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> a) <span class="hljs-comment">//undefined</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-string">&#x27;1&#x27;</span><br>a++ <span class="hljs-comment">//Number(a) 进行了隐式类型转换</span><br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//124</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(-<span class="hljs-literal">true</span>) - <span class="hljs-number">1</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> -<span class="hljs-literal">true</span>) <span class="hljs-comment">//number</span><br><span class="hljs-built_in">console</span>.log(+<span class="hljs-literal">undefined</span>) <span class="hljs-comment">//NaN</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> +<span class="hljs-literal">undefined</span>) <span class="hljs-comment">//number</span><br><br><span class="hljs-built_in">console</span>.log(!!<span class="hljs-string">&#x27; &#x27;</span>) <span class="hljs-comment">//true</span><br><span class="hljs-built_in">console</span>.log(!!<span class="hljs-string">&#x27;&#x27;</span>) <span class="hljs-comment">//false</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> <span class="hljs-string">&#x27; &#x27;</span>) <span class="hljs-comment">//string</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> <span class="hljs-string">&#x27;&#x27;</span>) <span class="hljs-comment">//string</span><br></code></pre></div></td></tr></table></figure>
<h4 id="字符串和数字"><a href="#字符串和数字" class="headerlink" title="字符串和数字"></a>字符串和数字</h4><p><strong>+时</strong>，会隐式类型<strong>转换成字符串</strong>进行拼接，<br><strong>-、* 、/、%和&gt;、&lt; 比较时</strong>，会隐式类型<strong>转换成number</strong>类型计算</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-string">&#x27;2&#x27;</span> + <span class="hljs-number">1</span><br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//21</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> (<span class="hljs-string">&#x27;2&#x27;</span> + <span class="hljs-number">1</span>)) <span class="hljs-comment">//string</span><br><br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;2&#x27;</span> - <span class="hljs-number">1</span>) <span class="hljs-comment">//1</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> (<span class="hljs-string">&#x27;2&#x27;</span> - <span class="hljs-number">1</span>)) <span class="hljs-comment">//number</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> (<span class="hljs-number">1</span> - <span class="hljs-string">&#x27;2&#x27;</span>)) <span class="hljs-comment">//number</span><br><br><span class="hljs-keyword">let</span> b = <span class="hljs-string">&#x27;b&#x27;</span> + <span class="hljs-number">1</span><br><span class="hljs-built_in">console</span>.log(b) <span class="hljs-comment">//b1</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> b) <span class="hljs-comment">//string</span><br><br><span class="hljs-keyword">let</span> b2 = <span class="hljs-string">&#x27;b&#x27;</span> - <span class="hljs-number">1</span><br><span class="hljs-built_in">console</span>.log(b2) <span class="hljs-comment">//NaN</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> b2) <span class="hljs-comment">//number</span><br><span class="hljs-keyword">let</span> b3 = <span class="hljs-string">&#x27;b&#x27;</span> * <span class="hljs-number">1</span><br><span class="hljs-built_in">console</span>.log(b3) <span class="hljs-comment">//NaN</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> b3) <span class="hljs-comment">//number</span><br></code></pre></div></td></tr></table></figure>
<h4 id="字符串和字符串"><a href="#字符串和字符串" class="headerlink" title="字符串和字符串"></a>字符串和字符串</h4><p>比较时，会转成ASCII码在进行比较</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-string">&#x27;a&#x27;</span> &gt; <span class="hljs-string">&#x27;b&#x27;</span><br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//false</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> a) <span class="hljs-comment">//boolean</span><br></code></pre></div></td></tr></table></figure>
<p>全等于不进行数据类型转换</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span> === <span class="hljs-string">&#x27;1&#x27;</span><br><span class="hljs-keyword">let</span> b = <span class="hljs-number">1</span> == <span class="hljs-string">&#x27;1&#x27;</span><br><span class="hljs-built_in">console</span>.log(b) <span class="hljs-comment">//true</span><br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//false</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a1 = <span class="hljs-number">2</span> &gt; <span class="hljs-number">1</span> &gt; <span class="hljs-number">3</span><br><span class="hljs-keyword">let</span> a2 = <span class="hljs-number">2</span> &gt; <span class="hljs-number">1</span> == <span class="hljs-number">1</span><br><span class="hljs-built_in">console</span>.log(a1, a2) <span class="hljs-comment">//false true</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a1 = <span class="hljs-literal">undefined</span> &lt; <span class="hljs-number">0</span><br><span class="hljs-keyword">let</span> a2 = <span class="hljs-literal">undefined</span> &gt; <span class="hljs-number">0</span><br><span class="hljs-keyword">let</span> a3 = <span class="hljs-literal">undefined</span> == <span class="hljs-number">0</span><br><span class="hljs-built_in">console</span>.log(a1, a2, a3) <span class="hljs-comment">//false false false</span><br><br><span class="hljs-keyword">let</span> b1 = <span class="hljs-literal">null</span> &lt; <span class="hljs-number">0</span><br><span class="hljs-keyword">let</span> b2 = <span class="hljs-literal">null</span> &gt; <span class="hljs-number">0</span><br><span class="hljs-keyword">let</span> b3 = <span class="hljs-literal">null</span> == <span class="hljs-number">0</span><br><span class="hljs-built_in">console</span>.log(b1, b2, b3) <span class="hljs-comment">//false false false</span><br><br><span class="hljs-keyword">let</span> c1 = <span class="hljs-literal">undefined</span> == <span class="hljs-literal">null</span> <span class="hljs-comment">//true</span><br><span class="hljs-keyword">let</span> c2 = <span class="hljs-literal">NaN</span> == <span class="hljs-number">0</span><br><span class="hljs-keyword">let</span> c3 = <span class="hljs-literal">NaN</span> == <span class="hljs-literal">NaN</span><br><span class="hljs-built_in">console</span>.log(c1, c2, c3) <span class="hljs-comment">//true false false</span><br></code></pre></div></td></tr></table></figure>
<h4 id="布尔值和数字"><a href="#布尔值和数字" class="headerlink" title="布尔值和数字"></a>布尔值和数字</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-literal">false</span> + <span class="hljs-number">1</span><br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//1</span><br><span class="hljs-keyword">let</span> b = <span class="hljs-literal">true</span> + <span class="hljs-number">1</span><br><span class="hljs-built_in">console</span>.log(b) <span class="hljs-comment">//2</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> b = <span class="hljs-literal">false</span> == <span class="hljs-number">1</span><br><span class="hljs-built_in">console</span>.log(b) <span class="hljs-comment">//false</span><br><span class="hljs-keyword">let</span> a = <span class="hljs-literal">false</span> !== <span class="hljs-number">1</span><br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//true</span><br></code></pre></div></td></tr></table></figure>
<h4 id="isNaN"><a href="#isNaN" class="headerlink" title="isNaN"></a>isNaN</h4><p>判断数据类型是否为非数，先将数据进行隐式转换成number在进行NaN判断</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">isNaN</span>(<span class="hljs-literal">NaN</span>)) <span class="hljs-comment">//true</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">isNaN</span>(<span class="hljs-string">&#x27;123&#x27;</span>)) <span class="hljs-comment">//false</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">isNaN</span>(<span class="hljs-string">&#x27;a&#x27;</span>)) <span class="hljs-comment">//true</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">isNaN</span>(<span class="hljs-literal">null</span>)) <span class="hljs-comment">//false  null转成数字是0</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">isNaN</span>(<span class="hljs-literal">undefined</span>)) <span class="hljs-comment">//true</span><br></code></pre></div></td></tr></table></figure>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="函数命名规则"><a href="#函数命名规则" class="headerlink" title="函数命名规则"></a>函数命名规则</h3><p>不能数字开头，中间可以数字、字母、_ 、$，推荐小驼峰命名法</p>
<h3 id="函数声明"><a href="#函数声明" class="headerlink" title="函数声明"></a>函数声明</h3><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">//函数声明</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>     <span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span>,<br>       b = <span class="hljs-number">2</span><br>     <span class="hljs-built_in">console</span>.log(a, b)<br>   &#125;<br><br><span class="hljs-comment">//函数表达式</span><br>  <span class="hljs-comment">//匿名函数表达式  函数字面量</span><br>   <span class="hljs-keyword">let</span> test1 = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123; <span class="hljs-comment">//匿名函数</span><br>     <span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span>,<br>       b = <span class="hljs-number">2</span><br>     <span class="hljs-built_in">console</span>.log(a, b)<br>   &#125;<br></code></pre></div></td></tr></table></figure>
<p>函数字面量(函数表达式)是忽略函数名</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> test = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;a&#x27;</span><br>&#125;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> a) <span class="hljs-comment">//undefined</span><br></code></pre></div></td></tr></table></figure>
<h3 id="形参-实参"><a href="#形参-实参" class="headerlink" title="形参/实参"></a>形参/实参</h3><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params">a, b</span>) </span>&#123;<span class="hljs-comment">//此处a,b是形参</span><br>  <span class="hljs-built_in">console</span>.log(test) <span class="hljs-comment">//打印函数</span><br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">arguments</span>) <span class="hljs-comment">//打印参数</span><br>&#125;<br>test(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<span class="hljs-comment">//此处1，2，3是实参</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">//一个函数被调用时，累加他的实参</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sum</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> a = <span class="hljs-number">0</span><br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">arguments</span>.length; i++) &#123;<br>    a += <span class="hljs-built_in">arguments</span>[i]<br>  &#125;<br>  <span class="hljs-built_in">console</span>.log(a)<br>&#125;<br>sum(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>) <br></code></pre></div></td></tr></table></figure>
<p>在实参传了值的情况下，函数内部可以改变实参的值</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params">a, b</span>) </span>&#123;<br>  a = <span class="hljs-number">3</span><br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>]) <span class="hljs-comment">//3</span><br>  <span class="hljs-built_in">console</span>.log(a, b) <span class="hljs-comment">//3 2</span><br>&#125;<br>test(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br></code></pre></div></td></tr></table></figure>
<p>在实参没有传值的情况下，函数内部给形参赋值是没有用的</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test2</span>(<span class="hljs-params">a, b</span>) </span>&#123;<br>  b = <span class="hljs-number">3</span><br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">arguments</span>[<span class="hljs-number">1</span>]) <span class="hljs-comment">//undefined</span><br>  <span class="hljs-comment">//如果实参没有传对应参数，就没有对应的映射 所以是 undefined</span><br>&#125;<br>test2(<span class="hljs-number">1</span>)<br></code></pre></div></td></tr></table></figure>
<p>形参和arguments对象不是同一个东西，但是有映射关系。</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params">a, b</span>) </span>&#123;<br>  a = <span class="hljs-number">3</span> <span class="hljs-comment">//存在栈内存</span><br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>]) <span class="hljs-comment">//3 存在堆内存</span><br>  <span class="hljs-comment">//形参和arguments不是同一个东西，但是有映射关系。</span><br>  <span class="hljs-comment">//如果实参没有传对应参数，就没有对应的映射 所以是 undefined</span><br>&#125;<br>test(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br></code></pre></div></td></tr></table></figure>
<h3 id="初始化参数"><a href="#初始化参数" class="headerlink" title="初始化参数"></a>初始化参数</h3><p>参数不传默认值是 undefined，形参和arguments谁不是undefined就默认选谁<br>传一个参数给第二位形参，第一位形参设置默认值，</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params">a = <span class="hljs-number">1</span>, b</span>) </span>&#123; <span class="hljs-comment">//形参赋值是ES6，低版本浏览器不支持</span><br>     <span class="hljs-built_in">console</span>.log(a)<br>     <span class="hljs-built_in">console</span>.log(b)<br>     <span class="hljs-comment">//形参和arguments谁不是undefined就默认选谁</span><br>     <span class="hljs-comment">// a 1  默认选择a=1</span><br>     <span class="hljs-comment">// arguments[0] undefined</span><br>   &#125;<br>   test(<span class="hljs-literal">undefined</span>, <span class="hljs-number">2</span>)<br></code></pre></div></td></tr></table></figure>
<p>兼容写法</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">//或运算法(不推荐)</span><br>   <span class="hljs-comment">//不推荐这种写法，如果实参传0，默认为false，会执行后边的</span><br>   <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test2</span>(<span class="hljs-params">a, b</span>) </span>&#123;<br>     a = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>] || <span class="hljs-number">1</span><br>     b = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">1</span>] || <span class="hljs-number">2</span><br>     <span class="hljs-built_in">console</span>.log(a, b) <span class="hljs-comment">//1 6</span><br>   &#125;<br>   test2(<span class="hljs-literal">undefined</span>, <span class="hljs-number">6</span>)<br><br><span class="hljs-comment">//typeof方法</span><br>   <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test2</span>(<span class="hljs-params">a, b</span>) </span>&#123;<br>     <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>] !== <span class="hljs-string">&#x27;undefined&#x27;</span>) &#123;<br>       a = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>]<br>     &#125; <span class="hljs-keyword">else</span> &#123;<br>       a = <span class="hljs-number">1</span><br>     &#125;<br>     <span class="hljs-built_in">console</span>.log(a, b) <span class="hljs-comment">//1 3</span><br>   &#125;<br>   test2(<span class="hljs-literal">undefined</span>, <span class="hljs-number">3</span>)<br><br>   <span class="hljs-comment">//三元运算法</span><br>   <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test3</span>(<span class="hljs-params">a, b</span>) </span>&#123;<br>     a = <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>] !== <span class="hljs-string">&#x27;undefined&#x27;</span> ? <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>] : <span class="hljs-number">1</span><br>     <span class="hljs-built_in">console</span>.log(a, b) <span class="hljs-comment">//1 2</span><br>   &#125;<br>   test3(<span class="hljs-literal">undefined</span>, <span class="hljs-number">2</span>)<br></code></pre></div></td></tr></table></figure>
<h3 id="默认参数作用域与暂时性死区"><a href="#默认参数作用域与暂时性死区" class="headerlink" title="默认参数作用域与暂时性死区"></a>默认参数作用域与暂时性死区</h3><p> 因为参数是按顺序初始化的，所以后定义默认值的参数可以引用先定义的参数  </p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">makeKing</span>(<span class="hljs-params">name = <span class="hljs-string">&#x27;Henry&#x27;</span>, numerals = name</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-string">`King <span class="hljs-subst">$&#123;name&#125;</span> <span class="hljs-subst">$&#123;numerals&#125;</span>`</span><br>&#125;<br><span class="hljs-built_in">console</span>.log(makeKing()) <span class="hljs-comment">// King Henry Henry</span><br></code></pre></div></td></tr></table></figure>
<p>参数初始化顺序遵循“暂时性死区”规则，即前面定义的参数不能引用后面定义的  </p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">makeKing</span>(<span class="hljs-params">name = numerals, numerals = <span class="hljs-string">&#x27;VIII&#x27;</span></span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-string">`King <span class="hljs-subst">$&#123;name&#125;</span> <span class="hljs-subst">$&#123;numerals&#125;</span>`</span><br>&#125;<br><span class="hljs-built_in">console</span>.log(makeKing()) <span class="hljs-comment">//Cannot access &#x27;numerals&#x27; before initialization</span><br></code></pre></div></td></tr></table></figure>
<p>参数也存在于自己的作用域中，它们不能引用函数体的作用域：  </p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">// 调用时不传第二个参数会报错</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">makeKing</span>(<span class="hljs-params">name = <span class="hljs-string">&#x27;Henry&#x27;</span>, numerals = defaultNumeral</span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> defaultNumeral = <span class="hljs-string">&#x27;VIII&#x27;</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-string">`King <span class="hljs-subst">$&#123;name&#125;</span> <span class="hljs-subst">$&#123;numerals&#125;</span>`</span><br>&#125;<br><span class="hljs-built_in">console</span>.log(makeKing())<span class="hljs-comment">//defaultNumeral is not definedcat makeKing</span><br></code></pre></div></td></tr></table></figure>
<p>n的阶层，使用递归，不能用for循环</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">//n的阶层，使用递归，不能用for循环</span><br><span class="hljs-comment">// 规律 n! = n * (n-1)!</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fact</span>(<span class="hljs-params">n</span>) </span>&#123;<br>  <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>  <span class="hljs-keyword">return</span> n * fact(n - <span class="hljs-number">1</span>)<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>arguments 对象其实还有一个 callee 属性，是一个指向 arguments 对象所在函数的指针。<br>阶乘函数一般定义成递归调用的，就像上面这个例子一样。只要给函数一个名称，而且这个名称不会变，这样定义就没有问题。但是，这个函数要正确执行就必须保证函数名是 fact，从而导致了紧密耦合。<code>arguments.callee</code> 就可以让函数逻辑与函数名解耦 </p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fact</span>(<span class="hljs-params">num</span>) </span>&#123;<br>  <span class="hljs-keyword">if</span> (num &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>  <span class="hljs-keyword">return</span> num * <span class="hljs-built_in">arguments</span>.callee(num - <span class="hljs-number">1</span>)<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p> 这个重写之后的 fact()函数已经用 arguments.callee 代替了之前硬编码的 fact。 这意味着无论函数叫什么名称，都可以引用正确的函数。<br>斐波拉去数列</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fb</span>(<span class="hljs-params">n</span>) </span>&#123;<br>  <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>  <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>  <span class="hljs-keyword">return</span> fb(n - <span class="hljs-number">1</span>) + fb(n - <span class="hljs-number">2</span>)<br>&#125;<br><span class="hljs-built_in">console</span>.log(fb(<span class="hljs-number">2</span>))<br></code></pre></div></td></tr></table></figure>
<h2 id="预编译"><a href="#预编译" class="headerlink" title="预编译"></a>预编译</h2><h3 id="预编译流程"><a href="#预编译流程" class="headerlink" title="预编译流程"></a>预编译流程</h3><p>1.检查通篇的语法错误<br>1.5预编译的过程<br>2.解释一行，执行一行 </p>
<h3 id="变量提升"><a href="#变量提升" class="headerlink" title="变量提升"></a>变量提升</h3><p>函数声明先提升，其次变量<br><strong>函数声明是整体提升</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">test()<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>) <span class="hljs-comment">//1</span><br>&#125;<br></code></pre></div></td></tr></table></figure>
<p><strong>var变量只有声明提升，赋值不提示</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//undefined</span><br><span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//undefined</span><br><span class="hljs-keyword">var</span> a<br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//a is not defined</span><br></code></pre></div></td></tr></table></figure>
<p><strong>let变量赋值都不提升</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//Cannot access &#x27;a&#x27; before initialization</span><br><span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span><br></code></pre></div></td></tr></table></figure>


<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">//打印的是函数a</span><br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//ƒ a(a) &#123;var a = 1;var a = function () &#123;&#125;&#125;</span><br>   <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params">a</span>) </span>&#123;<br>     <span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span><br>     <span class="hljs-keyword">var</span> a = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;&#125;<br>   &#125;<br>   <span class="hljs-keyword">var</span> a = <span class="hljs-number">2</span><br></code></pre></div></td></tr></table></figure>
<h3 id="暗示全局变量"><a href="#暗示全局变量" class="headerlink" title="暗示全局变量"></a>暗示全局变量</h3><p><strong>全局作用域下，未声明或者var声明的变量都会挂载到window下</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span><br>b = <span class="hljs-number">2</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">window</span>.a) <span class="hljs-comment">//1</span><br><span class="hljs-comment">//在全局下不管是否var   a=window.a   b=window.b</span><br><span class="hljs-comment">// window=&#123;</span><br><span class="hljs-comment">//   a:1,</span><br><span class="hljs-comment">//   b=2</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></div></td></tr></table></figure>
<p><strong>函数内未声明的变量直接挂载到window下</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">var</span> a = b = <span class="hljs-number">1</span> <span class="hljs-comment">//a先声明后赋值一个1，然后赋值给b，b未声明</span><br>  <span class="hljs-comment">//b 未声明直接挂载到window 全局域下</span><br>&#125;<br>test()<br><span class="hljs-comment">//访问对象不存在的属性会 undefined</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">window</span>.a) <span class="hljs-comment">//undefined</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">window</span>.b) <span class="hljs-comment">//1</span><br><span class="hljs-comment">//访问对象不存在的变量会 not defined</span><br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//a is not defined</span><br></code></pre></div></td></tr></table></figure>
<h3 id="AO-activation-object-活跃对象，函数上下文"><a href="#AO-activation-object-活跃对象，函数上下文" class="headerlink" title="AO activation object 活跃对象，函数上下文"></a>AO activation object 活跃对象，函数上下文</h3><p>先提升变量声明（不含赋值），然后实参给形参赋值，再提升函数声明,，最后执行函数。按照此顺序执行代码</p>
<ol>
<li><p>寻找形参和变量声明</p>
</li>
<li><p>实参赋值给形参</p>
</li>
<li><p>找函数声明并赋值函数体</p>
</li>
<li><p>执行</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params">a</span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>, a)<br>  <span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span><br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-number">2</span>, a)<br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-number">3</span>, a)<br>  <span class="hljs-keyword">var</span> b = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;&#125;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-number">4</span>, b)<br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">d</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br>&#125;<br>test(<span class="hljs-number">2</span>)<br><span class="hljs-comment">// 1 ƒ a() &#123;&#125;</span><br><span class="hljs-comment">// 2 1</span><br><span class="hljs-comment">// 3 1</span><br><span class="hljs-comment">// 4 ƒ () &#123;&#125;</span><br><br><span class="hljs-comment">// //预编译</span><br><span class="hljs-comment">//       AO = &#123;</span><br><span class="hljs-comment">//         a: undefined // 1.寻找形参和变量声明 -&gt;</span><br><span class="hljs-comment">//            2 // 2.把实参赋值给形参 -&gt;</span><br><span class="hljs-comment">//            function a() &#123;&#125; // 3.找函数声明并赋值函数体 -&gt;</span><br><span class="hljs-comment">//            1 // 4.执行函数</span><br><br><span class="hljs-comment">//         b: undefined // 1.寻找形参和变量声明 -&gt;</span><br><span class="hljs-comment">//            function () &#123;&#125; // 4.执行函数</span><br><br><span class="hljs-comment">//         d: undefined // 1.寻找形参和变量声明 -&gt;</span><br><span class="hljs-comment">//            function d() &#123;&#125; // 3.找函数声明并赋值函数体      </span><br><span class="hljs-comment">//       &#125;</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params">a, b</span>) </span>&#123;<br>     <span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>, a)<br>     c = <span class="hljs-number">0</span><br>     <span class="hljs-keyword">var</span> c<br>     a = <span class="hljs-number">5</span><br>     b = <span class="hljs-number">6</span><br>     <span class="hljs-built_in">console</span>.log(<span class="hljs-number">2</span>, b)<br>     <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br>     <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">d</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br>     <span class="hljs-built_in">console</span>.log(<span class="hljs-number">3</span>, b)<br>   &#125;<br>   test(<span class="hljs-number">1</span>)<br>   <span class="hljs-comment">// 1 1</span><br>   <span class="hljs-comment">// 2 6</span><br>   <span class="hljs-comment">// 3 6</span><br>   <br>   <span class="hljs-comment">// AO=&#123;</span><br>   <span class="hljs-comment">//   a: undefined // 1.寻找形参和变量声明 -&gt;</span><br>   <span class="hljs-comment">//      1 // 2.实参赋值给形参 -&gt;</span><br>   <span class="hljs-comment">//      5 // 4.执行函数</span><br><br>   <span class="hljs-comment">//   b: undefined // 1.寻找形参和变量声明 -&gt;</span><br>   <span class="hljs-comment">//      function d() &#123;&#125; // 3.找函数声明并赋值函数体</span><br>   <span class="hljs-comment">//      6 // 4.执行函数</span><br><br>   <span class="hljs-comment">//   c: undefined // 1.寻找形参和变量声明 -&gt;</span><br>   <span class="hljs-comment">//      0 // 4.执行函数</span><br><br>   <span class="hljs-comment">//   d: undefined // 1.寻找形参和变量声明 -&gt;</span><br>   <span class="hljs-comment">//      function d() &#123;&#125; // 3.找函数声明并赋值函数体</span><br>   <span class="hljs-comment">// &#125;</span><br></code></pre></div></td></tr></table></figure>
<h3 id="GO-global-object-全局上下文"><a href="#GO-global-object-全局上下文" class="headerlink" title="GO global object 全局上下文"></a>GO global object 全局上下文</h3><p>GO相当于是window<br>先变量声明提升，再函数提升，最后执行</p>
</li>
<li><p>找变量声明</p>
</li>
<li><p>找函数声明并赋值函数体</p>
</li>
<li><p>执行</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-number">2</span>)<br>&#125;<br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//1</span><br><span class="hljs-comment">// GO = &#123;</span><br><span class="hljs-comment">//   a: undefined, // 1.找变量 -&gt;</span><br><span class="hljs-comment">//      function a() &#123;&#125; // 2.找函数声明并赋值函数体 -&gt;</span><br><span class="hljs-comment">//      1 // 3.执行</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(a, b) <span class="hljs-comment">//function a()&#123;&#125;  undefined  </span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br><span class="hljs-keyword">var</span> b = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;&#125; <span class="hljs-comment">//b在执行之前还没有赋值，所以打印undefined</span><br><br><span class="hljs-comment">// GO = &#123;</span><br><span class="hljs-comment">//   b: undefined // 1.寻找变量声明 =&gt;</span><br><span class="hljs-comment">//      function () &#123;&#125; // 3.执行</span><br><span class="hljs-comment">//   a: undefined // 1.寻找变量声明 =&gt;</span><br><span class="hljs-comment">//      function a() &#123;&#125; //2.找函数声明并赋值函数体</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">var</span> a = (b = <span class="hljs-number">1</span>)<br>  <span class="hljs-built_in">console</span>.log(b)<br>&#125;<br>test() <span class="hljs-comment">//1</span><br><span class="hljs-comment">// GO = &#123;</span><br><span class="hljs-comment">//   b: 1, //4.执行</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-comment">// AO = &#123;</span><br><span class="hljs-comment">//   a: undefined //1.寻找变量</span><br><span class="hljs-comment">//      1 //4.执行(往上找到GO中的b)</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> b = <span class="hljs-number">3</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>, a)<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params">a</span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-number">2</span>, a)<br>  <span class="hljs-keyword">var</span> a = <span class="hljs-number">2</span><br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-number">3</span>, a)<br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br>  <span class="hljs-keyword">var</span> b = <span class="hljs-number">5</span><br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-number">4</span>, b)<br>&#125;<br>a(<span class="hljs-number">1</span>)<br><span class="hljs-comment">// 1 ƒ a(a) &#123;</span><br><span class="hljs-comment">//   console.log(2, a)</span><br><span class="hljs-comment">//   var a = 2</span><br><span class="hljs-comment">//   console.log(3, a)</span><br><span class="hljs-comment">//   function a() &#123;&#125;</span><br><span class="hljs-comment">//   var b = 5</span><br><span class="hljs-comment">//   console.log(4, b)</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-comment">// 2 ƒ a() &#123;&#125;</span><br><span class="hljs-comment">// 3 2</span><br><span class="hljs-comment">// 4 5</span><br><br><span class="hljs-comment">// GP = &#123;</span><br><span class="hljs-comment">//   b: undefined // 1.找变量</span><br><span class="hljs-comment">//      3 // 3.执行</span><br><span class="hljs-comment">//   a: undefined // 1.找变量</span><br><span class="hljs-comment">//      function a()&#123;...&#125;  // 2.找函数声明并赋值函数体</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-comment">// AO = &#123;</span><br><span class="hljs-comment">//   a: undefined // 1.寻找形参和变量声明</span><br><span class="hljs-comment">//      1 // 2.实参赋值给形参</span><br><span class="hljs-comment">//      function a() &#123;&#125; // 3.找函数声明并赋值函数体</span><br><span class="hljs-comment">//      2 // 4.执行</span><br><span class="hljs-comment">//   b: undefined // 1.寻找形参和变量声明</span><br><span class="hljs-comment">//      5 // 4.执行</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">a = <span class="hljs-number">1</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>, a)<br>  a = <span class="hljs-number">2</span><br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-number">2</span>, a)<br>  <span class="hljs-keyword">var</span> a = <span class="hljs-number">3</span><br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-number">3</span>, a)<br>&#125;<br>test()<br><span class="hljs-keyword">var</span> a<br><span class="hljs-comment">// 1 undefined //就近原则，函数内部声明了a，所以不去全局找a</span><br><span class="hljs-comment">// 2 2</span><br><span class="hljs-comment">// 3 3</span><br><br><span class="hljs-comment">// GO = &#123;</span><br><span class="hljs-comment">//   a: undefined, // 1.找变量</span><br><span class="hljs-comment">//      1 // 3.执行</span><br><span class="hljs-comment">//   test: function test() &#123;...&#125; // 1.找函数声明并赋值函数体</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-comment">// AO = &#123;</span><br><span class="hljs-comment">//   a: undefined, // 1.找变量</span><br><span class="hljs-comment">//      2 // 4.执行</span><br><span class="hljs-comment">//      3 // 4.执行</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(b) <span class="hljs-comment">//undefined</span><br>  <span class="hljs-keyword">if</span> (a) &#123;<br>    <span class="hljs-comment">// a undefined</span><br>    <span class="hljs-keyword">var</span> b = <span class="hljs-number">2</span><br>  &#125;<br>  c = <span class="hljs-number">3</span><br>  <span class="hljs-built_in">console</span>.log(c) <span class="hljs-comment">//3</span><br>&#125;<br><span class="hljs-keyword">var</span> a<br>test()<br>a = <span class="hljs-number">1</span><br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//1</span><br><br><span class="hljs-comment">// GO = &#123;</span><br><span class="hljs-comment">//   a: undefined, //1</span><br><span class="hljs-comment">//      1 //3</span><br><span class="hljs-comment">//   test: undefined, //1</span><br><span class="hljs-comment">//         function test() &#123;&#125; //2</span><br><span class="hljs-comment">//   c: undefined, //1</span><br><span class="hljs-comment">//      3 //3</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-comment">// AO = &#123;</span><br><span class="hljs-comment">//   b: undefined, //1</span><br><span class="hljs-comment">//   c: undefined  //1</span><br><span class="hljs-comment">//      3 //4</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> a<br>  a = <span class="hljs-number">1</span><br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br>  <span class="hljs-keyword">var</span> a = <span class="hljs-number">2</span><br>&#125;<br><span class="hljs-built_in">console</span>.log(test())<br><span class="hljs-comment">// ƒ a() &#123;&#125;</span><br><br><span class="hljs-comment">// GO = &#123;</span><br><span class="hljs-comment">//   a: undefined,//1</span><br><span class="hljs-comment">//      1 //3</span><br><span class="hljs-comment">//   test:undefined //1</span><br><span class="hljs-comment">//        function test() &#123;...&#125; //2</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-comment">// AO = &#123;</span><br><span class="hljs-comment">//   a: undefined, //1</span><br><span class="hljs-comment">//      function a() &#123;&#125; //3</span><br><span class="hljs-comment">//      1 //4</span><br><span class="hljs-comment">//      2 //4</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>  a = <span class="hljs-number">1</span><br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br>  <span class="hljs-keyword">var</span> a = <span class="hljs-number">2</span><br>  <span class="hljs-keyword">return</span> a<br>&#125;<br><span class="hljs-built_in">console</span>.log(test()) <span class="hljs-comment">//2</span><br><span class="hljs-comment">// GO = &#123;</span><br><span class="hljs-comment">//   a: undefined, //1</span><br><span class="hljs-comment">//      1 //3</span><br><span class="hljs-comment">//   test:undefined //1</span><br><span class="hljs-comment">//        function test() &#123;&#125;</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-comment">// AO = &#123;</span><br><span class="hljs-comment">//   a: undefined,//1</span><br><span class="hljs-comment">//      function a() &#123;&#125; //3</span><br><span class="hljs-comment">//      1 //4</span><br><span class="hljs-comment">//      2 //4</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">a = <span class="hljs-number">1</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params">e</span>) </span>&#123;<br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br>  <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>] = <span class="hljs-number">2</span><br>  <span class="hljs-built_in">console</span>.log(e) <span class="hljs-comment">//2</span><br>  <span class="hljs-keyword">if</span> (a) &#123;<br>    <span class="hljs-comment">// a  1</span><br>    <span class="hljs-keyword">var</span> b = <span class="hljs-number">3</span><br>  &#125;<br>  <span class="hljs-keyword">var</span> c<br>  a = <span class="hljs-number">4</span><br>  <span class="hljs-keyword">var</span> a<br>  <span class="hljs-built_in">console</span>.log(b) <span class="hljs-comment">//undefined</span><br>  f = <span class="hljs-number">5</span><br>  <span class="hljs-built_in">console</span>.log(c) <span class="hljs-comment">//undefined</span><br>  <span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//4</span><br>&#125;<br><span class="hljs-keyword">var</span> a<br>test(<span class="hljs-number">1</span>)<br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//1</span><br><span class="hljs-built_in">console</span>.log(f) <span class="hljs-comment">//5</span><br><span class="hljs-comment">// 2</span><br><span class="hljs-comment">// undefined</span><br><span class="hljs-comment">// undefined</span><br><span class="hljs-comment">// 4</span><br><span class="hljs-comment">// 1</span><br><span class="hljs-comment">// 5</span><br><br><span class="hljs-comment">// GO = &#123;</span><br><span class="hljs-comment">//   a: undefined,//1</span><br><span class="hljs-comment">//      1 //3</span><br><span class="hljs-comment">//   test: undefined //1</span><br><span class="hljs-comment">//         function test() &#123;&#125; //2</span><br><span class="hljs-comment">//   f: undefined, //1</span><br><span class="hljs-comment">//      5 // 4</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-comment">// AO = &#123;</span><br><span class="hljs-comment">//   e: undefined, //1</span><br><span class="hljs-comment">//      1 //2</span><br><span class="hljs-comment">//      function e() &#123;&#125; //3</span><br><span class="hljs-comment">//      2 //4</span><br><span class="hljs-comment">//   b: undefined, //1</span><br><span class="hljs-comment">//      3 //4</span><br><span class="hljs-comment">//   c: undefined, //1</span><br><span class="hljs-comment">//   a: undefined, //1</span><br><span class="hljs-comment">//      4 //4 函数体内有声明，就近原则</span><br><span class="hljs-comment">//   f: 5 //4 在GO中找到的f</span><br><span class="hljs-comment">// &#125;</span><br><br></code></pre></div></td></tr></table></figure>
<h2 id="作用域-作用域链"><a href="#作用域-作用域链" class="headerlink" title="作用域/作用域链"></a>作用域/作用域链</h2><p>函数也是一种对象类型，是引用类型，引用值，有对象.name，.length，.protoytpe等属性<br>对象中有些属性是我们无法访问的，JS引擎内部固定有的隐式属性 [[scope]]<br>​</p>
</li>
</ol>
<p>函数创建时，生成的一个JS内部隐式属性<br>函数存储作用域的容器，作用域链<br>AO，函数的执行期上下文，<br>GO，全局的执行期上下文<br>函数执行完成之后，AO是要销毁的，AO是一个即时的存储容器</p>
<p><strong>在函数被定义</strong>的时候就已经形成了作用域，作用域链和GO<br><strong>在函数执行</strong>的那一刻才生成自己的AO<br>​</p>
<p>外部函数为什么不能访问到内部函数的变量？</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-keyword">let</span> b = <span class="hljs-number">2</span><br>  &#125;<br>  <span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span><br>  b()<br>  <span class="hljs-built_in">console</span>.log(b)<br>&#125;<br>a()<br><span class="hljs-comment">//ƒ b() &#123;</span><br><span class="hljs-comment">// let b = 2</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></div></td></tr></table></figure>
<p>a的AO里面b等于function b() {}，内部方法执行后作用域链就切断了，所以只能打印b的函数体不能访问b里边的变量<br><strong>外部函数没有内部函数的AO环境，但是内部函数在执行的时候引用了外部函数的AO上下文</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">c</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br>    c()<br>  &#125;<br>  b()<br>&#125;<br>a()<br><span class="hljs-comment">//a定义：a.[[scope]] -&gt; 0 : GO</span><br><span class="hljs-comment">//a执行：a.[[scope]] -&gt; 0 : GO</span><br><span class="hljs-comment">//                      1 : GO</span><br><span class="hljs-comment">//b定义：b.[[scope]] -&gt; 0 : a -&gt; AO</span><br><span class="hljs-comment">//                      1 : GO</span><br><span class="hljs-comment">//b执行：b.[[scope]] -&gt; 0 : b -&gt; AO</span><br><span class="hljs-comment">//                      1 : a -&gt; AO</span><br><span class="hljs-comment">//                      2 : GO</span><br><span class="hljs-comment">//c定义：c.[[scope]] -&gt; 0 : b -&gt; AO</span><br><span class="hljs-comment">//                      1 : a -&gt; AO</span><br><span class="hljs-comment">//                      2 : GO</span><br><span class="hljs-comment">//c执行：c.[[scope]] -&gt; 0 : c -&gt; AO</span><br><span class="hljs-comment">//                      1 : b -&gt; AO</span><br><span class="hljs-comment">//                      2 : a -&gt; AO</span><br><span class="hljs-comment">//                      3 : GO</span><br><br><span class="hljs-comment">//c结束：c.[[scope]] -&gt; 0 : b -&gt; AO</span><br><span class="hljs-comment">//                      1 : a -&gt; AO</span><br><span class="hljs-comment">//                      2 : GO</span><br><span class="hljs-comment">//b结束：b.[[scope]] -&gt; 0 : a -&gt; AO</span><br><span class="hljs-comment">//                      1 : GO</span><br><span class="hljs-comment">//      c.[[scope]] X</span><br><span class="hljs-comment">//a结束：a.[[scope]] -&gt; 0 : GO</span><br><span class="hljs-comment">//      b.[[scope]] X</span><br></code></pre></div></td></tr></table></figure>
<h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><p>当内部函数被返回到外部并保持时，一定会产生闭包，闭包会产生原来的作用域链不释放，<br>过度的闭包可能会导致内存泄漏或加载过慢</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test1</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test2</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-keyword">var</span> b = <span class="hljs-number">2</span><br>    <span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//1</span><br>  &#125;<br>  <span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span><br>  <span class="hljs-keyword">return</span> test2 <span class="hljs-comment">//test1执行结束，test1自己的AO销毁，返回test2，</span><br>  						 <span class="hljs-comment">//当test1赋值到全局的test3时,test2被挂载到全局GO</span><br>&#125;<br><span class="hljs-keyword">var</span> c = <span class="hljs-number">3</span><br><span class="hljs-keyword">var</span> test3 = test1() <span class="hljs-comment">//此处返回的是函数test2。test2中包含test1的AO，可以访问到test1内部的变量</span><br>test3() <span class="hljs-comment">//test3执行结束时，test2也结束，test2的AO销毁，但是test1的AO未断开，</span><br><span class="hljs-comment">//再执行test3仍可以操作test1的变量</span><br></code></pre></div></td></tr></table></figure>
<h3 id="什么是闭包"><a href="#什么是闭包" class="headerlink" title="什么是闭包"></a>什么是闭包</h3><p>函数嵌套函数，内部函数就是闭包。就是<strong>能够访问其他函数内部变量的函数</strong>。<br>闭包可以做数据缓存</p>
<h4 id="普通闭包"><a href="#普通闭包" class="headerlink" title="普通闭包"></a>普通闭包</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> n = <span class="hljs-number">100</span><br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params"></span>) </span>&#123;<br>    n++<br>    <span class="hljs-built_in">console</span>.log(n)<br>  &#125;<br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">reduce</span>(<span class="hljs-params"></span>) </span>&#123;<br>    n--<br>    <span class="hljs-built_in">console</span>.log(n)<br>  &#125;<br>  <span class="hljs-keyword">return</span> [add, reduce] <span class="hljs-comment">//返回两个函数</span><br>&#125;<br><span class="hljs-keyword">let</span> arr = test()<br>arr[<span class="hljs-number">0</span>]()<br>arr[<span class="hljs-number">1</span>]()<br>arr[<span class="hljs-number">1</span>]()<br><span class="hljs-comment">//101</span><br><span class="hljs-comment">//100</span><br><span class="hljs-comment">//99</span><br></code></pre></div></td></tr></table></figure>
<p>add和reduce函数属于同级，两个的AO互不干扰，不能互相访问。但是都有上一级test的AO，可以同时访问test的变量</p>
<h4 id="对象闭包"><a href="#对象闭包" class="headerlink" title="对象闭包"></a>对象闭包</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> num = <span class="hljs-number">0</span><br>  <span class="hljs-keyword">let</span> compute = &#123;<br>    <span class="hljs-attr">add</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>      num++<br>      <span class="hljs-built_in">console</span>.log(num)<br>    &#125;,<br>    <span class="hljs-attr">minus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>      num--<br>      <span class="hljs-built_in">console</span>.log(num)<br>    &#125;,<br>  &#125;<br>  <span class="hljs-keyword">return</span> compute<br>&#125;<br><span class="hljs-keyword">let</span> compute = test()<br>compute.add() <span class="hljs-comment">//1</span><br>compute.add() <span class="hljs-comment">//2</span><br>compute.minus() <span class="hljs-comment">//1</span><br></code></pre></div></td></tr></table></figure>
<h4 id="构造函数闭包"><a href="#构造函数闭包" class="headerlink" title="构造函数闭包"></a>构造函数闭包</h4><p>构造函数被实例化时，内部产生一个this，最后隐式返回this</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Compute</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> num = <span class="hljs-number">10</span><br>  <span class="hljs-built_in">this</span>.add = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    num++<br>    <span class="hljs-built_in">console</span>.log(num)<br>  &#125;<br>  <span class="hljs-built_in">this</span>.minus = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    num--<br>    <span class="hljs-built_in">console</span>.log(num)<br>  &#125;<br>  <span class="hljs-comment">//return this //构造函数被实例化时，内部产生一个this，最后隐式返回this</span><br>&#125;<br><span class="hljs-keyword">let</span> compute = <span class="hljs-keyword">new</span> Compute()<br>compute.add() <span class="hljs-comment">//11</span><br>compute.add() <span class="hljs-comment">//12</span><br>compute.minus() <span class="hljs-comment">//11</span><br></code></pre></div></td></tr></table></figure>
<h3 id="闭包中的this对象"><a href="#闭包中的this对象" class="headerlink" title="闭包中的this对象"></a>闭包中的this对象</h3><p>在闭包中使用 this 会让代码变复杂。<br>如果内部函数没有使用箭头函数定义，则 this 对象会在运行时绑定到执行函数的上下文。<br>如果在全局函数中调用，则 this 在非严格模式下等于 window，在严格模式下等于 undefined。<br>如果作为某个对象的方法调用，则 this 等于这个对象。<br>匿名函数在这种情况下不会绑定到某个对象，这就意味着 this 会指向 window，除非在严格模式下 this 是 undefined。<br>不过，由于闭包的写法所致，这个事实有时候没有那么容易看出来。  </p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">window</span>.identity = <span class="hljs-string">&#x27;The Window&#x27;</span><br><span class="hljs-keyword">let</span> object = &#123;<br>  <span class="hljs-attr">identity</span>: <span class="hljs-string">&#x27;My Object&#x27;</span>,<br>  <span class="hljs-function"><span class="hljs-title">getIdentityFunc</span>(<span class="hljs-params"></span>)</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.identity<br>    &#125;<br>  &#125;,<br>&#125;<br><span class="hljs-built_in">console</span>.log(object.getIdentityFunc()()) <span class="hljs-comment">// &#x27;The Window&#x27;</span><br></code></pre></div></td></tr></table></figure>
<p>为什么匿名函数没有使用其包含作用域（<code>getIdentityFunc()</code>）的 this 对象呢？<br>每个函数在被调用时都会自动创建两个特殊变量：this 和 arguments。内部函数永远不可能直接访问外部函数的这两个变量。但是，如果把 this 保存到闭包可以访问的另一个变量中， 则是行得通的。  </p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">window</span>.identity = <span class="hljs-string">&#x27;The Window&#x27;</span><br><span class="hljs-keyword">let</span> object = &#123;<br>  <span class="hljs-attr">identity</span>: <span class="hljs-string">&#x27;My Object&#x27;</span>,<br>  <span class="hljs-function"><span class="hljs-title">getIdentityFunc</span>(<span class="hljs-params"></span>)</span> &#123;<br>    <span class="hljs-keyword">let</span> that = <span class="hljs-built_in">this</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>      <span class="hljs-keyword">return</span> that.identity<br>    &#125;<br>  &#125;,<br>&#125;<br><span class="hljs-built_in">console</span>.log(object.getIdentityFunc()()) <span class="hljs-comment">// &#x27;My Object&#x27;</span><br></code></pre></div></td></tr></table></figure>
<p>在定义匿名函数之前，先把外部函数的 this 保存到变量 that 中。然后在定义闭包时，就可以让它访问 that，因为这是包含函数中名称没有任何冲突的一个变量。即使在外部函数返回之后，that 仍然指向 object，所以调用 object.getIdentityFunc()() 就会返回”My Object”  </p>
<h2 id="立即执行函数"><a href="#立即执行函数" class="headerlink" title="立即执行函数"></a>立即执行函数</h2><p><strong>自动执行，执行完成之后立即释放</strong><br>立即执行函数 IIFE - immediately-invoked function<br><strong>()括号包起来的都叫表达式，一定是表达式才能被执行符号执行</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>&#125;)()<br>			<br>((<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>&#125;)()) <span class="hljs-comment">//W3C推荐</span><br></code></pre></div></td></tr></table></figure>
<p><strong>立即执行函数一定是表达式，非表达式不能执行</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">//表达式</span><br>   (<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test1</span>(<span class="hljs-params"></span>) </span>&#123;<br>     <span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>)<br>   &#125;)()<br>   <span class="hljs-comment">//1</span><br><br><span class="hljs-comment">//非表达式</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>     <span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>);<br>   &#125;()<br><span class="hljs-comment">//Uncaught SyntaxError: Unexpected token &#x27;)&#x27;</span><br><br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>     <span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>)<br>   &#125;(<span class="hljs-number">2</span>)<br><span class="hljs-comment">//不报错，默认是一个函数和表达式</span><br><br></code></pre></div></td></tr></table></figure>
<p><strong>立即执行函数执行完后立即销毁</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">   (<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;&#125;)()<br><span class="hljs-comment">// test.name</span><br><span class="hljs-comment">// VM561:1 Uncaught ReferenceError: test is not defined at &lt;anonymous&gt;:1:1</span><br></code></pre></div></td></tr></table></figure>
<p>普通函数执行完后不释放</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br><span class="hljs-comment">// test.name</span><br><span class="hljs-comment">// &#x27;test&#x27;</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">//普通函数赋值不执行</span><br>	<span class="hljs-keyword">let</span> test = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>      <span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>)<br>    &#125;<br>    <span class="hljs-built_in">console</span>.log(test)<br>    <span class="hljs-comment">// ƒ () &#123;</span><br>    <span class="hljs-comment">//   console.log(1)</span><br>    <span class="hljs-comment">// &#125;</span><br><br>	<span class="hljs-comment">//立即执行函数，马上执行被销毁</span><br>    <span class="hljs-keyword">let</span> test1 = (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>      <span class="hljs-built_in">console</span>.log(<span class="hljs-number">2</span>)<br>    &#125;)()<br>    <span class="hljs-built_in">console</span>.log(test1) <span class="hljs-comment">//undefined</span><br>    <span class="hljs-comment">//2</span><br>    <span class="hljs-comment">//undefined</span><br></code></pre></div></td></tr></table></figure>
<p>立即执行函数可带参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(a + b) <span class="hljs-comment">//6</span><br>&#125;)(<span class="hljs-number">2</span>, <span class="hljs-number">4</span>) <span class="hljs-comment">//后边的小括号可带实参，函数执行后立即销毁</span><br></code></pre></div></td></tr></table></figure>
<p>立即执行函数的返回值要赋值给变量才能访问</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> num = (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> a + b<br>&#125;)(<span class="hljs-number">2</span>, <span class="hljs-number">4</span>)<br><span class="hljs-built_in">console</span>.log(num) <span class="hljs-comment">//6</span><br></code></pre></div></td></tr></table></figure>
<p>函数声明变成表达式的其他方法  +  -  !  ||  &amp;&amp; ，函数变成表达式之后，函数名自动忽略</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"> <span class="hljs-number">1</span> &amp;&amp; (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>     <span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>) <span class="hljs-comment">//1</span><br>   &#125;)()<br><br><span class="hljs-literal">undefined</span> || (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>     <span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>) <span class="hljs-comment">//1</span><br>   &#125;)()<br><br> -(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>   <span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>) <span class="hljs-comment">//1</span><br> &#125;)()<br><br> !(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>   <span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>) <span class="hljs-comment">//1</span><br> &#125;)()<br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a = <span class="hljs-number">10</span><br><span class="hljs-keyword">if</span> (<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params"></span>) </span>&#123;&#125;) &#123;<br>  a += <span class="hljs-keyword">typeof</span> b <span class="hljs-comment">//(function b() &#123;&#125;)是表达式，函数名会被忽略，所以typeof b是undefined</span><br>&#125;<br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//10undefined</span><br></code></pre></div></td></tr></table></figure>
<p>将以下代码修改，打印出0到9的数</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">var</span> arr = []<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>    arr[i] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>      <span class="hljs-built_in">document</span>.write(i + <span class="hljs-string">&#x27; &#x27;</span>)<br>    &#125; <span class="hljs-comment">//不是立即执行函数，i=10时，就存了10个匿名函数</span><br>  &#125;<br>  <br>  <span class="hljs-comment">// var i = 0</span><br>  <span class="hljs-comment">// for (; i &lt; 10; ) &#123;</span><br>  <span class="hljs-comment">//   arr[i] = function () &#123;</span><br>  <span class="hljs-comment">//     document.write(i + &#x27; &#x27;)</span><br>  <span class="hljs-comment">//   &#125; //不是立即执行函数，i=9时，存了10个匿名函数</span><br>  <span class="hljs-comment">// &#125;</span><br>  <span class="hljs-comment">// i++</span><br>  <br>  <span class="hljs-comment">// console.log(i)//10</span><br>  <span class="hljs-keyword">return</span> arr <span class="hljs-comment">//return时，形成了闭包,i已经等于10了，匿名函数公有test的AO，</span><br>&#125;<br><span class="hljs-keyword">var</span> myArr = test()<br><span class="hljs-built_in">console</span>.log(myArr)<br><span class="hljs-comment">// [ƒ, ƒ, ƒ, ƒ, ƒ, ƒ, ƒ, ƒ, ƒ, ƒ]</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">10</span>; j++) &#123;<br>  myArr[j]() <span class="hljs-comment">//循环j的时候，拿到的值是最后一次i的值</span><br>&#125;<br><span class="hljs-comment">//10 10 10 10 10 10 10 10 10 10</span><br></code></pre></div></td></tr></table></figure>
<p>修改后</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">//方法一，第二个循环里的立即执行函数给它内部的匿名函数传参</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>     <span class="hljs-keyword">var</span> arr = []<br>     <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>       arr[i] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">num</span>) </span>&#123;<br>         <span class="hljs-built_in">document</span>.write(num + <span class="hljs-string">&#x27; &#x27;</span>)<br>       &#125;<br>     &#125;<br>     <span class="hljs-keyword">return</span> arr<br>   &#125;<br>   <span class="hljs-keyword">var</span> myArr = test()<br>   <span class="hljs-built_in">console</span>.log(myArr)<br>   <span class="hljs-comment">// [ƒ, ƒ, ƒ, ƒ, ƒ, ƒ, ƒ, ƒ, ƒ, ƒ]</span><br>   <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">10</span>; j++) &#123;<br>     myArr[j](j)<br>   &#125;<br>   <span class="hljs-comment">//0 1 2 3 4 5 6 7 8 9</span><br><br><span class="hljs-comment">//方法二，在第一个循环添加一个立即执行函数，将循环每一次的i保存并传给它内部的匿名函数</span><br>   <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test1</span>(<span class="hljs-params"></span>) </span>&#123;<br>     <span class="hljs-keyword">var</span> arr = []<br>     <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>       (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">j</span>) </span>&#123;<br>         arr[j] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>           <span class="hljs-built_in">document</span>.write(j + <span class="hljs-string">&#x27; &#x27;</span>)<br>         &#125;<br>       &#125;)(i)<br>     &#125;<br>     <span class="hljs-keyword">return</span> arr<br>   &#125;<br>   <span class="hljs-keyword">var</span> myArr = test1()<br>   <span class="hljs-built_in">console</span>.log(myArr)<br>   <span class="hljs-comment">// [ƒ, ƒ, ƒ, ƒ, ƒ, ƒ, ƒ, ƒ, ƒ, ƒ]</span><br>   <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">10</span>; j++) &#123;<br>     myArr[j]()<br>   &#125;<br>   <span class="hljs-comment">// 0 1 2 3 4 5 6 7 8 9</span><br><br><span class="hljs-comment">//方法三，直接使用立即执行函数</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test2</span>(<span class="hljs-params"></span>) </span>&#123;<br>     <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>       (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>         <span class="hljs-built_in">document</span>.write(i + <span class="hljs-string">&#x27; &#x27;</span>)<br>       &#125;)()<br>     &#125;<br>   &#125;<br>   test2() <span class="hljs-comment">//0 1 2 3 4 5 6 7 8 9</span><br></code></pre></div></td></tr></table></figure>
<p>修改以下代码，使之点击对应的li，打印对应li下标</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">&lt;ul&gt;<br>  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>4<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>5<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>&lt;/ul&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="javascript"><span class="xml">  <span class="hljs-keyword">var</span> uLi = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">&#x27;li&#x27;</span>)</span></span><br><span class="javascript"><span class="xml">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; uLi.length; i++) &#123;</span></span><br><span class="javascript"><span class="xml">    uLi[i].onclick = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123; <span class="hljs-comment">//.onclick就相当于是return，每点击一下就形成了闭包</span></span></span><br><span class="javascript"><span class="xml">      <span class="hljs-built_in">console</span>.log(i) <span class="hljs-comment">//不管点击哪一个li都是5</span></span></span><br><span class="javascript"><span class="xml">    &#125;</span></span><br><span class="javascript"><span class="xml">  &#125;</span></span><br><span class="javascript"><span class="xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></div></td></tr></table></figure>
<p>用立即执行函数包裹点击事件，并将外部的i作为实参传入匿名函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">&lt;ul&gt;<br>  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>4<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>5<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>&lt;/ul&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="javascript"><span class="xml">  <span class="hljs-keyword">var</span> uLi = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">&#x27;li&#x27;</span>)</span></span><br><span class="javascript"><span class="xml">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; uLi.length; i++) &#123;</span></span><br><span class="javascript"><span class="xml">    ;(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">j</span>) </span>&#123;</span></span><br><span class="javascript"><span class="xml">      uLi[j].onclick = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span></span><br><span class="javascript"><span class="xml">        <span class="hljs-built_in">console</span>.log(j)</span></span><br><span class="javascript"><span class="xml">      &#125;</span></span><br><span class="javascript"><span class="xml">    &#125;)(i) <span class="hljs-comment">//用立即执行函数包裹点击事件，并将外部的i作为实参传入匿名函数</span></span></span><br><span class="javascript"><span class="xml">  &#125;</span></span><br><span class="javascript"><span class="xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></div></td></tr></table></figure>
<h2 id="逗号运算"><a href="#逗号运算" class="headerlink" title="逗号运算"></a>逗号运算</h2><p>逗号运算默认只输出最后一个</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> num = (<span class="hljs-number">1</span> + <span class="hljs-number">1</span>, <span class="hljs-number">2</span> + <span class="hljs-number">2</span>, <span class="hljs-number">1</span> - <span class="hljs-number">1</span>)<br><span class="hljs-built_in">console</span>.log(num) <span class="hljs-comment">// 0</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> fn = (<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test1</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>&#125;,<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test2</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;2&#x27;</span><br>&#125;)()<br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> fn) <span class="hljs-comment">//string</span><br></code></pre></div></td></tr></table></figure>
<h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><h3 id="创建对象"><a href="#创建对象" class="headerlink" title="创建对象"></a>创建对象</h3><h4 id="对象字面量"><a href="#对象字面量" class="headerlink" title="对象字面量"></a>对象字面量</h4><p>在对象内部，都是键值对来存储数据</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> obj = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;张三&#x27;</span>,<br>  <span class="hljs-attr">sex</span>: <span class="hljs-string">&#x27;男&#x27;</span>,<br>&#125;<br><span class="hljs-comment">//对象字面量</span><br>obj.name = <span class="hljs-string">&#x27;李四&#x27;</span><br><span class="hljs-built_in">console</span>.log(obj)<br></code></pre></div></td></tr></table></figure>
<h4 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h4><p>对象和构造函数不是同一个东西，对象是通过实例化构造函数(<code>new Object()</code>)而创造的对象实例</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>() <span class="hljs-comment">//与对象字面量相等</span><br>obj.name = <span class="hljs-string">&#x27;张三&#x27;</span><br></code></pre></div></td></tr></table></figure>
<p>构造函数实例化之后this指向实例化对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Test</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-comment">//new的时候构造函数内部产生成this，生成原型链</span><br>  <span class="hljs-comment">// let this = &#123;</span><br>  <span class="hljs-comment">//  __proto__: Test.prototype</span><br>  <span class="hljs-comment">// &#125;</span><br>  <span class="hljs-built_in">this</span>.name = <span class="hljs-string">&#x27;123&#x27;</span><br>&#125;<br><span class="hljs-keyword">let</span> test = <span class="hljs-keyword">new</span> Test()<br><span class="hljs-comment">// new 之前this指向window</span><br><span class="hljs-comment">// AO = &#123;</span><br><span class="hljs-comment">// 	 this: window</span><br><span class="hljs-comment">// &#125;</span><br><br><span class="hljs-comment">// new 之后this接收属性和原型生成原型链</span><br><span class="hljs-comment">// AO = &#123;</span><br><span class="hljs-comment">//   this:&#123;</span><br><span class="hljs-comment">//      name:&#x27;123&#x27;, //接收属性</span><br><span class="hljs-comment">//      __proto__: Test.prototype //生成原型链</span><br><span class="hljs-comment">//   &#125;</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-comment">//new的时候产生GO</span><br><span class="hljs-comment">// GO = &#123;</span><br><span class="hljs-comment">//   Test: function test() &#123;...&#125;</span><br><span class="hljs-comment">//   test:&#123; //new 之后</span><br><span class="hljs-comment">//      name:&#x27;123&#x27;, //接收属性</span><br><span class="hljs-comment">//      __proto__: Test.prototype //生成原型链</span><br><span class="hljs-comment">//   &#125;</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></div></td></tr></table></figure>
<h4 id="工厂模式"><a href="#工厂模式" class="headerlink" title="工厂模式"></a>工厂模式</h4><p> 这种工厂模式虽然可以解决创建多个类似对象的问题，但没有解决对象标识问题（即新创建的对象是什么类型）</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createPerson</span>(<span class="hljs-params">name, age, job</span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> o = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>()<br>  o.name = name<br>  o.age = age<br>  o.job = job<br>  o.sayName = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.name)<br>  &#125;<br>  <span class="hljs-keyword">return</span> o<br>&#125;<br><span class="hljs-keyword">let</span> person1 = createPerson(<span class="hljs-string">&#x27;Nicholas&#x27;</span>, <span class="hljs-number">29</span>, <span class="hljs-string">&#x27;Software Engineer&#x27;</span>)<br><span class="hljs-keyword">let</span> person2 = createPerson(<span class="hljs-string">&#x27;Greg&#x27;</span>, <span class="hljs-number">27</span>, <span class="hljs-string">&#x27;Doctor&#x27;</span>)<br></code></pre></div></td></tr></table></figure>
<h3 id="实例化原理"><a href="#实例化原理" class="headerlink" title="实例化原理"></a>实例化原理</h3><h4 id="自定义构造函数-构造函数模式"><a href="#自定义构造函数-构造函数模式" class="headerlink" title="自定义构造函数(构造函数模式)"></a>自定义构造函数(构造函数模式)</h4><p>建议大驼峰，区别于普通函数<br>构造函数模式和工厂模式的区别</p>
<ul>
<li>没有显式地创建对象。</li>
<li>属性和方法直接赋值给了 this。</li>
<li>没有 return。  </li>
</ul>
<p>在对象实例化之前，this指向window，实例化对象之后，this指向实例化的那个对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">//类似构造工厂，此时没有实例化，this指向window</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Teacher</span>(<span class="hljs-params"></span>) </span>&#123;<br>     <span class="hljs-built_in">this</span>.name = <span class="hljs-string">&#x27;张三&#x27;</span> <span class="hljs-comment">//此处this没有指向，谁new之后才指向谁</span><br>     <span class="hljs-built_in">this</span>.sex = <span class="hljs-string">&#x27;男&#x27;</span><br>     <span class="hljs-built_in">this</span>.smoke = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>       <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;I am smoking&#x27;</span>)<br>     &#125;<br>   &#125;<br>   <span class="hljs-keyword">let</span> teacher1 = <span class="hljs-keyword">new</span> Teacher() <span class="hljs-comment">//实例化对象之后，此时this指向teacher1</span><br>   <span class="hljs-keyword">let</span> teacher2 = <span class="hljs-keyword">new</span> Teacher() <span class="hljs-comment">//此时this指向teacher2</span><br>   teacher1.name = <span class="hljs-string">&#x27;李四&#x27;</span><br><span class="hljs-comment">//实例化的两个对象修改属性互不干扰</span><br>   <span class="hljs-built_in">console</span>.log(teacher1, teacher2)<br>   <span class="hljs-comment">// Teacher &#123;name: &#x27;李四&#x27;, sex: &#x27;男&#x27;, smoke: ƒ&#125;</span><br>   <span class="hljs-comment">// Teacher &#123;name: &#x27;张三&#x27;, sex: &#x27;男&#x27;, smoke: ƒ&#125;</span><br></code></pre></div></td></tr></table></figure>
<p>也可以传参，解决创建多个类似对象的问题  </p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params">name, age, job</span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.name = name<br>  <span class="hljs-built_in">this</span>.age = age<br>  <span class="hljs-built_in">this</span>.job = job<br>  <span class="hljs-built_in">this</span>.sayName = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.name)<br>  &#125;<br>&#125;<br><span class="hljs-keyword">let</span> person1 = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">&#x27;Nicholas&#x27;</span>, <span class="hljs-number">29</span>, <span class="hljs-string">&#x27;Software Engineer&#x27;</span>)<br><span class="hljs-keyword">let</span> person2 = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">&#x27;Greg&#x27;</span>, <span class="hljs-number">27</span>, <span class="hljs-string">&#x27;Doctor&#x27;</span>)<br>person1.sayName() <span class="hljs-comment">// Nicholas</span><br>person2.sayName() <span class="hljs-comment">// Greg</span><br></code></pre></div></td></tr></table></figure>
<p>也可以传对象，进行配置，方便以后维护和使用。vue也是这样的</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params">opt</span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.name = opt.name<br>  <span class="hljs-built_in">this</span>.age = opt.age<br>  <span class="hljs-built_in">this</span>.job = opt.job<br>  <span class="hljs-built_in">this</span>.sayName = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.name)<br>  &#125;<br>&#125;<br><span class="hljs-keyword">let</span> person1 = <span class="hljs-keyword">new</span> Person(&#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;张三&#x27;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-string">&#x27;男&#x27;</span>,<br>  <span class="hljs-attr">job</span>: <span class="hljs-string">&#x27;老师&#x27;</span>,<br>&#125;)<br><span class="hljs-keyword">let</span> person2 = <span class="hljs-keyword">new</span> Person(&#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;张三2&#x27;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-string">&#x27;女&#x27;</span>,<br>  <span class="hljs-attr">job</span>: <span class="hljs-string">&#x27;老师&#x27;</span>,<br>&#125;)<br><span class="hljs-built_in">console</span>.log(person1, person2)<br><span class="hljs-comment">//Person &#123;name: &#x27;张三&#x27;, age: &#x27;男&#x27;, job: &#x27;老师&#x27;, sayName: ƒ&#125;</span><br><span class="hljs-comment">//Person &#123;name: &#x27;张三2&#x27;, age: &#x27;女&#x27;, job: &#x27;老师&#x27;, sayName: ƒ&#125;</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> data = &#123; <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> &#125;<br><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#example&#x27;</span>,<br>  <span class="hljs-attr">data</span>: data,<br>&#125;)<br></code></pre></div></td></tr></table></figure>
<h5 id="构造函数中的this"><a href="#构造函数中的this" class="headerlink" title="构造函数中的this"></a>构造函数中的this</h5><p>第一步，保存一个空的this对象<br>第二步，执行构造函数内部的代码，将数据存入空this对象<br>第三步，构造函数隐式的返回this</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params">color, brand</span>) </span>&#123;<br>  <span class="hljs-comment">//实例化之后内部产生的this</span><br>  <span class="hljs-comment">// this=&#123; //第二步，执行构造函数内部的代码，将数据存入this(添加属性)</span><br>  <span class="hljs-comment">//   color:color,</span><br>  <span class="hljs-comment">//   brand:brand</span><br>  <span class="hljs-comment">// &#125;</span><br>  <span class="hljs-built_in">this</span>.color = color<br>  <span class="hljs-built_in">this</span>.brand = brand<br><br>  <span class="hljs-comment">//return this; //第三步，隐式的返回this，所以GO才能拿到car1这个对象的this</span><br>&#125;<br><span class="hljs-comment">//Car被实例化时，相当于普通函数被执行，就有自己的AO</span><br><span class="hljs-keyword">let</span> car1 = <span class="hljs-keyword">new</span> Car(<span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;Benz&#x27;</span>) <span class="hljs-comment">//相当于返回构造之后的this</span><br><span class="hljs-comment">// GO = &#123;</span><br><span class="hljs-comment">//   Car:(function)</span><br><span class="hljs-comment">//   car1:&#123; //实例化对象后就产生car1变量</span><br><span class="hljs-comment">//      color:&#x27;red&#x27;,</span><br><span class="hljs-comment">//      brand:&#x27;Benz&#x27;</span><br><span class="hljs-comment">//   &#125;</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-comment">// AO = &#123;</span><br><span class="hljs-comment">//   this: &#123;</span><br><span class="hljs-comment">//      color:color,</span><br><span class="hljs-comment">//      brand:brand</span><br><span class="hljs-comment">//   &#125; //第一步，实例化时就产生AO和空的this对象。第二步执行后才将数据存入</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-built_in">console</span>.log(car1.color)<br></code></pre></div></td></tr></table></figure>
<h5 id="不用new和this构造函数"><a href="#不用new和this构造函数" class="headerlink" title="不用new和this构造函数"></a>不用new和this构造函数</h5><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params">color, brand</span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> me = &#123;&#125;<br>  me.color = color<br>  me.brand = brand<br>  <span class="hljs-keyword">return</span> me<br>&#125;<br><span class="hljs-keyword">let</span> car = Car(<span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;Mazda&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(car.color) <span class="hljs-comment">// red</span><br><span class="hljs-built_in">console</span>.log(car.brand) <span class="hljs-comment">// Mazda</span><br></code></pre></div></td></tr></table></figure>
<h5 id="显示返回一个值"><a href="#显示返回一个值" class="headerlink" title="显示返回一个值"></a>显示返回一个值</h5><p>返回原始值没有用</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.color = <span class="hljs-string">&#x27;red&#x27;</span><br>  <span class="hljs-built_in">this</span>.brand = <span class="hljs-string">&#x27;Mazda&#x27;</span><br>  <span class="hljs-comment">// return 123 //Car &#123;color: &#x27;red&#x27;, brand: &#x27;Mazda&#x27;&#125;</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;abc&#x27;</span> <span class="hljs-comment">//Car &#123;color: &#x27;red&#x27;, brand: &#x27;Mazda&#x27;&#125;</span><br>&#125;<br><span class="hljs-keyword">let</span> car = <span class="hljs-keyword">new</span> Car()<br><span class="hljs-built_in">console</span>.log(car) <br></code></pre></div></td></tr></table></figure>
<p>返回引用值就会覆盖</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.color = <span class="hljs-string">&#x27;red&#x27;</span><br>  <span class="hljs-built_in">this</span>.brand = <span class="hljs-string">&#x27;Mazda&#x27;</span><br>  <span class="hljs-comment">// return [&#x27;1&#x27;] //[&#x27;1&#x27;]</span><br>  <span class="hljs-comment">// return &#123;&#125; //&#123;&#125;</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">name</span>(<span class="hljs-params"></span>) </span>&#123;&#125; <span class="hljs-comment">//ƒ name() &#123;&#125;</span><br>&#125;<br><span class="hljs-keyword">let</span> car = <span class="hljs-keyword">new</span> Car()<br><span class="hljs-built_in">console</span>.log(car)<br></code></pre></div></td></tr></table></figure>
<p>计算加法乘法</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Compute</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> args = <span class="hljs-built_in">arguments</span>,<br>    res<br>  <span class="hljs-built_in">this</span>.plus = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    res = <span class="hljs-number">0</span><br>    loop(<span class="hljs-string">&#x27;add&#x27;</span>, res)<br>  &#125;<br>  <span class="hljs-built_in">this</span>.times = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    res = <span class="hljs-number">1</span><br>    loop(<span class="hljs-string">&#x27;mul&#x27;</span>, res)<br>  &#125;<br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loop</span>(<span class="hljs-params">method, res</span>) </span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; args.length; i++) &#123;<br>      <span class="hljs-keyword">let</span> item = args[i]<br>      <span class="hljs-keyword">if</span> (method === <span class="hljs-string">&#x27;add&#x27;</span>) &#123;<br>        res += item<br>      &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (method === <span class="hljs-string">&#x27;mul&#x27;</span>) &#123;<br>        res *= item<br>      &#125;<br>    &#125;<br>    <span class="hljs-built_in">console</span>.log(res)<br>  &#125;<br>&#125;<br><span class="hljs-keyword">let</span> compute = <span class="hljs-keyword">new</span> Compute(<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>)<br>compute.plus() <span class="hljs-comment">//12</span><br>compute.times() <span class="hljs-comment">//48</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Compute</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> res = <span class="hljs-number">0</span><br>  <span class="hljs-built_in">this</span>.plus = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    loop(<span class="hljs-built_in">arguments</span>, <span class="hljs-string">&#x27;add&#x27;</span>, res)<br>  &#125;<br>  <span class="hljs-built_in">this</span>.times = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    res = <span class="hljs-number">1</span><br>    loop(<span class="hljs-built_in">arguments</span>, <span class="hljs-string">&#x27;mul&#x27;</span>, res)<br>  &#125;<br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loop</span>(<span class="hljs-params">args, method, res</span>) </span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; args.length; i++) &#123;<br>      <span class="hljs-keyword">let</span> item = args[i]<br>      <span class="hljs-keyword">if</span> (method === <span class="hljs-string">&#x27;add&#x27;</span>) &#123;<br>        res += item<br>      &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (method === <span class="hljs-string">&#x27;mul&#x27;</span>) &#123;<br>        res *= item<br>      &#125;<br>    &#125;<br>    <span class="hljs-built_in">console</span>.log(res)<br>  &#125;<br>&#125;<br><span class="hljs-keyword">let</span> compute = <span class="hljs-keyword">new</span> Compute()<br>compute.plus(<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>) <span class="hljs-comment">//12</span><br>compute.times(<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>) <span class="hljs-comment">//105</span><br></code></pre></div></td></tr></table></figure>


<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params">opt</span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.brand = opt.brand<br>  <span class="hljs-built_in">this</span>.color = opt.color<br>  <span class="hljs-built_in">this</span>.displacement = opt.displacement<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params">opt</span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.name = opt.name<br>  <span class="hljs-built_in">this</span>.age = opt.age<br>  <span class="hljs-built_in">this</span>.income = opt.income<br>  <span class="hljs-built_in">this</span>.selectCar = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-keyword">let</span> myCar = <span class="hljs-keyword">new</span> Car(opt.carOpt)<br>    <span class="hljs-built_in">console</span>.log(<br>      <span class="hljs-built_in">this</span>.name +<br>        <span class="hljs-string">&#x27;挑选了排量&#x27;</span> +<br>        myCar.displacement +<br>        <span class="hljs-string">&#x27;的&#x27;</span> +<br>        myCar.color +<br>        myCar.brand,<br>    )<br>  &#125;<br>&#125;<br><span class="hljs-keyword">let</span> jone = <span class="hljs-keyword">new</span> Person(&#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;约翰&#x27;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">29</span>,<br>  <span class="hljs-attr">income</span>: <span class="hljs-string">&#x27;20k&#x27;</span>,<br>  <span class="hljs-attr">carOpt</span>: &#123;<br>    <span class="hljs-attr">brand</span>: <span class="hljs-string">&#x27;马自达&#x27;</span>,<br>    <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;红色&#x27;</span>,<br>    <span class="hljs-attr">displacement</span>: <span class="hljs-string">&#x27;2.0&#x27;</span>,<br>  &#125;,<br>&#125;)<br>jone.selectCar()<br></code></pre></div></td></tr></table></figure>
<p>输入字符串，判断多少字节</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> getBytes1 = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">str</span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> bytes = <span class="hljs-number">0</span><br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; str.length; i++) &#123;<br>    <span class="hljs-keyword">let</span> pos = str.charCodeAt(i)<br>    <span class="hljs-keyword">if</span> (pos &lt;= <span class="hljs-number">255</span>) &#123;<br>      bytes++<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      bytes += <span class="hljs-number">2</span><br>    &#125;<br>  &#125;<br>  <span class="hljs-keyword">return</span> bytes<br>&#125;<br><span class="hljs-built_in">console</span>.log(getBytes1(<span class="hljs-string">&#x27;你好！ 123&#x27;</span>)) <span class="hljs-comment">//11</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getBytes2</span>(<span class="hljs-params">str</span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> bytes = str.length<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; str.length; i++) &#123;<br>    <span class="hljs-keyword">let</span> pos = str.charCodeAt(i)<br>    <span class="hljs-keyword">if</span> (pos &gt; <span class="hljs-number">255</span>) &#123;<br>      bytes++<br>    &#125;<br>  &#125;<br>  <span class="hljs-keyword">return</span> bytes<br>&#125;<br><span class="hljs-built_in">console</span>.log(getBytes2(<span class="hljs-string">&#x27;你好！ 123&#x27;</span>)) <span class="hljs-comment">//10</span><br></code></pre></div></td></tr></table></figure>
<h3 id="包装类"><a href="#包装类" class="headerlink" title="包装类"></a>包装类</h3><p><strong>原始值没有自己的方法和属性，但是可以进行包装变成对象</strong><br><strong>string是原始值，没有length属性</strong><br>包装系统内置三种构造函数<code>new Number</code>、<code>new String</code>、<code>new Boolean</code><br>包装成对应对象之后可以为其添加属性，也能进行计算</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Number</span>(<span class="hljs-number">1</span>)<br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//Number &#123;1&#125;</span><br>a.A = <span class="hljs-string">&#x27;1&#x27;</span><br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//Number &#123;1, A: &#x27;1&#x27;&#125;</span><br><span class="hljs-keyword">let</span> a1 = a + <span class="hljs-number">1</span><br><span class="hljs-built_in">console</span>.log(a1) <span class="hljs-comment">//2</span><br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//Number &#123;1, A: &#x27;1&#x27;&#125;</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> test = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Number</span>(<span class="hljs-literal">undefined</span>)<br><span class="hljs-built_in">console</span>.log(test) <span class="hljs-comment">//Number &#123;NaN&#125;</span><br><span class="hljs-keyword">let</span> test1 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Number</span>(<span class="hljs-literal">null</span>)<br><span class="hljs-built_in">console</span>.log(test1) <span class="hljs-comment">//Number &#123;0&#125;</span><br><span class="hljs-keyword">let</span> test2 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">String</span>(<span class="hljs-literal">undefined</span>)<br><span class="hljs-built_in">console</span>.log(test2) <span class="hljs-comment">//String &#123;&#x27;undefined&#x27;&#125;</span><br><span class="hljs-keyword">let</span> test3 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">String</span>(<span class="hljs-literal">null</span>)<br><span class="hljs-built_in">console</span>.log(test3) <span class="hljs-comment">//String &#123;&#x27;null&#x27;&#125;</span><br></code></pre></div></td></tr></table></figure>
<p>undefined、null是不可以设置任何属性和方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(<span class="hljs-literal">null</span>.length) <span class="hljs-comment">//Cannot read properties of null (reading &#x27;length&#x27;)</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-literal">undefined</span>.length) <span class="hljs-comment">//Cannot read properties of undefined (reading &#x27;length&#x27;)</span><br></code></pre></div></td></tr></table></figure>
<h4 id="包装类过程"><a href="#包装类过程" class="headerlink" title="包装类过程"></a>包装类过程</h4><p>如果不是对象</p>
<ul>
<li>先判断定义类型是什么</li>
<li>然后系统自动转化成对应对象</li>
<li>最后无法保存对象，就只能删掉那个属性<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">//JS包装类</span><br><span class="hljs-keyword">let</span> a = <span class="hljs-number">123</span> <span class="hljs-comment">//原始值 -&gt; 数字</span><br>a.len = <span class="hljs-number">3</span><br><span class="hljs-comment">//new Number(123).len=3; //系统自动转化成对应对象，但是没法保存 只能删掉这个属性</span><br><span class="hljs-built_in">console</span>.log(a.len) <span class="hljs-comment">//undefined  //再次访问的时候就是undefined</span><br></code></pre></div></td></tr></table></figure>
string是原始值，没有length属性。<br>str能够使用length是因为内部已经进行了包装类<code>new String(str).length</code><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;abc&#x27;</span><br><span class="hljs-comment">//str能够使用length是因为内部已经进行了包装new String(str).length</span><br><span class="hljs-comment">//new String(str).length</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">new</span> <span class="hljs-built_in">String</span>(str).length) <span class="hljs-comment">//3</span><br></code></pre></div></td></tr></table></figure>
数组有length属性，可以进行截断<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>arr.length = <span class="hljs-number">3</span><br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">// [1, 2, 3]</span><br><span class="hljs-keyword">let</span> arr1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>arr1.length = <span class="hljs-number">6</span><br><span class="hljs-built_in">console</span>.log(arr1) <span class="hljs-comment">// [1, 2, 3, 4, 5, empty]</span><br></code></pre></div></td></tr></table></figure>
string不可以被截断,<br>因为开始判断是原始值，然后进行包装类，后来因为不能保存，就删掉，结果就是打印无变化<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;abc&#x27;</span><br>str.length = <span class="hljs-number">1</span> <span class="hljs-comment">//new String(str).length=1 是原始值，进行包装类</span><br><span class="hljs-comment">//delete 无法保存就删除掉</span><br><span class="hljs-built_in">console</span>.log(str) <span class="hljs-comment">//abc  最后打印没有变化</span><br></code></pre></div></td></tr></table></figure>
修改以下代码，打印出string<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> name = <span class="hljs-string">&#x27;abc&#x27;</span><br>name += <span class="hljs-number">10</span> <span class="hljs-comment">//&#x27;abc10&#x27;</span><br><span class="hljs-keyword">let</span> type = <span class="hljs-keyword">typeof</span> name <span class="hljs-comment">//&#x27;string&#x27;</span><br><span class="hljs-keyword">if</span> (type.length === <span class="hljs-number">6</span>) &#123;<br>  <span class="hljs-comment">//true</span><br>	type.text = <span class="hljs-string">&#x27;string&#x27;</span> <span class="hljs-comment">//new String(type).text=&#x27;string&#x27;原始值包装类，但是无法保存</span><br>  <span class="hljs-comment">//delete</span><br>&#125;<br><span class="hljs-built_in">console</span>.log(type.text) <span class="hljs-comment">//undefined</span><br></code></pre></div></td></tr></table></figure>
提前包装类，转换成String对象，之后就可以添加属性<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> name = <span class="hljs-string">&#x27;abc&#x27;</span><br> name += <span class="hljs-number">10</span> <span class="hljs-comment">//&#x27;abc10&#x27;</span><br> <span class="hljs-keyword">let</span> type = <span class="hljs-keyword">new</span> <span class="hljs-built_in">String</span>(<span class="hljs-keyword">typeof</span> name) <span class="hljs-comment">//直接包装类，打印出字符串 string</span><br> <span class="hljs-keyword">if</span> (type.length === <span class="hljs-number">6</span>) &#123;<br>   <span class="hljs-comment">//true</span><br>   type.text = <span class="hljs-string">&#x27;string&#x27;</span> <span class="hljs-comment">//type已经是string对象可以添加属性</span><br> &#125;<br> <span class="hljs-built_in">console</span>.log(type.text) <span class="hljs-comment">//string</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Test</span>(<span class="hljs-params">a, b, c</span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> d = <span class="hljs-number">1</span><br>  <span class="hljs-built_in">this</span>.a = a<br>  <span class="hljs-built_in">this</span>.b = b<br>  <span class="hljs-built_in">this</span>.c = c<br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params"></span>) </span>&#123;<br>    d++<br>    <span class="hljs-built_in">console</span>.log(d)<br>  &#125;<br>  <span class="hljs-built_in">this</span>.g = f<br>  <span class="hljs-comment">//return this; 隐式return this 形成了闭包。</span><br>  <span class="hljs-comment">//AO里含有d，所以之后就能访问到</span><br>&#125;<br><span class="hljs-keyword">let</span> test1 = <span class="hljs-keyword">new</span> Test()<br>test1.g() <span class="hljs-comment">//2</span><br>test1.g() <span class="hljs-comment">//3</span><br><span class="hljs-keyword">let</span> test2 = <span class="hljs-keyword">new</span> Test()<br>test2.g() <span class="hljs-comment">//2</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> x = <span class="hljs-number">1</span>,<br>  y = (z = <span class="hljs-number">0</span>)<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">n</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> (n = n + <span class="hljs-number">1</span>)<br>&#125;<br>y = add(x)<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">n</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> (n = n + <span class="hljs-number">3</span>)<br>&#125;<br>z = add(x)<br><span class="hljs-built_in">console</span>.log(x, y, z) <span class="hljs-comment">//1 4 4</span><br><span class="hljs-comment">// GO = &#123;</span><br><span class="hljs-comment">//   x: 1,</span><br><span class="hljs-comment">//   y: 0,</span><br><span class="hljs-comment">//   z: 0,</span><br><span class="hljs-comment">//   add:function add(n) &#123;return n=n+3&#125; //重名覆盖了</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></div></td></tr></table></figure>
下列哪些可以打印1 2 3 4 5<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">	<span class="hljs-comment">//可以</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo1</span>(<span class="hljs-params">x</span>) </span>&#123;<br>     <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">arguments</span>)<br>     <span class="hljs-keyword">return</span> x<br>   &#125;<br>   foo1(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>)<br><br><span class="hljs-comment">//不可以</span><br>   <span class="hljs-comment">// function foo2(x) &#123;</span><br>   <span class="hljs-comment">//   console.log(arguments)</span><br>   <span class="hljs-comment">//   return x</span><br>   <span class="hljs-comment">// &#125;(1, 2, 3, 4, 5)</span><br><br><span class="hljs-comment">//可以</span><br>   (<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo3</span>(<span class="hljs-params">x</span>) </span>&#123;<br>     <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">arguments</span>)<br>     <span class="hljs-keyword">return</span> x<br>   &#125;)(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>)<br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params">x, y, a</span>) </span>&#123;<br>  a = <span class="hljs-number">10</span><br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">arguments</span>[<span class="hljs-number">2</span>]) <span class="hljs-comment">//10</span><br>&#125;<br>b(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">c</span>(<span class="hljs-params">x, y, a</span>) </span>&#123;<br>  <span class="hljs-built_in">arguments</span>[<span class="hljs-number">2</span>] = <span class="hljs-number">10</span><br>  <span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//10</span><br>&#125;<br>c(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br></code></pre></div></td></tr></table></figure>
<h3 id="原型prototype"><a href="#原型prototype" class="headerlink" title="原型prototype"></a>原型prototype</h3></li>
</ul>
<p><strong>原型对象prototype其实是构造函数(function对象)的一个属性，但是他也是一个对象</strong><br>只要创建一个函数，就会按照特定的规则为这个函数创建一个 prototype 属性（指向原型对象）。默认情况下，所有原型对象自动获得一个名为 constructor 的属性，指回与之关联的构造函数。  </p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Test</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br><span class="hljs-comment">//prototype</span><br><span class="hljs-built_in">console</span>.log(Test.prototype) <span class="hljs-comment">//&#123;constructor: ƒ&#125;</span><br></code></pre></div></td></tr></table></figure>
<p><strong>prototype是定义构造函数构造出的每个对象的公共祖先，所有被该构造函数构造出来的对象都可以继承原型上的属性和方法</strong><br>对象自己身上有的就不会访问原型上的</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Handphone</span>(<span class="hljs-params">color, brand</span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.color = color<br>  <span class="hljs-built_in">this</span>.brand = brand<br>  <span class="hljs-built_in">this</span>.screen = <span class="hljs-string">&#x27;18:9&#x27;</span><br>&#125;<br>Handphone.prototype.rom = <span class="hljs-string">&#x27;64G&#x27;</span><br>Handphone.prototype.ram = <span class="hljs-string">&#x27;6G&#x27;</span><br>Handphone.prototype.screen = <span class="hljs-string">&#x27;16:9&#x27;</span><br><span class="hljs-keyword">let</span> hp1 = <span class="hljs-keyword">new</span> Handphone(<span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;小米&#x27;</span>)<br><span class="hljs-keyword">let</span> hp2 = <span class="hljs-keyword">new</span> Handphone(<span class="hljs-string">&#x27;black&#x27;</span>, <span class="hljs-string">&#x27;红米&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(hp1.rom) <span class="hljs-comment">//64D</span><br><span class="hljs-built_in">console</span>.log(hp2.ram) <span class="hljs-comment">//6G</span><br><span class="hljs-built_in">console</span>.log(hp1.screen) <span class="hljs-comment">//18:9 //自己身上有的就访问自己的，不会访问祖先的</span><br><span class="hljs-built_in">console</span>.log(hp2.screen) <span class="hljs-comment">//18:9</span><br></code></pre></div></td></tr></table></figure>
<p>推荐固定的值或者方法写在原型上，需要变化或者传参配置的值写在构造函数内部，这样可以减少代码冗余</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">   <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Handphone</span>(<span class="hljs-params">color, brand</span>) </span>&#123;<br>     <span class="hljs-built_in">this</span>.color = color<br>     <span class="hljs-built_in">this</span>.brand = brand<br>   &#125;<br>   <span class="hljs-comment">// Handphone.prototype.rom = &#x27;64G&#x27;</span><br>   <span class="hljs-comment">// Handphone.prototype.ram = &#x27;6G&#x27;</span><br>   <span class="hljs-comment">// Handphone.prototype.screen = &#x27;16:9&#x27;</span><br>   <span class="hljs-comment">// Handphone.prototype.call = function () &#123;</span><br>   <span class="hljs-comment">//   console.log(&#x27;I am calling&#x27;)</span><br>   <span class="hljs-comment">// &#125;</span><br><span class="hljs-comment">//开发中一般写在一起</span><br>   Handphone.prototype = &#123;<br>     <span class="hljs-attr">rom</span>: <span class="hljs-string">&#x27;64G&#x27;</span>,<br>     <span class="hljs-attr">ram</span>: <span class="hljs-string">&#x27;6G&#x27;</span>,<br>     <span class="hljs-attr">screen</span>: <span class="hljs-string">&#x27;16:9&#x27;</span>,<br>     <span class="hljs-attr">call</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>       <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;I am calling&#x27;</span>)<br>     &#125;,<br>   &#125;<br>   <span class="hljs-keyword">let</span> hp1 = <span class="hljs-keyword">new</span> Handphone(<span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;小米&#x27;</span>)<br>   <span class="hljs-keyword">let</span> hp2 = <span class="hljs-keyword">new</span> Handphone(<span class="hljs-string">&#x27;black&#x27;</span>, <span class="hljs-string">&#x27;红米&#x27;</span>)<br>hp2.call() <span class="hljs-comment">//I am calling</span><br><br></code></pre></div></td></tr></table></figure>
<p><strong>通过实例化对象不能增删改祖先prototype上的值</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Test</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br>Test.prototype.name = <span class="hljs-string">&#x27;TEST&#x27;</span><br><span class="hljs-keyword">let</span> test = <span class="hljs-keyword">new</span> Test()<br><span class="hljs-built_in">console</span>.log(Test.prototype) <span class="hljs-comment">//&#123;name: &#x27;TEST&#x27;, constructor: ƒ&#125;</span><br>test.job = <span class="hljs-number">123</span><br><span class="hljs-built_in">console</span>.log(Test.prototype, test)<br><span class="hljs-comment">//&#123;name: &#x27;TEST&#x27;, constructor: ƒ&#125;</span><br><span class="hljs-comment">//Test &#123;job: 123&#125;</span><br>test.name = test<br><span class="hljs-built_in">console</span>.log(Test.prototype, test)<br><span class="hljs-comment">//&#123;name: &#x27;TEST&#x27;, constructor: ƒ&#125;</span><br><span class="hljs-comment">//Test &#123;job: 123, name: Test&#125;</span><br><span class="hljs-keyword">delete</span> test.name<br><span class="hljs-built_in">console</span>.log(Test.prototype, test)<br><span class="hljs-comment">//&#123;name: &#x27;TEST&#x27;, constructor: ƒ&#125;</span><br><span class="hljs-comment">//Test &#123;job: 123&#125;</span><br></code></pre></div></td></tr></table></figure>
<h3 id="构造器constructor"><a href="#构造器constructor" class="headerlink" title="构造器constructor"></a>构造器constructor</h3><p><strong>constructor默认指向构造函数本身</strong><br>在自定义构造函数时，原型对象默认只会获得 constructor 属性，其他的所有方法都继承自 Object。<br>构造函数有一个 prototype 属性引用其原型对象，而这个原型对象也有一个constructor 属性，引用这个构造函数。换句话说，两者循环引用  </p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Handphone</span>(<span class="hljs-params">color, brand</span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.color = color<br>  <span class="hljs-built_in">this</span>.brand = brand<br>&#125;<br><span class="hljs-built_in">console</span>.log(Handphone.prototype) <span class="hljs-comment">//&#123;constructor: ƒ&#125;</span><br><span class="hljs-comment">// &#123;constructor: ƒ&#125;</span><br><span class="hljs-comment">//    constructor: ƒ Handphone(color, brand)</span><br><span class="hljs-comment">//    [[Prototype]]: Object</span><br><br><span class="hljs-built_in">console</span>.log(Handphone.prototype.constructor === Handphone)<br><br></code></pre></div></td></tr></table></figure>
<p>可以通过原型内部的constructor更改构造函数的constructor</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Telephone</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Handphone</span>(<span class="hljs-params">color, brand</span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.color = color<br>  <span class="hljs-built_in">this</span>.brand = brand<br>&#125;<br>Handphone.prototype = &#123;<br>  <span class="hljs-attr">constructor</span>: Telephone,<br>&#125;<br><span class="hljs-built_in">console</span>.log(Handphone.prototype)<br><span class="hljs-comment">// &#123;constructor: ƒ&#125;</span><br><span class="hljs-comment">//   constructor: ƒ Telephone()</span><br><span class="hljs-comment">//   [[Prototype]]: Object</span><br></code></pre></div></td></tr></table></figure>
<h3 id="proto-Prototype"><a href="#proto-Prototype" class="headerlink" title="proto( [[Prototype]] )"></a><strong>proto</strong>( [[Prototype]] )</h3><p><strong>proto__只是一个容器，实例对象通过__proto__这个键名指向原型对象prototype<br>构造函数的prototype === 实例的__proto</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br><span class="hljs-keyword">let</span> car = <span class="hljs-keyword">new</span> Car()<br><span class="hljs-built_in">console</span>.log(Car.prototype === car.__proto__) <span class="hljs-comment">//true</span><br></code></pre></div></td></tr></table></figure>
<p>**__proto__是实例化以后的结果，__proto__属于实例化对象**<br>构造函数被实例化时会产生一个this，this默认有一个__proto__属性，指向他的原型。如果this中没有找到对应的属性，就会沿着__proto__找原型里的属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-comment">// var this = &#123;</span><br>  <span class="hljs-comment">//   __proto__: Car.prototype, //产生的this里边默认有__proto__属性，指向他的原型</span><br>  <span class="hljs-comment">// 如果this中没有对应的属性，就会根据__proto__向上找原型里的属性</span><br>  <span class="hljs-comment">// &#125;</span><br>&#125;<br>Car.prototype.name = <span class="hljs-string">&#x27;Benz&#x27;</span><br><span class="hljs-keyword">let</span> car = <span class="hljs-keyword">new</span> Car() <span class="hljs-comment">//构造函数被实例化时，内部产生一个this</span><br><span class="hljs-built_in">console</span>.log(car.name) <span class="hljs-comment">//Benz</span><br></code></pre></div></td></tr></table></figure>
<p>__proto__只是一个内部属性，也可以改</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br>Person.prototype.name = <span class="hljs-string">&#x27;张三&#x27;</span><br><span class="hljs-keyword">let</span> p1 = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;李四&#x27;</span>,<br>&#125;<br><span class="hljs-keyword">let</span> person = <span class="hljs-keyword">new</span> Person()<br><span class="hljs-built_in">console</span>.log(person.name) <span class="hljs-comment">//张三</span><br>person.__proto__ = p1<br><span class="hljs-built_in">console</span>.log(person.name) <span class="hljs-comment">//李四</span><br></code></pre></div></td></tr></table></figure>
<h4 id="实例化前后赋值prototype"><a href="#实例化前后赋值prototype" class="headerlink" title="实例化前后赋值prototype"></a>实例化前后赋值prototype</h4><p>实例化之前赋值prototype可以修改</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">Car.prototype.name = <span class="hljs-string">&#x27;Mazda&#x27;</span><br>Car.prototype.name = <span class="hljs-string">&#x27;Benz&#x27;</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br><span class="hljs-keyword">let</span> car = <span class="hljs-keyword">new</span> Car()<br><span class="hljs-built_in">console</span>.log(car.name) <span class="hljs-comment">//Benz</span><br></code></pre></div></td></tr></table></figure>
<p>实例化之后赋值prototype可以修改</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">Car.prototype.name = <span class="hljs-string">&#x27;Mazda&#x27;</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br><span class="hljs-keyword">let</span> car = <span class="hljs-keyword">new</span> Car()<br>Car.prototype.name = <span class="hljs-string">&#x27;Benz&#x27;</span><br><span class="hljs-built_in">console</span>.log(car.name) <span class="hljs-comment">//Benz</span><br></code></pre></div></td></tr></table></figure>
<h4 id="实例化后重写prototype"><a href="#实例化后重写prototype" class="headerlink" title="实例化后重写prototype"></a>实例化后重写prototype</h4><p>实例化之前重写可以修改prototype属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">Car.prototype.name = <span class="hljs-string">&#x27;Benz&#x27;</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br>Car.prototype = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Mazkda&#x27;</span> &#125;<br><span class="hljs-keyword">let</span> car = <span class="hljs-keyword">new</span> Car()<br><span class="hljs-built_in">console</span>.log(car.name) <span class="hljs-comment">//Mazkda</span><br></code></pre></div></td></tr></table></figure>
<p>实例化之后重写的prototype属性不能影响实例化对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">Car.prototype.name = <span class="hljs-string">&#x27;Benz&#x27;</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br><span class="hljs-keyword">let</span> car = <span class="hljs-keyword">new</span> Car()<br>Car.prototype = &#123;<br>  <span class="hljs-comment">//这是实例化之后重写的，不能影响实例的值</span><br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Mazkda&#x27;</span>,<br>&#125;<br><span class="hljs-built_in">console</span>.log(car.name) <span class="hljs-comment">//Benz</span><br><span class="hljs-comment">//实例化时</span><br><span class="hljs-comment">// function Car() &#123;</span><br><span class="hljs-comment">//   let this = &#123;</span><br><span class="hljs-comment">//     __proto__: (Car.prototype = &#123;</span><br><span class="hljs-comment">//       name: &#x27;Benz&#x27;,</span><br><span class="hljs-comment">//     &#125;),</span><br><span class="hljs-comment">//   &#125;</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></div></td></tr></table></figure>
<p>实例化对象的constructor指向的是构造函数，constructor保存的是实例化之前的东西<br>实例化之后再重写prototype(属于未实例化/实例化之前)就会被放到.prototype.constructor<br>所以实例化之后再重写prototype，此时重写的是实例化之前Car.prototype.constructor的prototype，对实例化对象无影响</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">Car.prototype.name = <span class="hljs-string">&#x27;Benz&#x27;</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br><span class="hljs-keyword">var</span> car = <span class="hljs-keyword">new</span> Car()<br><span class="hljs-comment">//相当于与上一次实例化之后在重写prototype(属于未实例化/实例化之前)</span><br><span class="hljs-comment">//(属于未实例化/实例化之前)就被放到Car.prototype.constructor里</span><br>Car.prototype = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Mazkda&#x27;</span>, <span class="hljs-comment">//此时重写的是实例化之前Car.prototype.constructor的prototype</span><br>&#125;<br><span class="hljs-built_in">console</span>.log(car)<br><span class="hljs-comment">// Car &#123;&#125;</span><br><span class="hljs-comment">//    [[Prototype]]: Object</span><br><span class="hljs-comment">//    name: &quot;Benz&quot;</span><br><span class="hljs-comment">//    constructor: ƒ Car() //constructor保存的是实例化之前的东西</span><br><span class="hljs-comment">//       arguments: null</span><br><span class="hljs-comment">//       caller: null</span><br><span class="hljs-comment">//       length: 0</span><br><span class="hljs-comment">//       name: &quot;Car&quot;</span><br><span class="hljs-comment">//       prototype: &#123;name: &#x27;Mazkda&#x27;&#125;</span><br><span class="hljs-built_in">console</span>.log(car.name) <span class="hljs-comment">//Benz</span><br><span class="hljs-comment">//实例化对象的constructor指向的是Car构造函数</span><br><span class="hljs-built_in">console</span>.log(car.constructor.prototype) <span class="hljs-comment">//&#123;name: &#x27;Mazkda&#x27;&#125;</span><br><span class="hljs-comment">// function Car() &#123;</span><br><span class="hljs-comment">//   let this = &#123;</span><br><span class="hljs-comment">//     __proto__: (Car.prototype = &#123;</span><br><span class="hljs-comment">//       name: &#x27;Benz&#x27;,</span><br><span class="hljs-comment">//     &#125;),</span><br><span class="hljs-comment">//   &#125;</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-comment">//Car.prototype.constructor -&gt; Car() -&gt; prototype -&gt; name : Benz</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span><br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">plus1</span>(<span class="hljs-params"></span>) </span>&#123;<br>    a++<br>    <span class="hljs-built_in">console</span>.log(a)<br>  &#125;<br>  <span class="hljs-keyword">return</span> plus1<br>&#125;<br><span class="hljs-keyword">let</span> plus = test()<br>plus() <span class="hljs-comment">//2</span><br>plus() <span class="hljs-comment">//3</span><br>plus() <span class="hljs-comment">//4</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span><br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">plus1</span>(<span class="hljs-params"></span>) </span>&#123;<br>    a++<br>    <span class="hljs-built_in">console</span>.log(a)<br>  &#125;<br>  <span class="hljs-built_in">window</span>.plus = plus1<br>&#125;<br>test()<br>plus() <span class="hljs-comment">//2</span><br>plus() <span class="hljs-comment">//3</span><br>plus() <span class="hljs-comment">//4</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> plus = (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span><br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">plus1</span>(<span class="hljs-params"></span>) </span>&#123;<br>    a++<br>    <span class="hljs-built_in">console</span>.log(a)<br>  &#125;<br>  <span class="hljs-keyword">return</span> plus1<br>&#125;)()<br>plus() <span class="hljs-comment">//2</span><br>plus() <span class="hljs-comment">//3</span><br>plus() <span class="hljs-comment">//4</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span><br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">plus1</span>(<span class="hljs-params"></span>) </span>&#123;<br>    a++<br>    <span class="hljs-built_in">console</span>.log(a)<br>  &#125;<br>  <span class="hljs-built_in">window</span>.plus = plus1<br>&#125;)()<br>plus() <span class="hljs-comment">//2</span><br>plus() <span class="hljs-comment">//3</span><br>plus() <span class="hljs-comment">//4</span><br></code></pre></div></td></tr></table></figure>
<h3 id="原型链"><a href="#原型链" class="headerlink" title="原型链"></a>原型链</h3><p>沿着__proto__( [[Prototype]] )去找原型里的属性，一层一层继承原型的属性这条链就是原型链。</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">Professor.prototype.tSkill = <span class="hljs-string">&#x27;JAVA&#x27;</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Professor</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br><span class="hljs-keyword">let</span> professor = <span class="hljs-keyword">new</span> Professor()<br><br>Teacher.prototype = professor<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Teacher</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.mSkill = <span class="hljs-string">&#x27;JS&#x27;</span><br>&#125;<br><span class="hljs-keyword">let</span> teacher = <span class="hljs-keyword">new</span> Teacher()<br><br>Student.prototype = teacher<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Student</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.pSkill = <span class="hljs-string">&#x27;HTML&#x27;</span><br>&#125;<br><span class="hljs-keyword">let</span> student = <span class="hljs-keyword">new</span> Student()<br><br><span class="hljs-built_in">console</span>.log(student)<br><span class="hljs-comment">// Student &#123;pSkill: &#x27;HTML&#x27;&#125;</span><br><span class="hljs-comment">//    [Prototype]]: Professor</span><br><span class="hljs-comment">//       mSkill: &quot;JS&quot;</span><br><span class="hljs-comment">//       [[Prototype]]: Professor</span><br><span class="hljs-comment">//          [[Prototype]]: Object</span><br><span class="hljs-comment">//              tSkill: &quot;JAVA&quot;</span><br><span class="hljs-comment">//              constructor: ƒ Professor()</span><br><span class="hljs-comment">//              [[Prototype]]: Object</span><br></code></pre></div></td></tr></table></figure>
<p><strong>原型链的顶端是Object.prototype</strong><br>Object.prototype里边保存了toString方法<br>Object.prototype.__proto__是null</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.prototype.__proto__ === <span class="hljs-literal">null</span>) <span class="hljs-comment">//true</span><br></code></pre></div></td></tr></table></figure>
<p>如果是<strong>引用值，子级可以更改/添加父级或者祖先的属性(不推荐)</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">Professor.prototype.tSkill = <span class="hljs-string">&#x27;JAVA&#x27;</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Professor</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br><span class="hljs-keyword">let</span> professor = <span class="hljs-keyword">new</span> Professor()<br><br>Teacher.prototype = professor<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Teacher</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.mSkill = <span class="hljs-string">&#x27;JS&#x27;</span><br>  <span class="hljs-built_in">this</span>.success = &#123;<br>    <span class="hljs-attr">alibaba</span>: <span class="hljs-string">&#x27;10&#x27;</span>,<br>  &#125;<br>&#125;<br><span class="hljs-keyword">let</span> teacher = <span class="hljs-keyword">new</span> Teacher()<br><br>Student.prototype = teacher<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Student</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.pSkill = <span class="hljs-string">&#x27;THML&#x27;</span><br>&#125;<br><span class="hljs-keyword">let</span> student = <span class="hljs-keyword">new</span> Student()<br><br>student.success.baidu = <span class="hljs-string">&#x27;1&#x27;</span><br>student.success.alibaba = <span class="hljs-string">&#x27;1&#x27;</span><br><span class="hljs-built_in">console</span>.log(teacher, student)<br><span class="hljs-comment">// Professor &#123;mSkill: &#x27;JS&#x27;, success: &#123;…&#125;&#125;</span><br><span class="hljs-comment">//    mSkill: &quot;JS&quot;</span><br><span class="hljs-comment">//    success: &#123;alibaba: &#x27;1&#x27;, baidu: &#x27;1&#x27;&#125;</span><br><span class="hljs-comment">//    [[Prototype]]: Professor</span><br><br><span class="hljs-comment">// Student &#123;pSkill: &#x27;THML&#x27;&#125;</span><br><span class="hljs-comment">//    pSkill: &quot;THML&quot;</span><br><span class="hljs-comment">//    [[Prototype]]: Professor</span><br><span class="hljs-comment">//        mSkill: &quot;JS&quot;</span><br><span class="hljs-comment">//        success: &#123;alibaba: &#x27;1&#x27;, baidu: &#x27;1&#x27;&#125;</span><br><span class="hljs-comment">//        [[Prototype]]: Professor</span><br></code></pre></div></td></tr></table></figure>
<p>如果是<strong>原始值，子级不能修改/增加父级或者祖先的属性</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">Professor.prototype.tSkill = <span class="hljs-string">&#x27;JAVA&#x27;</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Professor</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br><span class="hljs-keyword">let</span> professor = <span class="hljs-keyword">new</span> Professor()<br><br>Teacher.prototype = professor<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Teacher</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.mSkill = <span class="hljs-string">&#x27;JS&#x27;</span><br>  <span class="hljs-built_in">this</span>.students = <span class="hljs-number">500</span><br>&#125;<br><span class="hljs-keyword">let</span> teacher = <span class="hljs-keyword">new</span> Teacher()<br><br>Student.prototype = teacher<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Student</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.pSkill = <span class="hljs-string">&#x27;THML&#x27;</span><br>&#125;<br><span class="hljs-keyword">let</span> student = <span class="hljs-keyword">new</span> Student()<br><br>student.students++<br><span class="hljs-built_in">console</span>.log(teacher, student)<br><span class="hljs-comment">// Professor &#123;mSkill: &#x27;JS&#x27;, students: 500&#125;</span><br><span class="hljs-comment">//    mSkill: &quot;JS&quot;</span><br><span class="hljs-comment">//    students: 500</span><br><span class="hljs-comment">//    [[Prototype]]: Professor</span><br><br><span class="hljs-comment">// Student &#123;pSkill: &#x27;THML&#x27;, students: 501&#125;</span><br><span class="hljs-comment">//    pSkill: &quot;THML&quot;</span><br><span class="hljs-comment">//    students: 501</span><br><span class="hljs-comment">//    [[Prototype]]: Professor</span><br><span class="hljs-comment">//        mSkill: &quot;JS&quot;</span><br><span class="hljs-comment">//        students: 500</span><br><span class="hljs-comment">//        [[Prototype]]: Professor</span><br></code></pre></div></td></tr></table></figure>
<p>this谁用指向谁</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.brand = <span class="hljs-string">&#x27;Benz&#x27;</span><br>&#125;<br>Car.prototype = &#123;<br>  <span class="hljs-attr">brand</span>: <span class="hljs-string">&#x27;Mazda&#x27;</span>,<br>  <span class="hljs-attr">intro</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;我是&#x27;</span> + <span class="hljs-built_in">this</span>.brand)<br>  &#125;,<br>&#125;<br><span class="hljs-keyword">let</span> car = <span class="hljs-keyword">new</span> Car()<br><span class="hljs-comment">//实例化时构造函数内部产生空this，然后执行代码将数据给this。</span><br><span class="hljs-comment">//构造函数中有brand就用自己的，没有intro就在原型上找</span><br><span class="hljs-comment">// function Car() &#123;</span><br><span class="hljs-comment">//   let this=&#123;</span><br><span class="hljs-comment">//     barnd:&#x27;Benz&#x27;</span><br><span class="hljs-comment">//   &#125;</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-comment">// Car.prototype = &#123;</span><br><span class="hljs-comment">//   brand: &#x27;Mazda&#x27;,</span><br><span class="hljs-comment">//   intro: function () &#123;...&#125;,</span><br><span class="hljs-comment">// &#125;</span><br>car.intro() <span class="hljs-comment">//我是Benz</span><br>Car.prototype.intro() <span class="hljs-comment">//我是Mazda. //this谁用指向谁</span><br></code></pre></div></td></tr></table></figure>
<p>不是所有的对象都继承于Object.prototype。<br><code>Object.create(null)</code>创建的实例对象不继承Object.prototype。</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> obj = <span class="hljs-built_in">Object</span>.create(<span class="hljs-literal">null</span>)<br>obj.num = <span class="hljs-number">1</span><br><span class="hljs-built_in">console</span>.log(obj) <span class="hljs-comment">//&#123;num: 1&#125; //不继承Object.prototype</span><br><span class="hljs-comment">// obj.toString() //obj.toString is not a function //也没有toString方法</span><br><span class="hljs-keyword">let</span> obj1 = &#123;<br>  <span class="hljs-attr">count</span>: <span class="hljs-number">2</span>,<br>&#125;<br>obj.__proto__ = obj1 <span class="hljs-comment">//没有继承Object.prototype的情况下，手动设置__proto__是无用的，无法访问</span><br><span class="hljs-built_in">console</span>.log(obj.count) <span class="hljs-comment">//undefined</span><br></code></pre></div></td></tr></table></figure>
<p>原始值是没有属性，所以undefined和null没有toString方法<br>undefined和null不能经过包装类，还没有原型</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> num = <span class="hljs-number">1</span><br><span class="hljs-built_in">console</span>.log(num.toString()) <span class="hljs-comment">//打印出字符串 1</span><br><span class="hljs-comment">//这里原始值可以使用toString是因为进行了包装类new Number(1)所以才有toString()</span><br></code></pre></div></td></tr></table></figure>
<p>​</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> num = <span class="hljs-number">1</span><br><span class="hljs-keyword">let</span> obj = &#123;&#125;<br><span class="hljs-keyword">let</span> obj2 = <span class="hljs-built_in">Object</span>.create(<span class="hljs-literal">null</span>)<br><span class="hljs-comment">//document.write会将数据隐式转换成string</span><br><span class="hljs-built_in">document</span>.write(num) <span class="hljs-comment">//1</span><br><span class="hljs-built_in">document</span>.write(obj) <span class="hljs-comment">//[object Object] //对象类型的Object</span><br><span class="hljs-comment">// document.write(obj2) //Cannot convert object to primitive value不能将对象转为为原始值</span><br><span class="hljs-built_in">console</span>.log(obj2)<br><span class="hljs-comment">// &#123;&#125;</span><br><span class="hljs-comment">//   No properties //没有内容</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-number">1</span>) <span class="hljs-comment">// &#x27;[object Number]&#x27;</span><br><span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-string">&#x27;a&#x27;</span>) <span class="hljs-comment">// &#x27;[object String]&#x27;</span><br><span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-literal">true</span>) <span class="hljs-comment">// &#x27;[object Boolean]&#x27;</span><br><span class="hljs-built_in">Object</span>.prototype.toString.call([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]) <span class="hljs-comment">// &#x27;[object Array]&#x27;</span><br><span class="hljs-built_in">Object</span>.prototype.toString.call(&#123; <span class="hljs-attr">name</span>: <span class="hljs-number">1</span> &#125;) <span class="hljs-comment">// &#x27;[object Object]&#x27;</span><br><br><span class="hljs-built_in">Number</span>.prototype.toString.call(<span class="hljs-number">1</span>) <span class="hljs-comment">//&#x27;1&#x27;</span><br></code></pre></div></td></tr></table></figure>


<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Foo</span>(<span class="hljs-params"></span>) </span>&#123;<br>  getName = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>)<br>  &#125;<br>  <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span><br>&#125;<br>Foo.getName = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-number">2</span>)<br>&#125;<br>Foo.prototype.getName = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-number">3</span>)<br>&#125;<br><span class="hljs-keyword">var</span> getName = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-number">4</span>)<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getNane</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-number">5</span>)<br>&#125;<br><span class="hljs-comment">//预编译</span><br><span class="hljs-comment">//1、变量声明</span><br><span class="hljs-comment">//2、函数声明</span><br><span class="hljs-comment">//3、运行 -&gt; 赋值</span><br>Foo.getName() <span class="hljs-comment">//2  getName只是Foo上的属性，和Foo()没有关系</span><br>getName() <span class="hljs-comment">//4   预编译时就有了</span><br><span class="hljs-comment">// GO=&#123;</span><br><span class="hljs-comment">//   getName:undefined//1</span><br><span class="hljs-comment">//           function getName() &#123;console.log(5)&#125; //2</span><br><span class="hljs-comment">//           function () &#123;console.log(4)&#125; //3</span><br><span class="hljs-comment">// &#125;</span><br>Foo().getName() <span class="hljs-comment">//1 Foo()中的getName是全局 替换掉GO中的</span><br><span class="hljs-comment">// GO=&#123;</span><br><span class="hljs-comment">//   getName:function getName() &#123;console.log(1)&#125;</span><br><span class="hljs-comment">// &#125;</span><br>getName() <span class="hljs-comment">//1 全局中已经是1了</span><br><span class="hljs-keyword">new</span> Foo.getName() <span class="hljs-comment">//2 点运算优先级大于new，new在这里不起作用</span><br><span class="hljs-keyword">new</span> Foo().getName() <span class="hljs-comment">//3 括号优先级大于点，但是括号前有new是一起执行的，最后执行点</span><br><span class="hljs-comment">//找构造函数里的this.getName()，没有就在原型上找</span><br><span class="hljs-keyword">new</span> <span class="hljs-keyword">new</span> Foo().getName() <span class="hljs-comment">//3 同上两个先实例化构造函数，然后执行点，第一个new不起作用</span><br></code></pre></div></td></tr></table></figure>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><p>最下边的对象会继承原型链上所有的属性，都可以通过__proto__找到。<br>同时有一个问题，在子级prototype修改或者添加属性时，会影响到整个原型链上的属性</p>
<h4 id="圣杯模式"><a href="#圣杯模式" class="headerlink" title="圣杯模式"></a>圣杯模式</h4><p>加一个空的中间缓存对象，将父级prototype赋值给缓存对象的prototype，然后将缓存对象的实例对象赋值给子级prototype。因为实例化对象不能修改prototype上的值，所以缓存对象的实例对象赋值给子级prototype，这样子级是无法修改prototype的。解决继承和隔离问题，避免原型链的全局污染</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Teacher</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.name = <span class="hljs-string">&#x27;Mr.L&#x27;</span><br>  <span class="hljs-built_in">this</span>.tSkill = <span class="hljs-string">&#x27;JAVA&#x27;</span><br>&#125;<br>Teacher.prototype = &#123;<br>  <span class="hljs-attr">pSkill</span>: <span class="hljs-string">&#x27;JS&#x27;</span>,<br>&#125;<br><span class="hljs-keyword">let</span> t = <span class="hljs-keyword">new</span> Teacher()<br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Student</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.name = <span class="hljs-string">&#x27;Mr.W&#x27;</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Buffer</span>(<span class="hljs-params"></span>) </span>&#123;&#125; <span class="hljs-comment">//添加一个中间缓存构造函数</span><br>Buffer.prototype = Teacher.prototype <span class="hljs-comment">//父级的原型赋值给缓存的原型</span><br><span class="hljs-keyword">let</span> buffer = <span class="hljs-keyword">new</span> Buffer()<br><br>Student.prototype = buffer <span class="hljs-comment">//缓存的实例对象赋值给子级原型</span><br>Student.prototype.age = <span class="hljs-number">19</span><br><span class="hljs-keyword">let</span> s = <span class="hljs-keyword">new</span> Student()<br><br><span class="hljs-built_in">console</span>.log(t) <span class="hljs-comment">//Teacher &#123;name: &#x27;Mr.L&#x27;, tSkill: &#x27;JAVA&#x27;&#125;</span><br><span class="hljs-built_in">console</span>.log(s)<br><span class="hljs-comment">// Student &#123;name: &#x27;Mr.W&#x27;&#125;</span><br><span class="hljs-comment">//    name: &quot;Mr.W&quot;</span><br><span class="hljs-comment">//    [[Prototype]]: Object</span><br><span class="hljs-comment">//        age: 19</span><br><span class="hljs-comment">//        [[Prototype]]: Object</span><br><span class="hljs-comment">//            pSkill: &quot;JS&quot;</span><br><span class="hljs-comment">//            [[Prototype]]: Object</span><br></code></pre></div></td></tr></table></figure>
<h5 id="封装圣杯模式"><a href="#封装圣杯模式" class="headerlink" title="封装圣杯模式"></a>封装圣杯模式</h5><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">inherit</span>(<span class="hljs-params">Target, Origin</span>) </span>&#123;<br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Buffer</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br>  Buffer.prototype = Origin.prototypr<br>  Target.prototype = <span class="hljs-keyword">new</span> Buffer()<br>  Target.prototype.constructor = Target <span class="hljs-comment">//构造器指向自己</span><br>  Target.prototype.supper_class = Origin <span class="hljs-comment">//继承源</span><br>&#125;<br><br>Teacher.prototype.name = <span class="hljs-string">&#x27;Mr.Z&#x27;</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Teacher</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Student</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br>inherit(Student, Teacher)<br><span class="hljs-keyword">let</span> s = <span class="hljs-keyword">new</span> Student()<br><span class="hljs-keyword">let</span> t = <span class="hljs-keyword">new</span> Teacher()<br><span class="hljs-built_in">console</span>.log(s)<br><span class="hljs-built_in">console</span>.log(t)<br></code></pre></div></td></tr></table></figure>
<h5 id="企业模块化"><a href="#企业模块化" class="headerlink" title="企业模块化"></a>企业模块化</h5><p>这个模块化把圣杯模式写成闭包，然后用立即执行函数赋值给一个变量，需要时才执行。减少全局污染，代码更加优雅</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> inherit = (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> Buffer = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;&#125;<br>  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">Target, Origin</span>) </span>&#123;<br>    Buffer.prototype = Origin.prototype<br>    Target.prototype = <span class="hljs-keyword">new</span> Buffer()<br>    Target.prototype.constructor = Target<br>    Target.prototype.super_class = Origin<br>  &#125;<br>&#125;)()<br>Teacher.prototype.name = <span class="hljs-string">&#x27;Mr.Z&#x27;</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Teacher</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Student</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br>inherit(Student, Teacher)<br><span class="hljs-keyword">let</span> s = <span class="hljs-keyword">new</span> Student()<br><span class="hljs-keyword">let</span> t = <span class="hljs-keyword">new</span> Teacher()<br><span class="hljs-built_in">console</span>.log(s)<br><span class="hljs-built_in">console</span>.log(t)<br></code></pre></div></td></tr></table></figure>
<h3 id="call-apply"><a href="#call-apply" class="headerlink" title="call/apply"></a>call/apply</h3><p>call/apply可以更改this指向，call/apply调用时this指向指定的那个对象<br>call和apply则是立即调用，但是call的后续参数同原函数，apply则为包含所有原函数参数的类数组<br>区别就是call直接传字符串，apply传数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params">brand, color</span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.brand = brand<br>  <span class="hljs-built_in">this</span>.color = color<br>  <span class="hljs-built_in">this</span>.run = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;running&#x27;</span>)<br>  &#125;<br>&#125;<br><span class="hljs-keyword">let</span> newCar = &#123;<br>  <span class="hljs-attr">displacement</span>: <span class="hljs-number">2.0</span>,<br>&#125;<br>Car.call(newCar, <span class="hljs-string">&#x27;Benz&#x27;</span>, <span class="hljs-string">&#x27;red&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(newCar) <span class="hljs-comment">//&#123;displacement: 2, brand: &#x27;Benz&#x27;, color: &#x27;red&#x27;, run: ƒ&#125;</span><br>Car.apply(newCar, [<span class="hljs-string">&#x27;Benz2&#x27;</span>, <span class="hljs-string">&#x27;red2&#x27;</span>])<br><span class="hljs-built_in">console</span>.log(newCar) <span class="hljs-comment">//&#123;displacement: 2, brand: &#x27;Benz2&#x27;, color: &#x27;red2&#x27;, run: ƒ&#125;</span><br><span class="hljs-keyword">let</span> car = <span class="hljs-keyword">new</span> Car(<span class="hljs-string">&#x27;Ben1&#x27;</span>, <span class="hljs-string">&#x27;red1&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(car) <span class="hljs-comment">//Car &#123;brand: &#x27;Ben1&#x27;, color: &#x27;red1&#x27;, run: ƒ&#125;</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Compute</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.plus = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(a + b)<br>  &#125;<br>  <span class="hljs-built_in">this</span>.minus = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(a - b)<br>  &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">FullCompute</span>(<span class="hljs-params"></span>) </span>&#123;<br>  Compute.apply(<span class="hljs-built_in">this</span>)<br>  <span class="hljs-built_in">this</span>.mul = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(a * b)<br>  &#125;<br>  <span class="hljs-built_in">this</span>.div = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(a / b)<br>  &#125;<br>&#125;<br><span class="hljs-keyword">let</span> compute = <span class="hljs-keyword">new</span> FullCompute()<br>compute.plus(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>) <span class="hljs-comment">//2</span><br>compute.minus(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>) <span class="hljs-comment">//0</span><br>compute.mul(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>) <span class="hljs-comment">//1</span><br>compute.div(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>) <span class="hljs-comment">//1</span><br></code></pre></div></td></tr></table></figure>
<p>apply改变this指向，使其构造函数Person可以使用Car内部的属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params">brand, color, displacement</span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.brand = brand<br>  <span class="hljs-built_in">this</span>.color = color<br>  <span class="hljs-built_in">this</span>.displacement = displacement<br>  <span class="hljs-built_in">this</span>.info = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;排量为&#x27;</span> + <span class="hljs-built_in">this</span>.displacement + <span class="hljs-string">&#x27;的&#x27;</span> + <span class="hljs-built_in">this</span>.color + <span class="hljs-built_in">this</span>.brand<br>  &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params">opt</span>) </span>&#123;<br>  Car.apply(<span class="hljs-built_in">this</span>, [opt.brand, opt.color, opt.displacement])<br>  <span class="hljs-built_in">this</span>.name = opt.name<br>  <span class="hljs-built_in">this</span>.age = opt.age<br>  <span class="hljs-built_in">this</span>.say = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.age + <span class="hljs-string">&#x27;岁的&#x27;</span> + <span class="hljs-built_in">this</span>.name + <span class="hljs-string">&#x27;买了一辆&#x27;</span> + <span class="hljs-built_in">this</span>.info())<br>  &#125;<br>&#125;<br><span class="hljs-keyword">let</span> p = <span class="hljs-keyword">new</span> Person(&#123;<br>  <span class="hljs-attr">brand</span>: <span class="hljs-string">&#x27;奔驰&#x27;</span>,<br>  <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;红色&#x27;</span>,<br>  <span class="hljs-attr">displacement</span>: <span class="hljs-string">&#x27;3.0&#x27;</span>,<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;张三&#x27;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-string">&#x27;25&#x27;</span>,<br>&#125;)<br>p.say() <span class="hljs-comment">//25岁的张三买了一辆排量为3.0的红色奔驰</span><br></code></pre></div></td></tr></table></figure>
<h3 id="链式调用"><a href="#链式调用" class="headerlink" title="链式调用"></a>链式调用</h3><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> sched = &#123;<br>  <span class="hljs-attr">wakeup</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;Running&#x27;</span>)<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span><br>  &#125;,<br>  <span class="hljs-attr">morning</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;Going&#x27;</span>)<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span><br>  &#125;,<br>  <span class="hljs-attr">eventing</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;Walking&#x27;</span>)<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span><br>  &#125;,<br>  <span class="hljs-attr">night</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;Sleeping&#x27;</span>)<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span><br>  &#125;,<br>&#125;<br>sched.wakeup().morning().eventing().night()<br><span class="hljs-comment">// Running</span><br><span class="hljs-comment">// Going</span><br><span class="hljs-comment">// Walking</span><br><span class="hljs-comment">// Sleeping</span><br></code></pre></div></td></tr></table></figure>
<h3 id="对象属性与遍历"><a href="#对象属性与遍历" class="headerlink" title="对象属性与遍历"></a>对象属性与遍历</h3><h4 id="动态属性"><a href="#动态属性" class="headerlink" title="动态属性"></a>动态属性</h4><p>设置动态属性，属性名用中括号表示<br>JS引擎最早也是使用<code>obj[&#39;name&#39;]</code>处理</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> myLang = &#123;<br>  <span class="hljs-attr">No1</span>: <span class="hljs-string">&#x27;HTML&#x27;</span>,<br>  <span class="hljs-attr">No2</span>: <span class="hljs-string">&#x27;CSS&#x27;</span>,<br>  <span class="hljs-attr">No3</span>: <span class="hljs-string">&#x27;JavaScript&#x27;</span>,<br>  <span class="hljs-attr">myStudyingLang</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">num</span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>[<span class="hljs-string">&#x27;No&#x27;</span> + num])<br>  &#125;,<br>&#125;<br>myLang.myStudyingLang(<span class="hljs-number">1</span>) <span class="hljs-comment">//HTML</span><br>myLang.myStudyingLang(<span class="hljs-number">2</span>) <span class="hljs-comment">//CSS</span><br><br>obj = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;123&#x27;</span>,<br>&#125;<br><span class="hljs-built_in">console</span>.log(obj[<span class="hljs-string">&#x27;name&#x27;</span>]) <span class="hljs-comment">//123</span><br></code></pre></div></td></tr></table></figure>
<h4 id="遍历"><a href="#遍历" class="headerlink" title="遍历"></a>遍历</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; arr.length; i++) &#123;<br>  <span class="hljs-built_in">console</span>.log(arr[i])<br>&#125;<br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> car = &#123;<br>  <span class="hljs-attr">brand</span>: <span class="hljs-string">&#x27;Bena&#x27;</span>,<br>  <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;red&#x27;</span>,<br>  <span class="hljs-attr">displacement</span>: <span class="hljs-string">&#x27;3.0&#x27;</span>,<br>  <span class="hljs-attr">lang</span>: <span class="hljs-string">&#x27;5&#x27;</span>,<br>  <span class="hljs-attr">width</span>: <span class="hljs-string">&#x27;2.5&#x27;</span>,<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> car) &#123;<br>  <span class="hljs-comment">// console.log(car.key) //undefined  //car.key -&gt; car[&#x27;key&#x27;] -&gt; undefined</span><br>  <span class="hljs-built_in">console</span>.log(key + <span class="hljs-string">&#x27;:&#x27;</span> + car[key])<br>  <span class="hljs-comment">// brand:Bena</span><br>  <span class="hljs-comment">// color:red</span><br>  <span class="hljs-comment">// displacement:3.0</span><br>  <span class="hljs-comment">// lang:5</span><br>  <span class="hljs-comment">// width:2.5</span><br>&#125;<br><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br><span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> arr) &#123;<br>  <span class="hljs-built_in">console</span>.log(arr[i])<br>&#125;<br><span class="hljs-comment">// 1</span><br><span class="hljs-comment">// 2</span><br><span class="hljs-comment">// 3</span><br><span class="hljs-comment">// 4</span><br><span class="hljs-comment">// 5</span><br></code></pre></div></td></tr></table></figure>
<p>判断属性是否在对象里</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> car = &#123;<br>  <span class="hljs-attr">brand</span>: <span class="hljs-string">&#x27;Benz&#x27;</span>,<br>  <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;red&#x27;</span>,<br>&#125;<br><span class="hljs-comment">//car[&#x27;displacement&#x27;] //判断displacement是否在对象里</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;displacement&#x27;</span> <span class="hljs-keyword">in</span> car) <span class="hljs-comment">//false</span><br></code></pre></div></td></tr></table></figure>
<p>判断属性是否在构造函数里( in 不排除原型)</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.brand = <span class="hljs-string">&#x27;Benz&#x27;</span><br>  <span class="hljs-built_in">this</span>.color = <span class="hljs-string">&#x27;red&#x27;</span><br>&#125;<br>Car.prototype = &#123;<br>  <span class="hljs-attr">displacement</span>: <span class="hljs-string">&#x27;3.0&#x27;</span>,<br>&#125;<br><span class="hljs-keyword">let</span> car = <span class="hljs-keyword">new</span> Car()<br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;displacement&#x27;</span> <span class="hljs-keyword">in</span> car) <span class="hljs-comment">//true</span><br></code></pre></div></td></tr></table></figure>
<p>for in 会把原型链上的属性打印出来</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.brand = <span class="hljs-string">&#x27;Benz&#x27;</span><br>  <span class="hljs-built_in">this</span>.color = <span class="hljs-string">&#x27;red&#x27;</span><br>  <span class="hljs-built_in">this</span>.displacement = <span class="hljs-string">&#x27;3.0&#x27;</span><br>&#125;<br>Car.prototype = &#123;<br>  <span class="hljs-attr">lang</span>: <span class="hljs-number">5</span>,<br>  <span class="hljs-attr">width</span>: <span class="hljs-number">2.5</span>,<br>&#125;<br><span class="hljs-built_in">Object</span>.prototype.name = <span class="hljs-string">&#x27;Object&#x27;</span><br><span class="hljs-keyword">let</span> car = <span class="hljs-keyword">new</span> Car()<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> car) &#123;<br>  <span class="hljs-built_in">console</span>.log(key + <span class="hljs-string">&#x27;:&#x27;</span> + car[key])<br>&#125;<br><span class="hljs-comment">// brand:Benz</span><br><span class="hljs-comment">// color:red</span><br><span class="hljs-comment">// displacement:3.0</span><br><span class="hljs-comment">// lang:5</span><br><span class="hljs-comment">// width:2.5</span><br><span class="hljs-comment">// name:Object</span><br></code></pre></div></td></tr></table></figure>
<h4 id="hasOwnProperty-NaN"><a href="#hasOwnProperty-NaN" class="headerlink" title="hasOwnProperty"></a>hasOwnProperty</h4><p>hasOwnProperty只打印自身的属性，会排除原型<br>对象.hasOwnProperty(属性名)会排除自身以外的属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.brand = <span class="hljs-string">&#x27;Benz&#x27;</span><br>  <span class="hljs-built_in">this</span>.color = <span class="hljs-string">&#x27;red&#x27;</span><br>  <span class="hljs-built_in">this</span>.displacement = <span class="hljs-string">&#x27;3.0&#x27;</span><br>&#125;<br>Car.prototype = &#123;<br>  <span class="hljs-attr">lang</span>: <span class="hljs-number">5</span>,<br>  <span class="hljs-attr">width</span>: <span class="hljs-number">2.5</span>,<br>&#125;<br><span class="hljs-built_in">Object</span>.prototype.name = <span class="hljs-string">&#x27;Object&#x27;</span><br><span class="hljs-keyword">let</span> car = <span class="hljs-keyword">new</span> Car()<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> car) &#123;<br>  <span class="hljs-keyword">if</span> (car.hasOwnProperty(key)) &#123;<br>    <span class="hljs-built_in">console</span>.log(key + <span class="hljs-string">&#x27;:&#x27;</span> + car[key])<br>  &#125;<br>&#125;<br><span class="hljs-comment">// brand:Benz</span><br><span class="hljs-comment">// color:red</span><br><span class="hljs-comment">// displacement:3.0</span><br></code></pre></div></td></tr></table></figure>
<h4 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a>instanceof</h4><p>可通过 instanceof 操作符来判断对象的具体类型<br>检测某个对象是不是另一个对象的实例(判断A对象的原型里有没有B的原型)</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br><span class="hljs-keyword">let</span> car = <span class="hljs-keyword">new</span> Car()<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br><span class="hljs-keyword">let</span> p = <span class="hljs-keyword">new</span> Person()<br><span class="hljs-built_in">console</span>.log(car <span class="hljs-keyword">instanceof</span> Car) <span class="hljs-comment">//true</span><br><span class="hljs-built_in">console</span>.log(p <span class="hljs-keyword">instanceof</span> Car) <span class="hljs-comment">//false</span><br><span class="hljs-built_in">console</span>.log(p <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Object</span>) <span class="hljs-comment">//true</span><br><span class="hljs-built_in">console</span>.log([] <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span>) <span class="hljs-comment">//true</span><br><span class="hljs-built_in">console</span>.log([] <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Object</span>) <span class="hljs-comment">//true</span><br><span class="hljs-built_in">console</span>.log(&#123;&#125; <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Object</span>) <span class="hljs-comment">//true</span><br></code></pre></div></td></tr></table></figure>
<h5 id="判断一个数据是否为数组"><a href="#判断一个数据是否为数组" class="headerlink" title="判断一个数据是否为数组"></a>判断一个数据是否为数组</h5><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = []<br><span class="hljs-built_in">console</span>.log(a.constructor) <span class="hljs-comment">//ƒ Array() &#123; [native code] &#125;</span><br><span class="hljs-built_in">console</span>.log(a <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span>) <span class="hljs-comment">//true</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.prototype.toString.call(a)) <span class="hljs-comment">//[object Array]</span><br></code></pre></div></td></tr></table></figure>
<h4 id="Object-prototype-toString-call"><a href="#Object-prototype-toString-call" class="headerlink" title="Object.prototype.toString.call()"></a>Object.prototype.toString.call()</h4><p>toString原本是Object.prototype里边的一种方法，但是使用call()把this指向换了</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = []<br><span class="hljs-comment">// Object.prototype.toString.call(a)</span><br><span class="hljs-built_in">Object</span>.prototype = &#123;<br>  <span class="hljs-attr">toString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-comment">// this.toString() //原本是this指向Object</span><br>    a.toString() <span class="hljs-comment">//使用了call(),改变了this指向</span><br>  &#125;,<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>为什么会打印出<code>[object Array]</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">//[1, 2, 3]</span><br><span class="hljs-comment">//调用arr本身的toString方法</span><br><span class="hljs-built_in">console</span>.log(arr.toString()) <span class="hljs-comment">//1,2,3</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.prototype.toString()) <span class="hljs-comment">//[object Object]</span><br><span class="hljs-comment">//调用Object原型上的toString，并改变this指向</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.prototype.toString.call(arr)) <span class="hljs-comment">//[object Array]</span><br></code></pre></div></td></tr></table></figure>
<p>判断是否数组(推荐使用<code>Object.prototype.toString.call()</code>)</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = []<br><span class="hljs-keyword">let</span> str = <span class="hljs-built_in">Object</span>.prototype.toString,<br>  trueTip = <span class="hljs-string">&#x27;[object Array]&#x27;</span><br><br><span class="hljs-keyword">if</span> (str.call(a) === trueTip) &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;是数组&#x27;</span>)<br>&#125; <span class="hljs-keyword">else</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;不是数组&#x27;</span>)<br>&#125;<br><span class="hljs-comment">//是数组</span><br></code></pre></div></td></tr></table></figure>
<h4 id="callee-caller"><a href="#callee-caller" class="headerlink" title="callee/caller"></a>callee/caller</h4><h5 id="callee"><a href="#callee" class="headerlink" title="callee"></a>callee</h5><p>callee执行到arguments时所指向的函数是谁，cellee就返回谁</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params">a, b, c</span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">arguments</span>.callee) <span class="hljs-comment">//arguments所对应的函数是谁callee就返回谁</span><br>  <span class="hljs-built_in">console</span>.log(test.length) <span class="hljs-comment">//3 形参length</span><br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">arguments</span>.callee.length) <span class="hljs-comment">//3 形参length</span><br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">arguments</span>.length) <span class="hljs-comment">//2 实参length</span><br>&#125;<br>test(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br><span class="hljs-comment">// ƒ test(a, b, c) &#123;</span><br><span class="hljs-comment">//   console.log(arguments.callee)</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test1</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>, <span class="hljs-built_in">arguments</span>.callee)<br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test2</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-number">2</span>, <span class="hljs-built_in">arguments</span>.callee)<br>  &#125;<br>  test2()<br>&#125;<br>test1()<br><span class="hljs-comment">// 1 ƒ test1() &#123;</span><br><span class="hljs-comment">//   console.log(1, arguments.callee)</span><br><span class="hljs-comment">//   function test2() &#123;</span><br><span class="hljs-comment">//     console.log(2, arguments.callee)</span><br><span class="hljs-comment">//   &#125;</span><br><span class="hljs-comment">//   test2()</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-comment">// 2 ƒ test2() &#123;</span><br><span class="hljs-comment">//     console.log(2, arguments.callee)</span><br><span class="hljs-comment">//   &#125;</span><br></code></pre></div></td></tr></table></figure>
<p>在立即执行函数中使用</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">	<span class="hljs-comment">// function sum(n) &#123;</span><br>   <span class="hljs-comment">//   if (n &lt;= 1) return 1</span><br>   <span class="hljs-comment">//   return n + sum(n - 1)</span><br>   <span class="hljs-comment">// &#125;</span><br>   <span class="hljs-comment">// console.log(sum(100)) //5050</span><br><span class="hljs-keyword">let</span> sum = (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">n</span>) </span>&#123;<br>     <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>     <span class="hljs-keyword">return</span> n + <span class="hljs-built_in">arguments</span>.callee(n - <span class="hljs-number">1</span>)<br>   &#125;)(<span class="hljs-number">100</span>)<br>   <span class="hljs-built_in">console</span>.log(sum) <span class="hljs-comment">//5050</span><br></code></pre></div></td></tr></table></figure>
<h5 id="caller"><a href="#caller" class="headerlink" title="caller"></a>caller</h5><p>caller返回调用当前函数的函数引用</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">test1()<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test1</span>(<span class="hljs-params"></span>) </span>&#123;<br>  test2()<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test2</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(test2.caller)<span class="hljs-comment">//返回当前谁调用test2</span><br>&#125;<br><span class="hljs-comment">// ƒ test1() &#123;</span><br><span class="hljs-comment">//   test2()</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></div></td></tr></table></figure>
<h4 id="typeof-1"><a href="#typeof-1" class="headerlink" title="typeof"></a>typeof</h4><p>typeof可能返回的值有哪些？<br>object(null)、boolean、number、string、undefined、function、symbol、bigint</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;&#125;) <span class="hljs-comment">//function</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> <span class="hljs-literal">null</span>) <span class="hljs-comment">//object</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> &#123;&#125;) <span class="hljs-comment">//object</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> <span class="hljs-number">1</span>) <span class="hljs-comment">//number</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> <span class="hljs-string">&#x27;abc&#x27;</span>) <span class="hljs-comment">//string</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> <span class="hljs-literal">true</span>) <span class="hljs-comment">//boolean</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> <span class="hljs-literal">undefined</span>) <span class="hljs-comment">//undefined</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">Symbol</span>()) <span class="hljs-comment">//symbol</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> <span class="hljs-number">2n</span>) <span class="hljs-comment">//bigint</span><br></code></pre></div></td></tr></table></figure>
<h3 id="this指向"><a href="#this指向" class="headerlink" title="this指向"></a>this指向</h3><p>全局this -&gt; window<br>构造函数的this指向实例化对象<br>预编译函数this -&gt; window<br>call/apply 改变this指向，this 指向指定的那个对象</p>
<h4 id="函数内部的this"><a href="#函数内部的this" class="headerlink" title="函数内部的this"></a>函数内部的this</h4><p>普通函数(未实例化)内部的this默认指向window</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params">b</span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.d = <span class="hljs-number">3</span> <span class="hljs-comment">//window.d=3</span><br>  <span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span><br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">c</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<br>&#125;<br>test(<span class="hljs-number">123</span>)<br><span class="hljs-built_in">console</span>.log(d) <span class="hljs-comment">//3</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.d) <span class="hljs-comment">//3</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">window</span>.d) <span class="hljs-comment">//3</span><br><span class="hljs-comment">// AO = &#123;</span><br><span class="hljs-comment">//   arguments: [123],</span><br><span class="hljs-comment">//   this:window</span><br><span class="hljs-comment">//   b:undefined</span><br><span class="hljs-comment">//      123</span><br><span class="hljs-comment">//   a:undefined</span><br><span class="hljs-comment">//   c:function c() &#123;&#125;</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></div></td></tr></table></figure>
<h4 id="构造函数内部的this"><a href="#构造函数内部的this" class="headerlink" title="构造函数内部的this"></a>构造函数内部的this</h4><p>构造函数实例化之后this指向实例化对象</p>
<h4 id="预编译函数this"><a href="#预编译函数this" class="headerlink" title="预编译函数this"></a>预编译函数this</h4><p>预编译函数this指向window</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Test</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-comment">//new的时候构造函数内部产生成this，然后生成__proto__被赋值构造函数的prototype，生成原型链</span><br>  <span class="hljs-comment">// let this = &#123;</span><br>  <span class="hljs-comment">//  __proto__: Test.prototype</span><br>  <span class="hljs-comment">// &#125;</span><br>  <span class="hljs-built_in">this</span>.name = <span class="hljs-string">&#x27;123&#x27;</span><br>&#125;<br><span class="hljs-keyword">let</span> test = <span class="hljs-keyword">new</span> Test()<br><span class="hljs-comment">// new 之前this指向window</span><br><span class="hljs-comment">// AO = &#123;</span><br><span class="hljs-comment">// 	 this: window</span><br><span class="hljs-comment">// &#125;</span><br><br><span class="hljs-comment">// new 之后this接收属性和原型对象，生成原型链</span><br><span class="hljs-comment">// AO = &#123;</span><br><span class="hljs-comment">//   this:&#123;</span><br><span class="hljs-comment">//      name:&#x27;123&#x27;, //接收属性</span><br><span class="hljs-comment">//      __proto__: Test.prototype //生成原型链</span><br><span class="hljs-comment">//   &#125;</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-comment">//new的时候产生GO</span><br><span class="hljs-comment">// GO = &#123;</span><br><span class="hljs-comment">//   Test: function test() &#123;...&#125;</span><br><span class="hljs-comment">//   test:&#123; //new 之后</span><br><span class="hljs-comment">//      name:&#x27;123&#x27;, //接收属性</span><br><span class="hljs-comment">//      __proto__: Test.prototype //生成原型链</span><br><span class="hljs-comment">//   &#125;</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></div></td></tr></table></figure>
<h4 id="call-apply-1"><a href="#call-apply-1" class="headerlink" title="call/apply"></a>call/apply</h4><p>call/apply调用时this 指向指定的那个对象<br>apply 方法的第一个参数是作为函数上下文的对象，此时函数里的 this 便指向了构造函数Person。<br>所以实例对象p可以借用构造函数Person里边的属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.name = <span class="hljs-string">&#x27;张三&#x27;</span><br>  <span class="hljs-built_in">this</span>.age = <span class="hljs-number">18</span><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Programmer</span>(<span class="hljs-params"></span>) </span>&#123;<br>  Person.apply(<span class="hljs-built_in">this</span>)<br>  <span class="hljs-built_in">this</span>.work = <span class="hljs-string">&#x27;Programmer&#x27;</span><br>&#125;<br><span class="hljs-keyword">let</span> p = <span class="hljs-keyword">new</span> Programmer()<br><span class="hljs-built_in">console</span>.log(p) <span class="hljs-comment">//Programmer &#123;name: &#x27;张三&#x27;, age: 18, work: &#x27;Programmer&#x27;&#125;</span><br><br><span class="hljs-comment">// function Person(name, age) &#123;</span><br><span class="hljs-comment">//   this.name = name</span><br><span class="hljs-comment">//   this.age = age</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-comment">// function Programmer(name, age) &#123;</span><br><span class="hljs-comment">//   Person.apply(this, [name, age])</span><br><span class="hljs-comment">//   this.work = &#x27;Programmer&#x27;</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-comment">// let p = new Programmer(&#x27;张三&#x27;, 18)</span><br><span class="hljs-comment">// console.log(p) //Programmer &#123;name: &#x27;张三&#x27;, age: 18, work: &#x27;Programmer&#x27;&#125;</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;<br>  bar.apply(<span class="hljs-literal">null</span>, <span class="hljs-built_in">arguments</span>) <span class="hljs-comment">//相当于bar.call() -&gt; bar(arguments)</span><br>  <span class="hljs-comment">// bar.call()</span><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bar</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">arguments</span>)<br>&#125;<br>foo(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>) <br><span class="hljs-comment">//Arguments(5) [1, 2, 3, 4, 5, callee: ƒ, Symbol(Symbol.iterator): ƒ]</span><br><br></code></pre></div></td></tr></table></figure>


<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">   <span class="hljs-keyword">let</span> f =<br>     (<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params"></span>) </span>&#123;<br>       <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;1&#x27;</span><br>     &#125;,<br>     <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">g</span>(<span class="hljs-params"></span>) </span>&#123;<br>       <span class="hljs-keyword">return</span> <span class="hljs-number">2</span><br>     &#125;)<br><span class="hljs-comment">//f=( f(), g() ) -&gt; f=g()</span><br>   <span class="hljs-built_in">console</span>.log(f) <span class="hljs-comment">//ƒ g() &#123;return 2&#125;</span><br>   <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> f) <span class="hljs-comment">//function</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> f = (<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;1&#x27;</span><br>&#125;,<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">g</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">2</span><br>&#125;)()<br><span class="hljs-comment">//f=( f(), g() )() -&gt; f=g()() -&gt; f()=g()</span><br><span class="hljs-built_in">console</span>.log(f) <span class="hljs-comment">// 2</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> f) <span class="hljs-comment">//number</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(<span class="hljs-literal">undefined</span> == <span class="hljs-literal">null</span>) <span class="hljs-comment">//true</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-literal">undefined</span> === <span class="hljs-literal">null</span>) <span class="hljs-comment">//false</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">isNaN</span>(<span class="hljs-string">&#x27;100&#x27;</span>)) <span class="hljs-comment">//false</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">parseInt</span>(<span class="hljs-string">&#x27;1a&#x27;</span>) == <span class="hljs-number">1</span>) <span class="hljs-comment">//true</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isNaN1</span>(<span class="hljs-params">num</span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> res = <span class="hljs-built_in">Number</span>(num)<br>  <span class="hljs-keyword">if</span> (res == <span class="hljs-literal">NaN</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>  <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br>&#125;<br><span class="hljs-built_in">console</span>.log(isNaN1(<span class="hljs-string">&#x27;abc&#x27;</span>)) <span class="hljs-comment">//false</span><br><span class="hljs-comment">// console.log(NaN == NaN) //false</span><br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isNaN2</span>(<span class="hljs-params">num</span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> res = <span class="hljs-built_in">Number</span>(num) + <span class="hljs-string">&#x27;&#x27;</span><br>  <span class="hljs-keyword">if</span> (res == <span class="hljs-string">&#x27;NaN&#x27;</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>  <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br>&#125;<br><span class="hljs-built_in">console</span>.log(isNaN2(<span class="hljs-string">&#x27;abc&#x27;</span>)) <span class="hljs-comment">//true</span><br><span class="hljs-comment">// console.log(&#x27;NaN&#x27; == &#x27;NaN&#x27;) //true</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">//两个空对象不相等</span><br><span class="hljs-built_in">console</span>.log(&#123;&#125; == &#123;&#125;) <span class="hljs-comment">//false //因为引用值对比的是地址，所以不相等</span><br><span class="hljs-comment">//如何让两个空对象相等</span><br><span class="hljs-keyword">let</span> obj1 = &#123;&#125;<br>obj2 = obj1<br><span class="hljs-built_in">console</span>.log(obj1 == obj2) <span class="hljs-comment">//true</span><br><span class="hljs-comment">//空对象先赋值给一个变量，这个变量赋值给另一个变量就相等了</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a = <span class="hljs-string">&#x27;1&#x27;</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">var</span> a = <span class="hljs-string">&#x27;2&#x27;</span><br>  <span class="hljs-built_in">this</span>.a = <span class="hljs-string">&#x27;3&#x27;</span> <span class="hljs-comment">//这里this默认是全局window</span><br>  <span class="hljs-built_in">console</span>.log(a)<br>&#125;<br>test() <span class="hljs-comment">//2</span><br><span class="hljs-keyword">new</span> test() <span class="hljs-comment">//2</span><br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//3</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a = <span class="hljs-number">5</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>  a = <span class="hljs-number">0</span><br>  <span class="hljs-built_in">console</span>.log(a)<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.a)<br>  <span class="hljs-keyword">var</span> a<br>  <span class="hljs-built_in">console</span>.log(a)<br>&#125;<br>test() <span class="hljs-comment">// 0 5 0</span><br><span class="hljs-comment">//0和0是自己有的，this.a是window上的</span><br><span class="hljs-keyword">new</span> test() <span class="hljs-comment">//0 undefined 0</span><br><span class="hljs-comment">//0和0是自己有的,实例化之后内部产生的this，但是没有给this加上a这个属性</span><br><br><span class="hljs-comment">// var b = 5</span><br><span class="hljs-comment">// function test2() &#123;</span><br><span class="hljs-comment">//   b = 0</span><br><span class="hljs-comment">//   console.log(this)</span><br><span class="hljs-comment">//   var b</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-comment">// new test2() //test2 &#123;&#125;  //没有任何属性</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Test</span>(<span class="hljs-params">a, b, c</span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> d = <span class="hljs-number">0</span><br>  <span class="hljs-built_in">this</span>.a = a<br>  <span class="hljs-built_in">this</span>.b = b<br>  <span class="hljs-built_in">this</span>.c = c<br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params"></span>) </span>&#123;<br>    d++<br>    <span class="hljs-built_in">console</span>.log(d)<br>  &#125;<br>  <span class="hljs-built_in">this</span>.f = e<br>  <span class="hljs-comment">//new之后</span><br>  <span class="hljs-comment">// let this=&#123;</span><br>  <span class="hljs-comment">//     f:function () &#123;d++;console.log(d)&#125;</span><br>  <span class="hljs-comment">// &#125;</span><br>  <span class="hljs-comment">// return this //隐式return this形成闭包</span><br>&#125;<br><span class="hljs-comment">// AO = &#123;</span><br><span class="hljs-comment">//   d: undefined, //1</span><br><span class="hljs-comment">//      0 //4</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-keyword">let</span> test1 = <span class="hljs-keyword">new</span> Test()<br>test1.f() <span class="hljs-comment">//1</span><br>test1.f() <span class="hljs-comment">//2</span><br><span class="hljs-keyword">let</span> test2 = <span class="hljs-keyword">new</span> Test()<br>test2.f() <span class="hljs-comment">//1</span><br></code></pre></div></td></tr></table></figure>
<h3 id="三目运算符"><a href="#三目运算符" class="headerlink" title="三目运算符"></a>三目运算符</h3><h4 id="普通三目运算"><a href="#普通三目运算" class="headerlink" title="普通三目运算"></a>普通三目运算</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">5</span><br><span class="hljs-comment">// if (a &gt; 0) &#123;</span><br><span class="hljs-comment">//   console.log(&#x27;大于0&#x27;)</span><br><span class="hljs-comment">// &#125; else &#123;</span><br><span class="hljs-comment">//   console.log(&#x27;小于等于0&#x27;)</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-comment">// //大于0</span><br><br>a &gt; <span class="hljs-number">0</span> ? <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;大于0&#x27;</span>) : <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;小于等于0&#x27;</span>)<br><span class="hljs-comment">//大于0</span><br></code></pre></div></td></tr></table></figure>
<h4 id="三目运算自带return功能"><a href="#三目运算自带return功能" class="headerlink" title="三目运算自带return功能"></a>三目运算自带return功能</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">5</span><br><span class="hljs-keyword">let</span> str = a &gt; <span class="hljs-number">0</span> ? <span class="hljs-string">&#x27;大于0&#x27;</span> : <span class="hljs-string">&#x27;小于等于0&#x27;</span><br><span class="hljs-built_in">console</span>.log(str) <span class="hljs-comment">//大于0</span><br></code></pre></div></td></tr></table></figure>
<h4 id="三目运算嵌套"><a href="#三目运算嵌套" class="headerlink" title="三目运算嵌套"></a>三目运算嵌套</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">5</span>,<br>  str = <span class="hljs-string">&#x27;&#x27;</span><br><span class="hljs-comment">// if (a &gt; 0) &#123;</span><br><span class="hljs-comment">//   if (a &gt; 3) &#123;</span><br><span class="hljs-comment">//     str = &#x27;大于3&#x27;</span><br><span class="hljs-comment">//   &#125; else &#123;</span><br><span class="hljs-comment">//     str = &#x27;小于等于3&#x27;</span><br><span class="hljs-comment">//   &#125;</span><br><span class="hljs-comment">// &#125; else &#123;</span><br><span class="hljs-comment">//   str = &#x27;小于等于0&#x27;</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-comment">// console.log(str) //大于3</span><br>str = a &gt; <span class="hljs-number">0</span> ? (a &gt; <span class="hljs-number">3</span> ? <span class="hljs-string">&#x27;大于3&#x27;</span> : <span class="hljs-string">&#x27;小于等于3&#x27;</span>) : <span class="hljs-string">&#x27;小于等于0&#x27;</span><br><span class="hljs-built_in">console</span>.log(str) <span class="hljs-comment">//大于3</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> str = <span class="hljs-number">89</span> &gt; <span class="hljs-number">9</span> ? (<span class="hljs-string">&#x27;89&#x27;</span> &gt; <span class="hljs-string">&#x27;9&#x27;</span> ? <span class="hljs-string">&#x27;通过了&#x27;</span> : <span class="hljs-string">&#x27;内层未通过&#x27;</span>) : <span class="hljs-string">&#x27;外层未通过&#x27;</span><br><span class="hljs-built_in">console</span>.log(str) <span class="hljs-comment">//内层未通过</span><br></code></pre></div></td></tr></table></figure>


<p>判断是否闰年<br>1、整除4并且不能整除100，<br>2、整除400</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> year = <span class="hljs-built_in">window</span>.prompt(<span class="hljs-string">&#x27;请输入年份&#x27;</span>)<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isLeapYear</span>(<span class="hljs-params">year</span>) </span>&#123;<br>  <span class="hljs-comment">// if ((year % 4 === 0 &amp;&amp; year % 100 !== 0) || year % 400 === 0) &#123;</span><br>  <span class="hljs-comment">//   return &#x27;是润年&#x27;</span><br>  <span class="hljs-comment">// &#125; else &#123;</span><br>  <span class="hljs-comment">//   return &#x27;不是闰年&#x27;</span><br>  <span class="hljs-comment">// &#125;</span><br>  <span class="hljs-keyword">return</span> (year % <span class="hljs-number">4</span> === <span class="hljs-number">0</span> &amp;&amp; year % <span class="hljs-number">100</span> !== <span class="hljs-number">0</span>) || year % <span class="hljs-number">400</span> === <span class="hljs-number">0</span><br>    ? <span class="hljs-string">&#x27;闰年&#x27;</span><br>    : <span class="hljs-string">&#x27;不是闰年&#x27;</span><br>&#125;<br><span class="hljs-built_in">console</span>.log(isLeapYear(year))<br></code></pre></div></td></tr></table></figure>
<h3 id="对象克隆"><a href="#对象克隆" class="headerlink" title="对象克隆"></a>对象克隆</h3><h4 id="拷贝-复制-克隆-clone"><a href="#拷贝-复制-克隆-clone" class="headerlink" title="拷贝/复制/克隆 clone"></a>拷贝/复制/克隆 clone</h4><p>普通克隆是将值赋值给i另一个新的对象，两个对象指向的同一个内存地址</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> person1 = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;张三&#x27;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,<br>  <span class="hljs-attr">sex</span>: <span class="hljs-string">&#x27;male&#x27;</span>,<br>  <span class="hljs-attr">height</span>: <span class="hljs-number">180</span>,<br>  <span class="hljs-attr">weight</span>: <span class="hljs-number">140</span>,<br>&#125;<br><span class="hljs-keyword">let</span> person2 = person1<br>person2.name = <span class="hljs-string">&#x27;李四&#x27;</span><br><span class="hljs-built_in">console</span>.log(person1, person2)<br><span class="hljs-comment">// &#123;name: &#x27;李四&#x27;, age: 18, sex: &#x27;male&#x27;, height: 180, weight: 140&#125;</span><br><span class="hljs-comment">// &#123;name: &#x27;李四&#x27;, age: 18, sex: &#x27;male&#x27;, height: 180, weight: 140&#125;</span><br></code></pre></div></td></tr></table></figure>
<h4 id="浅拷贝"><a href="#浅拷贝" class="headerlink" title="浅拷贝"></a>浅拷贝</h4><p>遍历对象，将每一个属性和值分别赋值给一个空对象。<br>但是浅拷贝没有处理引用值</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> person1 = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;张三&#x27;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,<br>  <span class="hljs-attr">sex</span>: <span class="hljs-string">&#x27;male&#x27;</span>,<br>  <span class="hljs-attr">height</span>: <span class="hljs-number">180</span>,<br>  <span class="hljs-attr">weight</span>: <span class="hljs-number">140</span>,<br>&#125;<br><span class="hljs-keyword">let</span> person2 = &#123;&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> person1) &#123;<br>  person2[key] = person1[key]<br>&#125;<br>person2.name = <span class="hljs-string">&#x27;李四&#x27;</span><br><span class="hljs-built_in">console</span>.log(person1, person2)<br><span class="hljs-comment">// &#123;name: &#x27;张三&#x27;, age: 18, sex: &#x27;male&#x27;, height: 180, weight: 140&#125;</span><br><span class="hljs-comment">// &#123;name: &#x27;李四&#x27;, age: 18, sex: &#x27;male&#x27;, height: 180, weight: 140&#125;</span><br></code></pre></div></td></tr></table></figure>
<h5 id="浅拷贝的问题"><a href="#浅拷贝的问题" class="headerlink" title="浅拷贝的问题"></a>浅拷贝的问题</h5><ul>
<li>没有处理引用值，引用值还是指向同一个地址。</li>
<li>如果原型上还有其他属性，浅拷贝也会拷贝下来<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">Object</span>.prototype.num = <span class="hljs-number">1</span><br><span class="hljs-keyword">let</span> person1 = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;张三&#x27;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,<br>  <span class="hljs-attr">sex</span>: <span class="hljs-string">&#x27;male&#x27;</span>,<br>  <span class="hljs-attr">height</span>: <span class="hljs-number">180</span>,<br>  <span class="hljs-attr">weight</span>: <span class="hljs-number">140</span>,<br>  <span class="hljs-attr">son</span>: &#123;<br>    <span class="hljs-attr">first</span>: <span class="hljs-string">&#x27;Jenney&#x27;</span>,<br>  &#125;,<br>&#125;<br><span class="hljs-keyword">let</span> person2 = &#123;&#125;<br><span class="hljs-comment">//浅拷贝</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> person1) &#123;<br>  person2[key] = person1[key]<br>&#125;<br>person2.name = <span class="hljs-string">&#x27;李四&#x27;</span><br>person2.son.second = <span class="hljs-string">&#x27;Lucy&#x27;</span><br><span class="hljs-built_in">console</span>.log(person1, person2)<br><span class="hljs-comment">// age: 18</span><br><span class="hljs-comment">// height: 180</span><br><span class="hljs-comment">// name: &quot;张三&quot;</span><br><span class="hljs-comment">// sex: &quot;male&quot;</span><br><span class="hljs-comment">// son: &#123;first: &#x27;Jenney&#x27;, second: &#x27;Lucy&#x27;&#125;</span><br><span class="hljs-comment">// weight: 140</span><br><span class="hljs-comment">// [[Prototype]]: Object</span><br><span class="hljs-comment">//    num: 1</span><br><br><span class="hljs-comment">// age: 18</span><br><span class="hljs-comment">// height: 180</span><br><span class="hljs-comment">// name: &quot;李四&quot;</span><br><span class="hljs-comment">// num: 1</span><br><span class="hljs-comment">// sex: &quot;male&quot;</span><br><span class="hljs-comment">// son: &#123;first: &#x27;Jenney&#x27;, second: &#x27;Lucy&#x27;&#125;</span><br><span class="hljs-comment">// weight: 140</span><br><span class="hljs-comment">// [[Prototype]]: Object</span><br><span class="hljs-comment">//     num: 1</span><br></code></pre></div></td></tr></table></figure>
<h5 id="封装浅拷贝"><a href="#封装浅拷贝" class="headerlink" title="封装浅拷贝"></a>封装浅拷贝</h5>传入拷贝源和目标对象，考虑排除原型上的对象<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">Object</span>.prototype.num = <span class="hljs-number">1</span><br><span class="hljs-keyword">let</span> person1 = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;张三&#x27;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,<br>  <span class="hljs-attr">sex</span>: <span class="hljs-string">&#x27;male&#x27;</span>,<br>  <span class="hljs-attr">height</span>: <span class="hljs-number">180</span>,<br>  <span class="hljs-attr">weight</span>: <span class="hljs-number">140</span>,<br>  <span class="hljs-attr">son</span>: &#123;<br>    <span class="hljs-attr">first</span>: <span class="hljs-string">&#x27;Jenney&#x27;</span>,<br>  &#125;,<br>&#125;<br><span class="hljs-keyword">let</span> person2 = &#123;&#125;<br><span class="hljs-comment">//浅拷贝</span><br>clone(person1, person2)<br>person2.name = <span class="hljs-string">&#x27;李四&#x27;</span><br>person2.son.second = <span class="hljs-string">&#x27;Lucy&#x27;</span><br><span class="hljs-built_in">console</span>.log(person1, person2)<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clone</span>(<span class="hljs-params">origin, target</span>) </span>&#123;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> origin)<br>    <span class="hljs-keyword">if</span> (origin.hasOwnProperty(key)) &#123;<span class="hljs-comment">//排除原型,只打印自身属性</span><br>      target[key] = origin[key]<br>    &#125;<br>&#125;<br><span class="hljs-comment">// age: 18</span><br><span class="hljs-comment">// height: 180</span><br><span class="hljs-comment">// name: &quot;张三&quot;</span><br><span class="hljs-comment">// sex: &quot;male&quot;</span><br><span class="hljs-comment">// son: &#123;first: &#x27;Jenney&#x27;, second: &#x27;Lucy&#x27;&#125;</span><br><span class="hljs-comment">// weight: 140</span><br><span class="hljs-comment">// [[Prototype]]: Object</span><br><span class="hljs-comment">//    num: 1</span><br><br><span class="hljs-comment">// age: 18</span><br><span class="hljs-comment">// height: 180</span><br><span class="hljs-comment">// name: &quot;李四&quot;</span><br><span class="hljs-comment">// sex: &quot;male&quot;</span><br><span class="hljs-comment">// son: &#123;first: &#x27;Jenney&#x27;, second: &#x27;Lucy&#x27;&#125;</span><br><span class="hljs-comment">// weight: 140</span><br><span class="hljs-comment">// [[Prototype]]: Object</span><br><span class="hljs-comment">//     num: 1</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">Object</span>.prototype.num = <span class="hljs-number">1</span><br><span class="hljs-keyword">let</span> person1 = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;张三&#x27;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,<br>  <span class="hljs-attr">sex</span>: <span class="hljs-string">&#x27;male&#x27;</span>,<br>  <span class="hljs-attr">height</span>: <span class="hljs-number">180</span>,<br>  <span class="hljs-attr">weight</span>: <span class="hljs-number">140</span>,<br>  <span class="hljs-attr">son</span>: &#123;<br>    <span class="hljs-attr">first</span>: <span class="hljs-string">&#x27;Jenney&#x27;</span>,<br>  &#125;,<br>&#125;<br><span class="hljs-comment">//浅拷贝</span><br><span class="hljs-keyword">let</span> person2 = clone(person1)<br>person2.name = <span class="hljs-string">&#x27;李四&#x27;</span><br>person2.son.second = <span class="hljs-string">&#x27;Lucy&#x27;</span><br><span class="hljs-built_in">console</span>.log(person1, person2)<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clone</span>(<span class="hljs-params">origin, target</span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> tar = target || &#123;&#125;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> origin)<br>    <span class="hljs-keyword">if</span> (origin.hasOwnProperty(key)) &#123;<span class="hljs-comment">//排除原型,只打印自身属性</span><br>      tar[key] = origin[key]<br>    &#125;<br>  <span class="hljs-keyword">return</span> tar<br>&#125;<br></code></pre></div></td></tr></table></figure>
<h4 id="深拷贝"><a href="#深拷贝" class="headerlink" title="深拷贝"></a>深拷贝</h4><h5 id="方法一（递归）"><a href="#方法一（递归）" class="headerlink" title="方法一（递归）"></a>方法一（递归）</h5>利用递归方法进行深拷贝，遇到原始值才退出循环<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">Object</span>.prototype.num = <span class="hljs-number">1</span><br><span class="hljs-keyword">let</span> person1 = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;张三&#x27;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,<br>  <span class="hljs-attr">sex</span>: <span class="hljs-string">&#x27;male&#x27;</span>,<br>  <span class="hljs-attr">height</span>: <span class="hljs-number">180</span>,<br>  <span class="hljs-attr">weight</span>: <span class="hljs-number">140</span>,<br>  <span class="hljs-attr">children</span>: &#123;<br>    <span class="hljs-attr">first</span>: &#123;<br>      <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;张一&#x27;</span>,<br>      <span class="hljs-attr">age</span>: <span class="hljs-number">12</span>,<br>    &#125;,<br>    <span class="hljs-attr">second</span>: &#123;<br>      <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;张二&#x27;</span>,<br>      <span class="hljs-attr">age</span>: <span class="hljs-number">10</span>,<br>    &#125;,<br>  &#125;,<br>  <span class="hljs-attr">car</span>: [<span class="hljs-string">&#x27;Benz&#x27;</span>, <span class="hljs-string">&#x27;Mazda&#x27;</span>],<br>&#125;<br><span class="hljs-keyword">let</span> person2 = deepClone(person1)<br>person2.name = <span class="hljs-string">&#x27;李四&#x27;</span><br>person2.children.third = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;张三&#x27;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">9</span>,<br>&#125;<br>person2.car.push(<span class="hljs-string">&#x27;BYD&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(person1, person2)<br><span class="hljs-comment">//深拷贝</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deepClone</span>(<span class="hljs-params">origin, target</span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> targets = target || &#123;&#125;<br>  toStr = <span class="hljs-built_in">Object</span>.prototype.toString<br>  arrType = <span class="hljs-string">&#x27;[object Array]&#x27;</span><br><br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> origin) &#123;<br>    <span class="hljs-keyword">if</span> (origin.hasOwnProperty(key)) &#123;<br>      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> origin[key] === <span class="hljs-string">&#x27;object&#x27;</span> &amp;&amp; origin[key] !== <span class="hljs-literal">null</span>) &#123;<br>        <span class="hljs-keyword">if</span> (toStr.call(origin[key]) === arrType) &#123;<br>          targets[key] = []<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>          targets[key] = &#123;&#125;<br>        &#125;<br>        deepClone(origin[key], targets[key])<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        targets[key] = origin[key]<br>      &#125;<br>    &#125;<br>  &#125;<br>  <span class="hljs-keyword">return</span> targets<br>&#125;<br><span class="hljs-comment">// age: 18</span><br><span class="hljs-comment">// car: (2) [&#x27;Benz&#x27;, &#x27;Mazda&#x27;]</span><br><span class="hljs-comment">// children:</span><br><span class="hljs-comment">//    first: &#123;name: &#x27;张一&#x27;, age: 12&#125;</span><br><span class="hljs-comment">//    second: &#123;name: &#x27;张二&#x27;, age: 10&#125;</span><br><span class="hljs-comment">//    [[Prototype]]: Object</span><br><span class="hljs-comment">// height: 180</span><br><span class="hljs-comment">// name: &quot;张三&quot;</span><br><span class="hljs-comment">// sex: &quot;male&quot;</span><br><span class="hljs-comment">// weight: 140</span><br><br><span class="hljs-comment">// age: 18</span><br><span class="hljs-comment">// car: (3) [&#x27;Benz&#x27;, &#x27;Mazda&#x27;, &#x27;BYD&#x27;]</span><br><span class="hljs-comment">// children:</span><br><span class="hljs-comment">//    first: &#123;name: &#x27;张一&#x27;, age: 12&#125;</span><br><span class="hljs-comment">//    second: &#123;name: &#x27;张二&#x27;, age: 10&#125;</span><br><span class="hljs-comment">//    third: &#123;name: &#x27;张三&#x27;, age: 9&#125;</span><br><span class="hljs-comment">//    [[Prototype]]: Object</span><br><span class="hljs-comment">// height: 180</span><br><span class="hljs-comment">// name: &quot;李四&quot;</span><br><span class="hljs-comment">// sex: &quot;male&quot;</span><br><span class="hljs-comment">// weight: 140</span><br></code></pre></div></td></tr></table></figure>
<h5 id="方法二（JSON-不推荐）"><a href="#方法二（JSON-不推荐）" class="headerlink" title="方法二（JSON 不推荐）"></a>方法二（JSON 不推荐）</h5>利用JSON.stringify将数据转换成字符串(原始值)，再用JSON.parse解析字符串转换成对象。但是无法拷贝其他引用类型、拷贝函数、循环引用等情况<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">Object</span>.prototype.num = <span class="hljs-number">1</span><br><span class="hljs-keyword">let</span> person1 = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;张三&#x27;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,<br>  <span class="hljs-attr">sex</span>: <span class="hljs-string">&#x27;male&#x27;</span>,<br>  <span class="hljs-attr">height</span>: <span class="hljs-number">180</span>,<br>  <span class="hljs-attr">weight</span>: <span class="hljs-number">140</span>,<br>  <span class="hljs-attr">children</span>: &#123;<br>    <span class="hljs-attr">first</span>: &#123;<br>      <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;张一&#x27;</span>,<br>      <span class="hljs-attr">age</span>: <span class="hljs-number">12</span>,<br>    &#125;,<br>    <span class="hljs-attr">second</span>: &#123;<br>      <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;张二&#x27;</span>,<br>      <span class="hljs-attr">age</span>: <span class="hljs-number">10</span>,<br>    &#125;,<br>  &#125;,<br>  <span class="hljs-attr">car</span>: [<span class="hljs-string">&#x27;Benz&#x27;</span>, <span class="hljs-string">&#x27;Mazda&#x27;</span>],<br>&#125;<br><br><span class="hljs-keyword">let</span> str = <span class="hljs-built_in">JSON</span>.stringify(person1)<br><span class="hljs-keyword">let</span> person2 = <span class="hljs-built_in">JSON</span>.parse(str)<br><br>person2.name = <span class="hljs-string">&#x27;李四&#x27;</span><br>person2.children.third = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;张三&#x27;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">9</span>,<br>&#125;<br>person2.car.push(<span class="hljs-string">&#x27;BYD&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(person1, person2)<br></code></pre></div></td></tr></table></figure></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(foo) <span class="hljs-comment">//undefined</span><br>  <span class="hljs-keyword">var</span> foo = <span class="hljs-number">2</span><br>  <span class="hljs-built_in">console</span>.log(foo) <span class="hljs-comment">//2</span><br>  <span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//a is not defined</span><br>&#125;<br>test()<br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">var</span> test<br>  test()<br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>)<br>  &#125;<br>&#125;<br>a() <span class="hljs-comment">//1</span><br><span class="hljs-comment">// AO = &#123;</span><br><span class="hljs-comment">//   test: undefined, //1</span><br><span class="hljs-comment">//         function test() &#123;&#125; //2</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> name = <span class="hljs-string">&#x27;222&#x27;</span><br><span class="hljs-keyword">var</span> a = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;111&#x27;</span>,<br>  <span class="hljs-attr">say</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.name)<br>  &#125;,<br>&#125;<br><span class="hljs-keyword">var</span> fun = a.say <span class="hljs-comment">//var fun=function() &#123;console.log(this.name)&#125;</span><br>fun() <span class="hljs-comment">///222 //this指向window</span><br>a.say() <span class="hljs-comment">//111 //对象内部的方法this指向a</span><br><span class="hljs-keyword">var</span> b = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;333&#x27;</span>,<br>  <span class="hljs-attr">say</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">fun</span>) </span>&#123;<br>    fun() <span class="hljs-comment">//+function() &#123;console.log(this.name)&#125;();</span><br>  &#125;,<br>&#125;<br>b.say(a.say) <span class="hljs-comment">//222 //this指向window</span><br>b.say = a.say <span class="hljs-comment">//function() &#123;console.log(this.name)&#125;</span><br>b.say() <span class="hljs-comment">//333</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">var</span> marty = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;marty&#x27;</span>,<br>    <span class="hljs-attr">printNmae</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>      <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.name)<br>    &#125;,<br>  &#125;<br>  <span class="hljs-keyword">var</span> test1 = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;test1&#x27;</span>,<br>  &#125;<br>  <span class="hljs-keyword">var</span> test2 = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;test2&#x27;</span>,<br>  &#125;<br>  <span class="hljs-keyword">var</span> test3 = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;test3&#x27;</span>,<br>  &#125;<br>  test3.printNmae = marty.printNmae<br>  marty.printNmae.call(test1) <span class="hljs-comment">//test1</span><br>  marty.printNmae.apply(test2) <span class="hljs-comment">//test2</span><br>  marty.printNmae() <span class="hljs-comment">//marty</span><br>  test3.printNmae() <span class="hljs-comment">//test3</span><br>&#125;<br>test()<br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> bar = &#123;<br>  <span class="hljs-attr">a</span>: <span class="hljs-string">&#x27;1&#x27;</span>,<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>  bar.a = <span class="hljs-string">&#x27;a&#x27;</span><br>  <span class="hljs-built_in">Object</span>.prototype.b = <span class="hljs-string">&#x27;b&#x27;</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">inner</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(bar.a) <span class="hljs-comment">//a</span><br>    <span class="hljs-built_in">console</span>.log(bar.b) <span class="hljs-comment">//b</span><br>  &#125;<br>&#125;<br>test()()<br></code></pre></div></td></tr></table></figure>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><h3 id="数组基础"><a href="#数组基础" class="headerlink" title="数组基础"></a>数组基础</h3><p>数组字面量声明数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr1 = []<br></code></pre></div></td></tr></table></figure>
<p>Array内置构造函数声明数组(不推荐)</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>() <br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr1 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number">2</span>) <span class="hljs-comment">//如果只填一个纯数字就是数组长度</span><br><span class="hljs-built_in">console</span>.log(arr1.length) <span class="hljs-comment">//2</span><br><span class="hljs-keyword">let</span> arr2 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-string">&#x27;2&#x27;</span>) <span class="hljs-comment">//非纯数字就是数组元素</span><br><span class="hljs-built_in">console</span>.log(arr2.length) <span class="hljs-comment">//1</span><br></code></pre></div></td></tr></table></figure>
<p>不使用new声明函数(不使用)</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = <span class="hljs-built_in">Array</span>()<br></code></pre></div></td></tr></table></figure>
<p>所有数组都继承于Array.prototype属性。<br>实际上数组就是对象的另一种形式</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<br><span class="hljs-comment">//   index:0, 1, 2, 3</span><br><span class="hljs-comment">// index数组元素的下标（索引值）</span><br><span class="hljs-keyword">let</span> obj = &#123; <span class="hljs-number">0</span>: <span class="hljs-number">1</span>, <span class="hljs-number">1</span>: <span class="hljs-number">2</span>, <span class="hljs-number">2</span>: <span class="hljs-number">3</span>, <span class="hljs-number">3</span>: <span class="hljs-number">4</span> &#125;<br><span class="hljs-keyword">let</span> obj1 = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;a&#x27;</span>,<br>&#125;<br><span class="hljs-comment">//obj1.name -&gt; obj1[&#x27;name&#x27;]</span><br><br><span class="hljs-built_in">console</span>.log(arr[<span class="hljs-number">2</span>]) <span class="hljs-comment">//3</span><br><span class="hljs-built_in">console</span>.log(obj[<span class="hljs-number">2</span>]) <span class="hljs-comment">//3</span><br></code></pre></div></td></tr></table></figure>
<h4 id="稀松数组"><a href="#稀松数组" class="headerlink" title="稀松数组"></a>稀松数组</h4><p>数组不一定每一位都有值，也可以没有值，但是最后一位没有值，默认不计等于没有最后一位</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, , ,]<br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">//[empty, 1, 2, empty × 2]</span><br><span class="hljs-built_in">console</span>.log(arr.length) <span class="hljs-comment">//5</span><br></code></pre></div></td></tr></table></figure>
<p>使用构造函数不可以创建稀松数组。因为字面量创建数组是已经成型的数组，构造函数创建数组是传参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number">1</span>,,<span class="hljs-number">2</span>)<span class="hljs-comment">//Unexpected token &#x27;,&#x27;</span><br></code></pre></div></td></tr></table></figure>
<h3 id="数组方法"><a href="#数组方法" class="headerlink" title="数组方法"></a>数组方法</h3><p>数组的方法是继承数组原型上的方法Array.prototype<br>修改原数组：<code>push</code>/<code>unshift</code> <code>pop</code>/<code>shift</code> <code>reverse</code> <code>splice</code> <code>sort</code><br>新建数组：<code>concat</code> <code>toString</code> <code>slice</code> <code>join</code>/<code>split</code></p>
<h4 id="push"><a href="#push" class="headerlink" title="push"></a>push</h4><p>在数组最后添加元素，返回值是执行了方法以后数组的长度</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br><span class="hljs-keyword">let</span> a = arr.push(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>)<br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//5</span><br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">//[1, 2, 3, 2, 2]</span><br></code></pre></div></td></tr></table></figure>
<p>手写push方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br><span class="hljs-built_in">Array</span>.prototype.myPush = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">arguments</span>.length; i++) &#123;<br>    <span class="hljs-built_in">this</span>[<span class="hljs-built_in">this</span>.length] = <span class="hljs-built_in">arguments</span>[i]<br>  &#125;<br>  <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.length<br>&#125;<br>arr.myPush(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">//[1, 2, 3, 1, 2]</span><br></code></pre></div></td></tr></table></figure>
<p>push原理</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">Array</span>.prototype.push = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">element</span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>[<span class="hljs-built_in">this</span>.length] = element<br>  <span class="hljs-built_in">this</span>.length++<br>&#125;<br></code></pre></div></td></tr></table></figure>
<h4 id="unshift"><a href="#unshift" class="headerlink" title="unshift"></a>unshift</h4><p>在数组最前面添加元素，返回值是执行了方法以后数组的长度</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br><span class="hljs-keyword">let</span> a = arr.unshift(<span class="hljs-string">&#x27;2&#x27;</span>, <span class="hljs-string">&#x27;4&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//5</span><br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">//[&#x27;2&#x27;, &#x27;4&#x27;, 1, 2, 3]</span><br></code></pre></div></td></tr></table></figure>
<p>手写unshift方法1，使用splice方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>]<br><span class="hljs-built_in">Array</span>.prototype.myUnshift = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> pos = <span class="hljs-number">0</span><br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">arguments</span>.length; i++) &#123;<br>    <span class="hljs-built_in">this</span>.splice(pos, <span class="hljs-number">0</span>, <span class="hljs-built_in">arguments</span>[i])<br>    pos++<br>  &#125;<br>  <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.length<br>&#125;<br>arr.myUnshift(<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">//[&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;, &#x27;f&#x27;]</span><br></code></pre></div></td></tr></table></figure>
<p>手写unshift方法2，将类数组arguments转换成数组，然后使用concat方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>]<br><span class="hljs-built_in">Array</span>.prototype.myUnshift = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> argArr = <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>)<br>  <span class="hljs-keyword">return</span> argArr.concat(<span class="hljs-built_in">this</span>)<br>&#125;<br><span class="hljs-keyword">let</span> newArr = arr.myUnshift(<span class="hljs-string">&#x27;a&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(newArr) <span class="hljs-comment">//[&#x27;a&#x27;, &#x27;d&#x27;, &#x27;e&#x27;, &#x27;f&#x27;]</span><br></code></pre></div></td></tr></table></figure>
<h4 id="pop"><a href="#pop" class="headerlink" title="pop"></a>pop</h4><p>删除数组最后一位，返回删除的值。pop没有参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br><span class="hljs-keyword">let</span> a = arr.pop()<br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//3</span><br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">//[1, 2]</span><br></code></pre></div></td></tr></table></figure>
<h4 id="shift"><a href="#shift" class="headerlink" title="shift"></a>shift</h4><p>删除现在数组第一位，返回删除的值</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>]<br><span class="hljs-keyword">let</span> a = arr.shift()<br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//a</span><br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">//[&#x27;b&#x27;, &#x27;c&#x27;]</span><br></code></pre></div></td></tr></table></figure>
<h4 id="reverse"><a href="#reverse" class="headerlink" title="reverse"></a>reverse</h4><p>reverse数组倒序，返回值是倒序后的数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>]<br><span class="hljs-keyword">let</span> a = arr.reverse()<br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//[&#x27;c&#x27;, &#x27;b&#x27;, &#x27;a&#x27;]</span><br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">//[&#x27;c&#x27;, &#x27;b&#x27;, &#x27;a&#x27;]</span><br></code></pre></div></td></tr></table></figure>
<h4 id="splice"><a href="#splice" class="headerlink" title="splice"></a>splice</h4><p>splice(开始项下标，剪切长度，剪切位置开始添加数据)</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>]<br>arr.splice(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">//[&#x27;a&#x27;]</span><br><span class="hljs-keyword">let</span> arr1 = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>]<br>arr1.splice(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br><span class="hljs-built_in">console</span>.log(arr1) <span class="hljs-comment">//[&#x27;a&#x27;, 1, 2, 3, &#x27;c&#x27;]</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>]<br>arr.splice(<span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;c&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]</span><br><br><span class="hljs-keyword">let</span> arr1 = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>]<br>arr1.splice(-<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;c&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(arr1) <span class="hljs-comment">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]</span><br></code></pre></div></td></tr></table></figure>
<h4 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h4><p>sort按照ASCII码排序，返回排序以后的数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [-<span class="hljs-number">1</span>, -<span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">8</span>, <span class="hljs-number">2</span>]<br>arr.sort()<br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">// [-1, -5, 0, 2, 8]</span><br><span class="hljs-keyword">let</span> arr1 = [<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;z&#x27;</span>, <span class="hljs-string">&#x27;h&#x27;</span>, <span class="hljs-string">&#x27;i&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>]<br>arr1.sort()<br><span class="hljs-built_in">console</span>.log(arr1) <span class="hljs-comment">//[&#x27;a&#x27;, &#x27;b&#x27;, &#x27;h&#x27;, &#x27;i&#x27;, &#x27;z&#x27;]</span><br><span class="hljs-keyword">let</span> arr2 = [<span class="hljs-number">27</span>, <span class="hljs-number">49</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>]<br>arr2.sort()<br><span class="hljs-built_in">console</span>.log(arr2) <span class="hljs-comment">//[27, 49, 5, 7]</span><br></code></pre></div></td></tr></table></figure>
<h5 id="自定义排序"><a href="#自定义排序" class="headerlink" title="自定义排序"></a>自定义排序</h5><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">sort(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) </span>&#123;<br>  <span class="hljs-comment">//(内部用的冒泡排序)</span><br>  <span class="hljs-comment">//return 返回值</span><br>&#125;)<br></code></pre></div></td></tr></table></figure>
<p>参数 a，b<br>返回值：1、负值，a就排在前<br>2、正值，b就排在前<br>3、0        ，保持不动</p>
<h5 id="升序"><a href="#升序" class="headerlink" title="升序"></a>升序</h5><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">27</span>, <span class="hljs-number">49</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>]<br>arr.sort(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) </span>&#123;<br>  <span class="hljs-keyword">if</span> (a &gt; b) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span><br>  &#125;<br>&#125;)<br><span class="hljs-comment">// arr.sort(function (a, b) &#123;</span><br><span class="hljs-comment">//   return a - b</span><br><span class="hljs-comment">// &#125;)</span><br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">//[5, 7, 27, 49]</span><br></code></pre></div></td></tr></table></figure>
<h5 id="降序"><a href="#降序" class="headerlink" title="降序"></a>降序</h5><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">27</span>, <span class="hljs-number">49</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>]<br>arr.sort(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> b - a<br>&#125;)<br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">//[49, 27, 7, 5]</span><br></code></pre></div></td></tr></table></figure>
<h5 id="随机排序"><a href="#随机排序" class="headerlink" title="随机排序"></a>随机排序</h5><p><code>Math.random( )</code> 返回随机 ( 0, 1 ] 之间的数</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>arr.sort(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> rand = <span class="hljs-built_in">Math</span>.random()<br>  <span class="hljs-keyword">if</span> (rand - <span class="hljs-number">0.5</span> &gt; <span class="hljs-number">0</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span><br>  &#125;<br>&#125;)<br><span class="hljs-built_in">console</span>.log(arr)<br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr2 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>arr2.sort(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.random() - <span class="hljs-number">0.5</span><br>&#125;)<br><span class="hljs-built_in">console</span>.log(arr2)<br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<br>  &#123;<br>    <span class="hljs-attr">son</span>: <span class="hljs-string">&#x27;Jenny&#x27;</span>,<br>    <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,<br>  &#125;,<br>  &#123;<br>    <span class="hljs-attr">son</span>: <span class="hljs-string">&#x27;Jone&#x27;</span>,<br>    <span class="hljs-attr">age</span>: <span class="hljs-number">10</span>,<br>  &#125;,<br>  &#123;<br>    <span class="hljs-attr">son</span>: <span class="hljs-string">&#x27;Crytal&#x27;</span>,<br>    <span class="hljs-attr">age</span>: <span class="hljs-number">16</span>,<br>  &#125;,<br>  &#123;<br>    <span class="hljs-attr">son</span>: <span class="hljs-string">&#x27;Ben&#x27;</span>,<br>    <span class="hljs-attr">age</span>: <span class="hljs-number">3</span>,<br>  &#125;,<br>]<br>arr.sort(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) </span>&#123;<br>  <span class="hljs-comment">// if (a.age &gt; b.age) &#123;</span><br>  <span class="hljs-comment">//   return 1</span><br>  <span class="hljs-comment">// &#125; else &#123;</span><br>  <span class="hljs-comment">//   return -1</span><br>  <span class="hljs-comment">// &#125;</span><br>  <span class="hljs-keyword">return</span> a.age - b.age<br>&#125;)<br><span class="hljs-built_in">console</span>.log(arr)<br><span class="hljs-comment">// 0: &#123;son: &#x27;Ben&#x27;, age: 3&#125;</span><br><span class="hljs-comment">// 1: &#123;son: &#x27;Jone&#x27;, age: 10&#125;</span><br><span class="hljs-comment">// 2: &#123;son: &#x27;Crytal&#x27;, age: 16&#125;</span><br><span class="hljs-comment">// 3: &#123;son: &#x27;Jenny&#x27;, age: 18&#125;</span><br><span class="hljs-comment">// length: 4</span><br><span class="hljs-comment">// [[Prototype]]: Array(0)</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;123&#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;12345&#x27;</span>, <span class="hljs-string">&#x27;1234567&#x27;</span>]<br>arr.sort(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) </span>&#123;<br>  <span class="hljs-comment">// if (a.length &gt; b.length) &#123;</span><br>  <span class="hljs-comment">//   return 1</span><br>  <span class="hljs-comment">// &#125; else &#123;</span><br>  <span class="hljs-comment">//   return -1</span><br>  <span class="hljs-comment">// &#125;</span><br>  <span class="hljs-keyword">return</span> a.length - b.length<br>&#125;)<br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">//[&#x27;1&#x27;, &#x27;123&#x27;, &#x27;12345&#x27;, &#x27;1234567&#x27;]</span><br></code></pre></div></td></tr></table></figure>
<p>数组按照元素的字节数排序<br>Unicode 0-255 一个字节，256-  两个字节</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getBytes</span>(<span class="hljs-params">str</span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> bytes = str.length<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; str.length; i++) &#123;<br>    <span class="hljs-keyword">if</span> (str.charCodeAt(i) &gt; <span class="hljs-number">255</span>) &#123;<br>      bytes++<br>    &#125;<br>  &#125;<br>  <span class="hljs-keyword">return</span> bytes<br>&#125;<br><span class="hljs-built_in">console</span>.log(getBytes(<span class="hljs-string">&#x27;我爱你&#x27;</span>)) <span class="hljs-comment">//6</span><br><br><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;我爱你&#x27;</span>, <span class="hljs-string">&#x27;Ok&#x27;</span>, <span class="hljs-string">&#x27;Hello&#x27;</span>, <span class="hljs-string">&#x27;你说什么&#x27;</span>, <span class="hljs-string">&#x27;可以&#x27;</span>]<br>arr.sort(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> getBytes(a) - getBytes(b)<br>&#125;)<br><span class="hljs-built_in">console</span>.log(arr) <br><span class="hljs-comment">//[&#x27;Ok&#x27;, &#x27;可以&#x27;, &#x27;Hello&#x27;, &#x27;我爱你&#x27;, &#x27;你说什么&#x27;]</span><br></code></pre></div></td></tr></table></figure>
<h4 id="concat"><a href="#concat" class="headerlink" title="concat"></a>concat</h4><p>将两个数组合并，返回合并后的新数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr1 = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>]<br><span class="hljs-keyword">let</span> arr2 = [<span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>]<br><span class="hljs-keyword">let</span> arr3 = arr1.concat(arr2)<br><span class="hljs-keyword">let</span> arr4 = arr2.concat(arr1)<br><span class="hljs-built_in">console</span>.log(arr3) <span class="hljs-comment">//[&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;, &#x27;f&#x27;]</span><br><span class="hljs-built_in">console</span>.log(arr4) <span class="hljs-comment">//[&#x27;d&#x27;, &#x27;e&#x27;, &#x27;f&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span><br></code></pre></div></td></tr></table></figure>
<h4 id="toString"><a href="#toString" class="headerlink" title="toString"></a>toString</h4><p>将数组转换成字符串</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>]<br><span class="hljs-keyword">let</span> arr1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br><span class="hljs-built_in">console</span>.log(arr.toString()) <span class="hljs-comment">//a,b,c</span><br><span class="hljs-built_in">console</span>.log(arr1.toString()) <span class="hljs-comment">//1,2,3</span><br></code></pre></div></td></tr></table></figure>
<h4 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h4><p><code>array.slice(start, end)</code>，截取数组的一部分，返回截取的新数组<br>参数可选，[ start , end ) 包含start, end不包含</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>]<br><span class="hljs-keyword">let</span> arr1 = arr.slice()<br><span class="hljs-built_in">console</span>.log(arr1) <span class="hljs-comment">//[&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span><br><span class="hljs-keyword">let</span> arr2 = arr.slice(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br><span class="hljs-built_in">console</span>.log(arr2) <span class="hljs-comment">//[&#x27;b&#x27;]</span><br><span class="hljs-keyword">let</span> arr3 = arr.slice(<span class="hljs-number">1</span>)<br><span class="hljs-built_in">console</span>.log(arr3) <span class="hljs-comment">//[&#x27;b&#x27;, &#x27;c&#x27;]</span><br><span class="hljs-keyword">let</span> arr4 = arr.slice(-<span class="hljs-number">3</span>, <span class="hljs-number">2</span>)<br><span class="hljs-built_in">console</span>.log(arr4) <span class="hljs-comment">//[&#x27;a&#x27;, &#x27;b&#x27;]</span><br></code></pre></div></td></tr></table></figure>
<h4 id="join-split"><a href="#join-split" class="headerlink" title="join/split"></a>join/split</h4><p>join( )把数组中的所有元素放入一个字符串，参数作为分隔符<br>split( )把一个字符串分割成字符串数组，第一个参数要和被分割的分隔符一致，第二个参数可选是分割结束位置</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>]<br><span class="hljs-keyword">let</span> arr1 = arr.join(<span class="hljs-string">&#x27;-&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(arr1) <span class="hljs-comment">//a-b-c</span><br><span class="hljs-keyword">let</span> arr2 = arr.join(<span class="hljs-number">0</span>)<br><span class="hljs-built_in">console</span>.log(arr2) <span class="hljs-comment">//a0b0c</span><br><br><span class="hljs-keyword">let</span> arr3 = arr1.split(<span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-number">2</span>)<br><span class="hljs-built_in">console</span>.log(arr3) <span class="hljs-comment">//[&#x27;a&#x27;, &#x27;b&#x27;]</span><br><br><span class="hljs-keyword">let</span> arr4 = arr2.split(<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">4</span>)<br><span class="hljs-built_in">console</span>.log(arr4) <span class="hljs-comment">//[&#x27;a&#x27;, &#x27;0&#x27;, &#x27;b&#x27;, &#x27;0&#x27;]</span><br></code></pre></div></td></tr></table></figure>
<h3 id="类数组"><a href="#类数组" class="headerlink" title="类数组"></a>类数组</h3><p>类数组一定要有下标和值对应的形式，还有length属性<br>数组和类数组都有length属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">//Object.prototype</span><br><span class="hljs-keyword">let</span> obj = &#123;<br>  <span class="hljs-number">0</span>: <span class="hljs-number">1</span>,<br>  <span class="hljs-number">1</span>: <span class="hljs-number">2</span>,<br>  <span class="hljs-number">2</span>: <span class="hljs-number">3</span>,<br>  <span class="hljs-attr">length</span>: <span class="hljs-number">3</span>,<br>  <span class="hljs-comment">// push: Array.prototype.push,</span><br>  <span class="hljs-comment">// splice: Array.prototype.splice,</span><br>&#125;<br><span class="hljs-built_in">Object</span>.prototype.push = <span class="hljs-built_in">Array</span>.prototype.push<br><span class="hljs-built_in">Object</span>.prototype.splice = <span class="hljs-built_in">Array</span>.prototype.splice<br>obj.push(<span class="hljs-number">4</span>)<br><span class="hljs-built_in">console</span>.log(obj)<br><span class="hljs-comment">// Object(4) [1, 2, 3, 4]</span><br><span class="hljs-comment">// 0: 1</span><br><span class="hljs-comment">// 1: 2</span><br><span class="hljs-comment">// 2: 3</span><br><span class="hljs-comment">// 3: 4</span><br><span class="hljs-comment">// length: 4</span><br><span class="hljs-comment">// [[Prototype]]: Object</span><br></code></pre></div></td></tr></table></figure>
<p>arguments是类数组，因为它并没有继承Array.prototype,继承的是Object.prototype。所以没有数组的push方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">arguments</span>)<br>&#125;<br>test(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br><span class="hljs-comment">// Arguments(3) [1, 2, 3, callee: ƒ, Symbol(Symbol.iterator): ƒ]</span><br><span class="hljs-comment">//    0: 1</span><br><span class="hljs-comment">//    1: 2</span><br><span class="hljs-comment">//    2: 3</span><br><span class="hljs-comment">//    callee: ƒ test()</span><br><span class="hljs-comment">//    length: 3</span><br><span class="hljs-comment">//    Symbol(Symbol.iterator): ƒ values()</span><br><span class="hljs-comment">//    [[Prototype]]: Object</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test2</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">arguments</span>.push(<span class="hljs-number">4</span>) <span class="hljs-comment">// arguments.push is not a function</span><br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">arguments</span>)<br>&#125;<br>test2(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br></code></pre></div></td></tr></table></figure>
<p>自己声明的数组，原型上有Array.prototype</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br><span class="hljs-built_in">console</span>.log(arr)<br><span class="hljs-comment">// [1, 2, 3]</span><br><span class="hljs-comment">// 0: 1</span><br><span class="hljs-comment">// 1: 2</span><br><span class="hljs-comment">// 2: 3</span><br><span class="hljs-comment">// length: 3</span><br><span class="hljs-comment">// [[Prototype]]: Array(0)</span><br></code></pre></div></td></tr></table></figure>
<h4 id="类数组转化成数组"><a href="#类数组转化成数组" class="headerlink" title="类数组转化成数组"></a>类数组转化成数组</h4><p><code>Array.prototype.slice.call()</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> arArr = <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>)<br>  arArr.push(<span class="hljs-number">1</span>)<br>  <span class="hljs-built_in">console</span>.log(arArr)<br>&#125;<br>test(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<span class="hljs-comment">//[1, 2, 3, 1]</span><br></code></pre></div></td></tr></table></figure>


<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> obj = &#123;<br>  <span class="hljs-number">2</span>: <span class="hljs-number">3</span>,<br>  <span class="hljs-number">3</span>: <span class="hljs-number">4</span>,<br>  <span class="hljs-attr">length</span>: <span class="hljs-number">2</span>,<br>  <span class="hljs-attr">push</span>: <span class="hljs-built_in">Array</span>.prototype.push,<br>  <span class="hljs-attr">splice</span>: <span class="hljs-built_in">Array</span>.prototype.splice,<br>&#125;<br>obj.push(<span class="hljs-number">1</span>)<br>obj.push(<span class="hljs-number">2</span>)<br><span class="hljs-built_in">console</span>.log(obj)<br><span class="hljs-comment">//push了两次，长度变为4，第三位和第四位被替换掉了</span><br><span class="hljs-comment">//Object(4) [empty × 2, 1, 2, push: ƒ, splice: ƒ]</span><br><span class="hljs-comment">// 2: 1</span><br><span class="hljs-comment">// 3: 2</span><br><span class="hljs-comment">// length: 4</span><br><span class="hljs-comment">// push: ƒ push()</span><br><span class="hljs-comment">// splice: ƒ splice()</span><br><span class="hljs-comment">// [[Prototype]]: Object</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">arguments</span>) <span class="hljs-comment">//类数组</span><br>&#125;<br>test() <span class="hljs-comment">//object</span><br></code></pre></div></td></tr></table></figure>


<h3 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h3><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>]<br><span class="hljs-built_in">Array</span>.prototype.unique = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> temp = &#123;&#125;,<br>    newArr = []<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">this</span>.length; i++) &#123;<br>    <span class="hljs-keyword">if</span> (!temp.hasOwnProperty(<span class="hljs-built_in">this</span>[i])) &#123;<br>      <span class="hljs-comment">//解决temp[0]是0的情况</span><br>      temp[<span class="hljs-built_in">this</span>[i]] = <span class="hljs-built_in">this</span>[i]<br>      newArr.push(<span class="hljs-built_in">this</span>[i])<br>    &#125;<br>  &#125;<br>  <span class="hljs-keyword">return</span> newArr<br>&#125;<br><span class="hljs-built_in">console</span>.log(arr.unique()) <span class="hljs-comment">//[0, 1, 2, 3, &#x27;a&#x27;]</span><br></code></pre></div></td></tr></table></figure>
<h4 id="字符串去重"><a href="#字符串去重" class="headerlink" title="字符串去重"></a>字符串去重</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;11122200aabb&#x27;</span><br><span class="hljs-built_in">String</span>.prototype.unique = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> temp = &#123;&#125;,<br>    newStr = <span class="hljs-string">&#x27;&#x27;</span><br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">this</span>.length; i++) &#123;<br>    <span class="hljs-keyword">if</span> (!temp.hasOwnProperty(<span class="hljs-built_in">this</span>[i])) &#123;<br>      temp[<span class="hljs-built_in">this</span>[i]] = <span class="hljs-built_in">this</span>[i]<br>      newStr += <span class="hljs-built_in">this</span>[i]<br>    &#125;<br>  &#125;<br>  <span class="hljs-keyword">return</span> newStr<br>&#125;<br><span class="hljs-built_in">console</span>.log(str.unique()) <span class="hljs-comment">//120ab</span><br></code></pre></div></td></tr></table></figure>
<p>找到重复的第一个数</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;rnvhnvbdashguiqdrpjgdhrghbdrgd&#x27;</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params">str</span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> temp = &#123;&#125;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; str.length; i++) &#123;<br>    <span class="hljs-keyword">if</span> (temp.hasOwnProperty(str[i])) &#123;<br>      temp[str[i]]++<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      temp[str[i]] = <span class="hljs-number">1</span><br>    &#125;<br>  &#125;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> temp) &#123;<br>    <span class="hljs-keyword">if</span> (temp[key] === <span class="hljs-number">1</span>) &#123;<br>      <span class="hljs-keyword">return</span> key<br>    &#125;<br>  &#125;<br>&#125;<br><span class="hljs-built_in">console</span>.log(test(str)) <span class="hljs-comment">//a</span><br></code></pre></div></td></tr></table></figure>
<h2 id="JS错误信息类型"><a href="#JS错误信息类型" class="headerlink" title="JS错误信息类型"></a>JS错误信息类型</h2><h3 id="SyntaxError-语法错误"><a href="#SyntaxError-语法错误" class="headerlink" title="SyntaxError 语法错误"></a>SyntaxError 语法错误</h3><h4 id="变量名不规范"><a href="#变量名不规范" class="headerlink" title="变量名不规范"></a>变量名不规范</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> <span class="hljs-number">1</span>=<span class="hljs-number">1</span> <span class="hljs-comment">//Unexpected number 以外的数字</span><br><span class="hljs-keyword">let</span> 1ab=<span class="hljs-number">1</span> <span class="hljs-comment">//Invalid or unexpected token 无效或意外的令牌</span><br></code></pre></div></td></tr></table></figure>
<h4 id="关键字赋值"><a href="#关键字赋值" class="headerlink" title="关键字赋值"></a>关键字赋值</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">new</span> = <span class="hljs-number">5</span> <span class="hljs-comment">// Unexpected token &#x27;=&#x27; 以外的标记</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> = 1 // <span class="hljs-title">Unexpected</span> <span class="hljs-title">token</span> &#x27;=&#x27; 以外的标记</span><br></code></pre></div></td></tr></table></figure>
<h4 id="基本语法错误"><a href="#基本语法错误" class="headerlink" title="基本语法错误"></a>基本语法错误</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">5</span>: <span class="hljs-comment">//Unexpected token &#x27;:&#x27;</span><br></code></pre></div></td></tr></table></figure>
<h3 id="ReferenceError-引用错误"><a href="#ReferenceError-引用错误" class="headerlink" title="ReferenceError 引用错误"></a>ReferenceError 引用错误</h3><h4 id="变量或者函数未声明"><a href="#变量或者函数未声明" class="headerlink" title="变量或者函数未声明"></a>变量或者函数未声明</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">test() <span class="hljs-comment">//test is not defined</span><br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">//a is not defined</span><br></code></pre></div></td></tr></table></figure>
<h4 id="给无法被赋值的对象赋值"><a href="#给无法被赋值的对象赋值" class="headerlink" title="给无法被赋值的对象赋值"></a>给无法被赋值的对象赋值</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a=<span class="hljs-number">1</span>=<span class="hljs-number">2</span> <span class="hljs-comment">//Invalid left-hand side in assignment 赋值的左侧无效</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span><br><span class="hljs-built_in">console</span>.log(a)=<span class="hljs-number">1</span>;<span class="hljs-comment">//1 Invalid left-hand side in assignment</span><br></code></pre></div></td></tr></table></figure>
<h3 id="RangeError-范围错误"><a href="#RangeError-范围错误" class="headerlink" title="RangeError 范围错误"></a>RangeError 范围错误</h3><h4 id="数组长度为负数"><a href="#数组长度为负数" class="headerlink" title="数组长度为负数"></a>数组长度为负数</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br>arr.length = -<span class="hljs-number">1</span><br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">//Invalid array length 数组无效的长度</span><br></code></pre></div></td></tr></table></figure>
<h4 id="对象参数超出可行范围"><a href="#对象参数超出可行范围" class="headerlink" title="对象参数超出可行范围"></a>对象参数超出可行范围</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> num = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Number</span>(<span class="hljs-number">66.66</span>)<br><span class="hljs-built_in">console</span>.log(num.toFixed(-<span class="hljs-number">1</span>))<br><span class="hljs-comment">//toFixed() digits argument must be between 0 and 100 at Number.toFixed (&lt;anonymous&gt;)</span><br></code></pre></div></td></tr></table></figure>
<h3 id="TypeError-类型错误"><a href="#TypeError-类型错误" class="headerlink" title="TypeError 类型错误"></a>TypeError 类型错误</h3><h4 id="调用不存在的方法"><a href="#调用不存在的方法" class="headerlink" title="调用不存在的方法"></a>调用不存在的方法</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-number">123</span>() <span class="hljs-comment">//123 is not a function</span><br><br><span class="hljs-keyword">let</span> obj = &#123;&#125;<br>obj.say() <span class="hljs-comment">//obj.say is not a function</span><br></code></pre></div></td></tr></table></figure>
<h4 id="实例化原始值"><a href="#实例化原始值" class="headerlink" title="实例化原始值"></a>实例化原始值</h4><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-keyword">new</span> <span class="hljs-string">&#x27;string&#x27;</span>() <span class="hljs-comment">//&quot;string&quot; is not a constructor</span><br><span class="hljs-keyword">let</span> a = <span class="hljs-keyword">new</span> <span class="hljs-number">123</span>() <span class="hljs-comment">//123 is not a constructor</span><br></code></pre></div></td></tr></table></figure>
<h3 id="URIError-URI错误"><a href="#URIError-URI错误" class="headerlink" title="URIError URI错误"></a>URIError URI错误</h3><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">encodeURI</span>(<span class="hljs-string">&#x27;http://你好&#x27;</span>)) <span class="hljs-comment">//http://%E4%BD%A0%E5%A5%BD 将中文转译成对应编码</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">decodeURI</span>(<span class="hljs-string">&#x27;%E4%BD%A0%E5%A5%BD&#x27;</span>)) <span class="hljs-comment">//你好 将中文对应的编码转译成中文</span><br><span class="hljs-keyword">let</span> str = <span class="hljs-built_in">decodeURI</span>(<span class="hljs-string">&#x27;%cvav&#x27;</span>) <span class="hljs-comment">//URI malformed at decodeURI (&lt;anonymous&gt;) URI格式不正确</span><br></code></pre></div></td></tr></table></figure>
<h3 id="EvalError-eval函数执行错误"><a href="#EvalError-eval函数执行错误" class="headerlink" title="EvalError eval函数执行错误"></a>EvalError eval函数执行错误</h3><h3 id="人为制造错误"><a href="#人为制造错误" class="headerlink" title="人为制造错误"></a>人为制造错误</h3><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&#x27;代码错误&#x27;</span>)) <span class="hljs-comment">//Error: 代码错误</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">new</span> <span class="hljs-built_in">SyntaxError</span>(<span class="hljs-string">&#x27;代码错误&#x27;</span>)) <span class="hljs-comment">//SyntaxError: 代码错误</span><br></code></pre></div></td></tr></table></figure>
<h3 id="手动抛出错误的方法"><a href="#手动抛出错误的方法" class="headerlink" title="手动抛出错误的方法"></a>手动抛出错误的方法</h3><h4 id="try-catch-finally-throw"><a href="#try-catch-finally-throw" class="headerlink" title="try catch finally throw"></a>try catch finally throw</h4><p>try是可能出错的，finally是一定要执行的，<br>catch捕获try的错误信息，throw自定义错误信息</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">try</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;正常执行1&#x27;</span>) <span class="hljs-comment">//正常执行1</span><br>  <span class="hljs-built_in">console</span>.log(a)<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;正常执行2&#x27;</span>)<br>&#125; <span class="hljs-keyword">catch</span> (e) &#123;<br>  <span class="hljs-comment">// console.log(e) //eferenceError: a is not defined</span><br>  <span class="hljs-built_in">console</span>.log(e.name + <span class="hljs-string">&#x27;:&#x27;</span> + e.message) <span class="hljs-comment">//ReferenceError:a is not defined</span><br>&#125; <span class="hljs-keyword">finally</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;正常执行3&#x27;</span>) <span class="hljs-comment">//正常执行3</span><br>&#125;<br></code></pre></div></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> jsonStr = <span class="hljs-string">&#x27;&#x27;</span><br><span class="hljs-keyword">try</span> &#123;<br>  <span class="hljs-keyword">if</span> (jsonStr === <span class="hljs-string">&#x27;&#x27;</span>) &#123;<br>    <span class="hljs-keyword">throw</span> <span class="hljs-string">&#x27;JSON字符串为空&#x27;</span><br>  &#125;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;我要执行了&#x27;</span>) <span class="hljs-comment">//我要执行了</span><br>  <span class="hljs-keyword">let</span> json = <span class="hljs-built_in">JSON</span>.parse(jsonStr)<br>  <span class="hljs-built_in">console</span>.log(json)<br>&#125; <span class="hljs-keyword">catch</span> (e) &#123;<br>  <span class="hljs-built_in">console</span>.log(e) <span class="hljs-comment">//JSON字符串为空</span><br>  <span class="hljs-keyword">let</span> errorTip = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;数据传输失败&#x27;</span>,<br>    <span class="hljs-attr">errorCode</span>: <span class="hljs-string">&#x27;1020&#x27;</span>,<br>  &#125;<br>  <span class="hljs-built_in">console</span>.log(errorTip) <span class="hljs-comment">//&#123;name: &#x27;数据传输失败&#x27;, errorCode: &#x27;1020&#x27;&#125;</span><br>&#125;<br></code></pre></div></td></tr></table></figure>
<h2 id="垃圾回收"><a href="#垃圾回收" class="headerlink" title="垃圾回收"></a>垃圾回收</h2><p>标记清除、引用计数</p>
<ol>
<li>找出不再使用的变量</li>
<li>释放其占用内存</li>
<li>固定时间间隔运行<h3 id="闭包解除引用"><a href="#闭包解除引用" class="headerlink" title="闭包解除引用"></a>闭包解除引用</h3><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test1</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    a++<br>    <span class="hljs-built_in">console</span>.log(a)<br>  &#125;<br>&#125;<br><span class="hljs-keyword">let</span> test = test1()<br>test() <span class="hljs-comment">//2</span><br>test() <span class="hljs-comment">//3</span><br>test = <span class="hljs-literal">null</span><br>test() <span class="hljs-comment">//test is not a function</span><br></code></pre></div></td></tr></table></figure></li>
</ol>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/JavaScript/">JavaScript</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/JavaScript/">JavaScript</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/03/03/HTML%E5%9F%BA%E7%A1%80/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">HTML基础</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/01/28/ES6%E5%AF%BC%E5%87%BA%E8%B5%84%E6%BA%90%E4%BB%A5%E5%8F%8A%E5%BC%95%E5%85%A5%E6%96%B9%E5%BC%8F/">
                        <span class="hidden-mobile">ES6导出资源以及引入方式</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js', function () {
        new Valine({
          el: "#valine",
          app_id: "wvn0ubBMNgOQNv8Swlonq3X9-gzGzoHsz",
          app_key: "BlsdS19vhoVr77n1TiE2diHr",
          placeholder: "老师们，说点什么吧！",
          path: window.location.pathname,
          avatar: "retro",
          meta: ["nick","mail","link"],
          pageSize: "10",
          lang: "zh-CN",
          highlight: true,
          recordIP: true,
          serverURLs: "https://wvn0ubbm.lc-cn-n1-shared.com",
        });
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> |<i class="iconfont icon-love"></i>| <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- LeanCloud 统计PV -->
        <span id="leancloud-site-pv-container" style="display: none">
            总访问量 
            <span id="leancloud-site-pv"></span>
             次
          </span>
      
      
        <!-- LeanCloud 统计UV -->
        <span id="leancloud-site-uv-container" style="display: none">
            总访客数 
            <span id="leancloud-site-uv"></span>
             人
          </span>
      

    
  </div>


  
  <!-- 备案信息 -->
  <div class="beian">
    <span>
      <a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">
        蜀ICP备2021012542号-1
      </a>
    </span>
    
  </div>


  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.2/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js" ></script>




  <script defer src="/js/leancloud.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      $('#local-search-input').on('click', function() {
        searchFunc(path, 'local-search-input', 'local-search-result');
      });
      $('#modalSearch').on('shown.bs.modal', function() {
        $('#local-search-input').focus();
      });
    })()
  </script>












  

  

  

  

  

  





<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
